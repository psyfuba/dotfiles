

!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=155)}([function(e,t,n){var i=n(2),r=n(14).f,s=n(17),o=n(15),a=n(87),l=n(116),c=n(56);e.exports=function(e,t){var n,u,h,d,f,p=e.target,g=e.global,v=e.stat;if(n=g?i:v?i[p]||a(p,{}):(i[p]||{}).prototype)for(u in t){if(d=t[u],h=e.noTargetGet?(f=r(n,u))&&f.value:n[u],!c(g?u:p+(v?".":"#")+u,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(e.sham||h&&h.sham)&&s(d,"sham",!0),o(n,u,d,e)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(159))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(3);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var i=n(1);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var i=n(2),r=n(89),s=n(12),o=n(52),a=n(93),l=n(118),c=r("wks"),u=i.Symbol,h=l?u:u&&u.withoutSetter||o;e.exports=function(e){return s(c,e)||(a&&s(u,e)?c[e]=u[e]:c[e]=h("Symbol."+e)),c[e]}},function(e,t,n){var i=n(27),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){"use strict";var i,r=n(111),s=n(5),o=n(2),a=n(3),l=n(12),c=n(62),u=n(17),h=n(15),d=n(9).f,f=n(31),p=n(46),g=n(6),v=n(52),m=o.Int8Array,_=m&&m.prototype,y=o.Uint8ClampedArray,w=y&&y.prototype,b=m&&f(m),S=_&&f(_),T=Object.prototype,E=T.isPrototypeOf,L=g("toStringTag"),I=v("TYPED_ARRAY_TAG"),A=r&&!!p&&"Opera"!==c(o.opera),M=!1,C={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},D=function(e){return a(e)&&l(C,c(e))};for(i in C)o[i]||(A=!1);if((!A||"function"!=typeof b||b===Function.prototype)&&(b=function(){throw TypeError("Incorrect invocation")},A))for(i in C)o[i]&&p(o[i],b);if((!A||!S||S===T)&&(S=b.prototype,A))for(i in C)o[i]&&p(o[i].prototype,S);if(A&&f(w)!==S&&p(w,S),s&&!l(S,L))for(i in M=!0,d(S,L,{get:function(){return a(this)?this[I]:void 0}}),C)o[i]&&u(o[i],I,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:M&&I,aTypedArray:function(e){if(D(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(p){if(E.call(b,e))return e}else for(var t in C)if(l(C,i)){var n=o[t];if(n&&(e===n||E.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(s){if(n)for(var i in C){var r=o[i];r&&l(r.prototype,e)&&delete r.prototype[e]}S[e]&&!n||h(S,e,n?t:A&&_[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var i,r;if(s){if(p){if(n)for(i in C)(r=o[i])&&l(r,e)&&delete r[e];if(b[e]&&!n)return;try{return h(b,e,n?t:A&&m[e]||t)}catch(e){}}for(i in C)!(r=o[i])||r[e]&&!n||h(r,e,t)}},isView:function(e){var t=c(e);return"DataView"===t||l(C,t)},isTypedArray:D,TypedArray:b,TypedArrayPrototype:S}},function(e,t,n){var i=n(5),r=n(113),s=n(4),o=n(29),a=Object.defineProperty;t.f=i?a:function(e,t,n){if(s(e),t=o(t,!0),s(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(16);e.exports=function(e){return Object(i(e))}},function(e,t,n){"use strict";class i{constructor(e){this.communicatorID=e,this.promiseID="",this.info={}}}class r{static shared(){return void 0!==r.instance&&null!==r.instance||(r.instance=new r),r.instance}constructor(){this.communicatorID=r.generateUUID(),this.promises=new Map,this.onConnectListeners={tabs:[],runtime:[]},this.onPortMessageListeners=[],this.messageRuntimeListeners=[],this.tabActionListeners=[],void 0!==window.safari&&window.safari.self.addEventListener("message",this.processResponse.bind(this))}getFile(e){return new Promise((t,n)=>{var s=r.generateUUID();this.promises.set(s,{resolve:t,reject:n});var o=new i(this.communicatorID);o.promiseID=s,o.info.filename=e;try{void 0===window.safari?window.webkit.messageHandlers.files.postMessage(o):window.safari.extension.dispatchMessage("files",o)}catch(e){console.error(e)}})}downlaod(e){return new Promise((t,n)=>{var s=r.generateUUID();this.promises.set(s,{resolve:t,reject:n});var o=new i(this.communicatorID);o.promiseID=s,o.info.url=e;try{void 0===window.safari?window.webkit.messageHandlers.downlaod.postMessage(o):window.safari.extension.dispatchMessage("download",o)}catch(e){console.error(e)}})}tabs(e,t){return new Promise((n,s)=>{var o=r.generateUUID();this.promises.set(o,{resolve:n,reject:s});var a=new i(this.communicatorID);a.promiseID=o,a.info.action=t,a.info.queryInfo=e;try{void 0===window.safari?window.webkit.messageHandlers.tabs.postMessage(a):window.safari.extension.dispatchMessage("tabs",a)}catch(e){console.error(e)}})}sendMessage(e){return new Promise((t,n)=>{var s=r.generateUUID();this.promises.set(s,{resolve:t,reject:n});var o=new i(this.communicatorID);o.promiseID=s,o.info.userInfo=e;try{void 0===window.safari?window.webkit.messageHandlers.runtime.postMessage(o):window.safari.extension.dispatchMessage("runtime",o)}catch(e){console.error(e)}})}browserAction(e){return new Promise((t,n)=>{var s=r.generateUUID();this.promises.set(s,{resolve:t,reject:n});var o=new i(this.communicatorID);o.promiseID=s,o.info.userInfo=e;try{void 0===window.safari?window.webkit.messageHandlers.browser_action.postMessage(o):window.safari.extension.dispatchMessage("browser_action",o)}catch(e){console.error(e)}})}port(e){return new Promise((t,n)=>{var s=r.generateUUID();this.promises.set(s,{resolve:t,reject:n});var o=new i(this.communicatorID);o.promiseID=s,o.info.portInfo=e;try{void 0===window.safari?window.webkit.messageHandlers.port.postMessage(o):window.safari.extension.dispatchMessage("port",o)}catch(e){console.error(e)}})}static generateUUID(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}processResponse(e){let t=e.message.data;if(-1!==["files_resolve","tabs_resolve","runtime_resolve","port_resolve"].indexOf(e.name)){if(e.message.communicatorID!==this.communicatorID)return;let n=e.message.promiseID;!1===this.resolvePromise(n,t,null)&&console.warn(`Response with promiseID: ${n} cannot not found in map`)}else"runtime"===e.name?this.onMessageRuntimeRecived(t):"onConnectTab"===e.name?this.onConnectTabRecieved(t):"onConnectRuntime"===e.name?this.onConnectRuntimeRecieved(t):"portMessage"===e.name?this.onPortMessageListenersRecieved(t):"tabActions"===e.name?this.onTabActionRecieved(t):console.warn("Recieved message with name:",e.name)}resolvePromise(e,t,n){var i=this.promises.get(e);return void 0!==i&&(n?i.reject(t):i.resolve(t),this.promises.delete(e),!0)}addListenerOnConnectTab(e){this.onConnectListeners.tabs.push(e)}addListenerOnConnectRuntime(e){this.onConnectListeners.runtime.push(e)}onConnectTabRecieved(e){for(const t of this.onConnectListeners.tabs)t(e)}onConnectRuntimeRecieved(e){for(const t of this.onConnectListeners.runtime)t(e)}addListenerOnPortMessageListener(e){this.onPortMessageListeners.push(e)}onPortMessageListenersRecieved(e){for(const t of this.onPortMessageListeners)t(e)}addListenerOnMessageRuntime(e){this.messageRuntimeListeners.push(e)}onMessageRuntimeRecived(e){for(const t of this.messageRuntimeListeners)t(e)}onTabActionRecieved(e){for(const t of this.tabActionListeners)t(e)}addListenerTabAction(e){this.tabActionListeners.push(e)}}r.instance=null,window.communicator=r.shared();t.a=r},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(39),r=n(51),s=n(10),o=n(7),a=n(58),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,h=6==e,d=5==e||h;return function(f,p,g,v){for(var m,_,y=s(f),w=r(y),b=i(p,g,3),S=o(w.length),T=0,E=v||a,L=t?E(f,S):n?E(f,0):void 0;S>T;T++)if((d||T in w)&&(_=b(m=w[T],T,y),e))if(t)L[T]=_;else if(_)switch(e){case 3:return!0;case 5:return m;case 6:return T;case 2:l.call(L,m)}else if(u)return!1;return h?-1:c||u?u:L}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,n){var i=n(5),r=n(66),s=n(37),o=n(22),a=n(29),l=n(12),c=n(113),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=o(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return s(!r.f.call(e,t),e[t])}},function(e,t,n){var i=n(2),r=n(17),s=n(12),o=n(87),a=n(88),l=n(18),c=l.get,u=l.enforce,h=String(String).split("String");(e.exports=function(e,t,n,a){var l=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||s(n,"name")||r(n,"name",t),u(n).source=h.join("string"==typeof t?t:"")),e!==i?(l?!d&&e[t]&&(c=!0):delete e[t],c?e[t]=n:r(e,t,n)):c?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var i=n(5),r=n(9),s=n(37);e.exports=i?function(e,t,n){return r.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i,r,s,o=n(115),a=n(2),l=n(3),c=n(17),u=n(12),h=n(67),d=n(53),f=a.WeakMap;if(o){var p=new f,g=p.get,v=p.has,m=p.set;i=function(e,t){return m.call(p,e,t),t},r=function(e){return g.call(p,e)||{}},s=function(e){return v.call(p,e)}}else{var _=h("state");d[_]=!0,i=function(e,t){return c(e,_,t),t},r=function(e){return u(e,_)?e[_]:{}},s=function(e){return u(e,_)}}e.exports={set:i,get:r,has:s,enforce:function(e){return s(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var i=n(54),r=n(12),s=n(121),o=n(9).f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||o(t,e,{value:s.f(e)})}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var i=n(5),r=n(1),s=n(12),o=Object.defineProperty,a={},l=function(e){throw e};e.exports=function(e,t){if(s(a,e))return a[e];t||(t={});var n=[][e],c=!!s(t,"ACCESSORS")&&t.ACCESSORS,u=s(t,0)?t[0]:l,h=s(t,1)?t[1]:void 0;return a[e]=!!n&&!r((function(){if(c&&!i)return!0;var e={length:-1};c?o(e,1,{enumerable:!0,get:l}):e[1]=1,n.call(e,u,h)}))}},function(e,t,n){var i=n(51),r=n(16);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(16),r=/"/g;e.exports=function(e,t,n,s){var o=String(i(e)),a="<"+t;return""!==n&&(a+=" "+n+'="'+String(s).replace(r,"&quot;")+'"'),a+">"+o+"</"+t+">"}},function(e,t,n){var i=n(1);e.exports=function(e){return i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var i=n(54),r=n(2),s=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?s(i[e])||s(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(11),r=n(65);class s{constructor(e,t){this.uniqueID=void 0===t?"":t,this.type=e,this.uuid=i.a.generateUUID(),this.name="",this.sender=null,this.onMessage=new r.a,this.onDisconnect=new r.a,this.ready=!1,this.postMessageQueue=[]}executeWaitingMessages(){var e=this.postMessageQueue.pop();this.sendMessage(e),0!==this.postMessageQueue.length&&this.executeWaitingMessages()}postMessage(e){this.postMessageQueue.unshift(e),this.ready&&this.executeWaitingMessages()}sendMessage(e){var t={action:s.ACTION.SEND,portUUID:this.uuid,type:this.type,uniqueID:this.uniqueID,data:e};i.a.shared().port(t).then(e=>{}).catch(e=>{console.error("Error runtime "+e)})}disconnect(){}}s.TYPES={TAB:1,RUNTIME:2},s.ACTION={CREATE:1,SEND:2,DISCONECT:3},s.RECIEVER={CONTENT:1,POPUP:2}},function(e,t,n){var i=n(3);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=!1},function(e,t,n){var i=n(12),r=n(10),s=n(67),o=n(97),a=s("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=r(e),i(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t,n){var i=n(9).f,r=n(12),s=n(6)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,s)&&i(e,s,{configurable:!0,value:t})}},function(e,t,n){var i,r=n(4),s=n(94),o=n(91),a=n(53),l=n(119),c=n(86),u=n(67),h=u("IE_PROTO"),d=function(){},f=function(e){return"<script>"+e+"</"+"script>"},p=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=i?function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F);for(var n=o.length;n--;)delete p.prototype[o[n]];return p()};a[h]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=r(e),n=new d,d.prototype=null,n[h]=e):n=p(),void 0===t?n:s(n,t)}},function(e,t,n){"use strict";var i=n(1);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){var i=n(4),r=n(20),s=n(6)("species");e.exports=function(e,t){var n,o=i(e).constructor;return void 0===o||null==(n=i(o)[s])?t:r(n)}},function(e,t,n){"use strict";var i=n(0),r=n(2),s=n(5),o=n(112),a=n(8),l=n(84),c=n(41),u=n(37),h=n(17),d=n(7),f=n(148),p=n(149),g=n(29),v=n(12),m=n(62),_=n(3),y=n(33),w=n(46),b=n(42).f,S=n(150),T=n(13).forEach,E=n(48),L=n(9),I=n(14),A=n(18),M=n(81),C=A.get,D=A.set,x=L.f,O=I.f,V=Math.round,R=r.RangeError,P=l.ArrayBuffer,N=l.DataView,B=a.NATIVE_ARRAY_BUFFER_VIEWS,k=a.TYPED_ARRAY_TAG,U=a.TypedArray,H=a.TypedArrayPrototype,F=a.aTypedArrayConstructor,q=a.isTypedArray,j="BYTES_PER_ELEMENT",W="Wrong length",G=function(e,t){for(var n=0,i=t.length,r=new(F(e))(i);i>n;)r[n]=t[n++];return r},Y=function(e,t){x(e,t,{get:function(){return C(this)[t]}})},K=function(e){var t;return e instanceof P||"ArrayBuffer"==(t=m(e))||"SharedArrayBuffer"==t},z=function(e,t){return q(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},$=function(e,t){return z(e,t=g(t,!0))?u(2,e[t]):O(e,t)},X=function(e,t,n){return!(z(e,t=g(t,!0))&&_(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?x(e,t,n):(e[t]=n.value,e)};s?(B||(I.f=$,L.f=X,Y(H,"buffer"),Y(H,"byteOffset"),Y(H,"byteLength"),Y(H,"length")),i({target:"Object",stat:!0,forced:!B},{getOwnPropertyDescriptor:$,defineProperty:X}),e.exports=function(e,t,n){var s=e.match(/\d+$/)[0]/8,a=e+(n?"Clamped":"")+"Array",l="get"+e,u="set"+e,g=r[a],v=g,m=v&&v.prototype,L={},I=function(e,t){x(e,t,{get:function(){return function(e,t){var n=C(e);return n.view[l](t*s+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var r=C(e);n&&(i=(i=V(i))<0?0:i>255?255:255&i),r.view[u](t*s+r.byteOffset,i,!0)}(this,t,e)},enumerable:!0})};B?o&&(v=t((function(e,t,n,i){return c(e,v,a),M(_(t)?K(t)?void 0!==i?new g(t,p(n,s),i):void 0!==n?new g(t,p(n,s)):new g(t):q(t)?G(v,t):S.call(v,t):new g(f(t)),e,v)})),w&&w(v,U),T(b(g),(function(e){e in v||h(v,e,g[e])})),v.prototype=m):(v=t((function(e,t,n,i){c(e,v,a);var r,o,l,u=0,h=0;if(_(t)){if(!K(t))return q(t)?G(v,t):S.call(v,t);r=t,h=p(n,s);var g=t.byteLength;if(void 0===i){if(g%s)throw R(W);if((o=g-h)<0)throw R(W)}else if((o=d(i)*s)+h>g)throw R(W);l=o/s}else l=f(t),r=new P(o=l*s);for(D(e,{buffer:r,byteOffset:h,byteLength:o,length:l,view:new N(r)});u<l;)I(e,u++)})),w&&w(v,U),m=v.prototype=y(H)),m.constructor!==v&&h(m,"constructor",v),k&&h(m,k,a),L[a]=v,i({global:!0,forced:v!=g,sham:!B},L),j in v||h(v,j,s),j in m||h(m,j,s),E(a)}):e.exports=function(){}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(27),r=Math.max,s=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):s(n,t)}},function(e,t,n){var i=n(20);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var i=n(6),r=n(33),s=n(9),o=i("unscopables"),a=Array.prototype;null==a[o]&&s.f(a,o,{configurable:!0,value:r(null)}),e.exports=function(e){a[o][e]=!0}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var i=n(117),r=n(91).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){var i=n(25);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(53),r=n(3),s=n(12),o=n(9).f,a=n(52),l=n(59),c=a("meta"),u=0,h=Object.isExtensible||function(){return!0},d=function(e){o(e,c,{value:{objectID:"O"+ ++u,weakData:{}}})},f=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,c)){if(!h(e))return"F";if(!t)return"E";d(e)}return e[c].objectID},getWeakData:function(e,t){if(!s(e,c)){if(!h(e))return!0;if(!t)return!1;d(e)}return e[c].weakData},onFreeze:function(e){return l&&f.REQUIRED&&h(e)&&!s(e,c)&&d(e),e}};i[c]=!0},function(e,t,n){"use strict";var i=n(29),r=n(9),s=n(37);e.exports=function(e,t,n){var o=i(t);o in e?r.f(e,o,s(0,n)):e[o]=n}},function(e,t,n){var i=n(4),r=n(126);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,s){return i(n),r(s),t?e.call(n,s):n.__proto__=s,n}}():void 0)},function(e,t,n){var i=n(4),r=n(95),s=n(7),o=n(39),a=n(61),l=n(124),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,u,h){var d,f,p,g,v,m,_,y=o(t,n,u?2:1);if(h)d=e;else{if("function"!=typeof(f=a(e)))throw TypeError("Target is not iterable");if(r(f)){for(p=0,g=s(e.length);g>p;p++)if((v=u?y(i(_=e[p])[0],_[1]):y(e[p]))&&v instanceof c)return v;return new c(!1)}d=f.call(e)}for(m=d.next;!(_=m.call(d)).done;)if("object"==typeof(v=l(d,y,_.value,u))&&v&&v instanceof c)return v;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t,n){"use strict";var i=n(26),r=n(9),s=n(6),o=n(5),a=s("species");e.exports=function(e){var t=i(e),n=r.f;o&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var i=n(16),r="["+n(80)+"]",s=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),a=function(e){return function(t){var n=String(i(t));return 1&e&&(n=n.replace(s,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:a(1),end:a(2),trim:a(3)}},function(e,t,n){var i=n(15);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){var i=n(1),r=n(25),s="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?s.call(e,""):Object(e)}:Object},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},function(e,t){e.exports={}},function(e,t,n){var i=n(2);e.exports=i},function(e,t,n){var i=n(22),r=n(7),s=n(38),o=function(e){return function(t,n,o){var a,l=i(t),c=r(l.length),u=s(o,c);if(e&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,n){var i=n(1),r=/#|\.prototype\./,s=function(e,t){var n=a[o(e)];return n==c||n!=l&&("function"==typeof t?i(t):!!t)},o=s.normalize=function(e){return String(e).replace(r,".").toLowerCase()},a=s.data={},l=s.NATIVE="N",c=s.POLYFILL="P";e.exports=s},function(e,t,n){var i=n(117),r=n(91);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(3),r=n(43),s=n(6)("species");e.exports=function(e,t){var n;return r(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[s])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var i=n(1);e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t){e.exports={}},function(e,t,n){var i=n(62),r=n(60),s=n(6)("iterator");e.exports=function(e){if(null!=e)return e[s]||e["@@iterator"]||r[i(e)]}},function(e,t,n){var i=n(96),r=n(25),s=n(6)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=i?r:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?n:o?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t,n){var i=n(1),r=n(6),s=n(98),o=r("species");e.exports=function(e){return s>=51||!i((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){"use strict";var i=n(4);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(){this.listeners=[]}addListener(e){this.listeners.push(e)}removeListener(e){var t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}hasListener(e){return this.listeners.indexOf(e)>-1}executeListeners(e){for(const t of this.listeners)t(e)}}},function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,s=r&&!i.call({1:2},1);t.f=s?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},function(e,t,n){var i=n(89),r=n(52),s=i("keys");e.exports=function(e){return s[e]||(s[e]=r(e))}},function(e,t,n){"use strict";var i=n(30),r=n(2),s=n(1);e.exports=i||!s((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete r[e]}))},function(e,t,n){var i=n(6)("iterator"),r=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){r=!0}};o[i]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var s={};s[i]=function(){return{next:function(){return{done:n=!0}}}},e(s)}catch(e){}return n}},function(e,t,n){var i=n(26);e.exports=i("navigator","userAgent")||""},function(e,t,n){var i=n(20),r=n(10),s=n(51),o=n(7),a=function(e){return function(t,n,a,l){i(n);var c=r(t),u=s(c),h=o(c.length),d=e?h-1:0,f=e?-1:1;if(a<2)for(;;){if(d in u){l=u[d],d+=f;break}if(d+=f,e?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:h>d;d+=f)d in u&&(l=n(l,u[d],d,c));return l}};e.exports={left:a(!1),right:a(!0)}},function(e,t,n){"use strict";var i=n(22),r=n(40),s=n(60),o=n(18),a=n(100),l="Array Iterator",c=o.set,u=o.getterFor(l);e.exports=a(Array,"Array",(function(e,t){c(this,{type:l,target:i(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var i=n(27),r=n(16),s=function(e){return function(t,n){var s,o,a=String(r(t)),l=i(n),c=a.length;return l<0||l>=c?e?"":void 0:(s=a.charCodeAt(l))<55296||s>56319||l+1===c||(o=a.charCodeAt(l+1))<56320||o>57343?e?a.charAt(l):s:e?a.slice(l,l+2):o-56320+(s-55296<<10)+65536}};e.exports={codeAt:s(!1),charAt:s(!0)}},function(e,t,n){var i=n(3),r=n(25),s=n(6)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==r(e))}},function(e,t,n){"use strict";n(104);var i=n(15),r=n(1),s=n(6),o=n(76),a=n(17),l=s("species"),c=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u="$0"==="a".replace(/./,"$0"),h=s("replace"),d=!!/./[h]&&""===/./[h]("a","$0"),f=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,h){var p=s(e),g=!r((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),v=g&&!r((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!g||!v||"replace"===e&&(!c||!u||d)||"split"===e&&!f){var m=/./[p],_=n(p,""[e],(function(e,t,n,i,r){return t.exec===o?g&&!r?{done:!0,value:m.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),y=_[0],w=_[1];i(String.prototype,e,y),i(RegExp.prototype,p,2==t?function(e,t){return w.call(e,this,t)}:function(e){return w.call(e,this)})}h&&a(RegExp.prototype[p],"sham",!0)}},function(e,t,n){"use strict";var i,r,s=n(64),o=n(77),a=RegExp.prototype.exec,l=String.prototype.replace,c=a,u=(i=/a/,r=/b*/g,a.call(i,"a"),a.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),h=o.UNSUPPORTED_Y||o.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];(u||d||h)&&(c=function(e){var t,n,i,r,o=this,c=h&&o.sticky,f=s.call(o),p=o.source,g=0,v=e;return c&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),v=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(p="(?: "+p+")",v=" "+v,g++),n=new RegExp("^(?:"+p+")",f)),d&&(n=new RegExp("^"+p+"$(?!\\s)",f)),u&&(t=o.lastIndex),i=a.call(c?n:o,v),c?i?(i.input=i.input.slice(g),i[0]=i[0].slice(g),i.index=o.lastIndex,o.lastIndex+=i[0].length):o.lastIndex=0:u&&i&&(o.lastIndex=o.global?i.index+i[0].length:t),d&&i&&i.length>1&&l.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),e.exports=c},function(e,t,n){"use strict";var i=n(1);function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=i((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=i((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,n){"use strict";var i=n(73).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},function(e,t,n){var i=n(25),r=n(76);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var s=n.call(e,t);if("object"!=typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){var i=n(3),r=n(46);e.exports=function(e,t,n){var s,o;return r&&"function"==typeof(s=t.constructor)&&s!==n&&i(o=s.prototype)&&o!==n.prototype&&r(e,o),e}},function(e,t){var n=Math.expm1,i=Math.exp;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:i(e)-1}:n},function(e,t,n){"use strict";var i=n(0),r=n(2),s=n(56),o=n(15),a=n(44),l=n(47),c=n(41),u=n(3),h=n(1),d=n(69),f=n(32),p=n(81);e.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),m=g?"set":"add",_=r[e],y=_&&_.prototype,w=_,b={},S=function(e){var t=y[e];o(y,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(s(e,"function"!=typeof _||!(v||y.forEach&&!h((function(){(new _).entries().next()})))))w=n.getConstructor(t,e,g,m),a.REQUIRED=!0;else if(s(e,!0)){var T=new w,E=T[m](v?{}:-0,1)!=T,L=h((function(){T.has(1)})),I=d((function(e){new _(e)})),A=!v&&h((function(){for(var e=new _,t=5;t--;)e[m](t,t);return!e.has(-0)}));I||((w=t((function(t,n){c(t,w,e);var i=p(new _,t,w);return null!=n&&l(n,i[m],i,g),i}))).prototype=y,y.constructor=w),(L||A)&&(S("delete"),S("has"),g&&S("get")),(A||E)&&S(m),v&&y.clear&&delete y.clear}return b[e]=w,i({global:!0,forced:w!=_},b),f(w,e),v||n.setStrong(w,e,g),w}},function(e,t,n){"use strict";var i=n(2),r=n(5),s=n(111),o=n(17),a=n(50),l=n(1),c=n(41),u=n(27),h=n(7),d=n(148),f=n(319),p=n(31),g=n(46),v=n(42).f,m=n(9).f,_=n(99),y=n(32),w=n(18),b=w.get,S=w.set,T="ArrayBuffer",E="DataView",L="Wrong index",I=i.ArrayBuffer,A=I,M=i.DataView,C=M&&M.prototype,D=Object.prototype,x=i.RangeError,O=f.pack,V=f.unpack,R=function(e){return[255&e]},P=function(e){return[255&e,e>>8&255]},N=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},B=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},k=function(e){return O(e,23,4)},U=function(e){return O(e,52,8)},H=function(e,t){m(e.prototype,t,{get:function(){return b(this)[t]}})},F=function(e,t,n,i){var r=d(n),s=b(e);if(r+t>s.byteLength)throw x(L);var o=b(s.buffer).bytes,a=r+s.byteOffset,l=o.slice(a,a+t);return i?l:l.reverse()},q=function(e,t,n,i,r,s){var o=d(n),a=b(e);if(o+t>a.byteLength)throw x(L);for(var l=b(a.buffer).bytes,c=o+a.byteOffset,u=i(+r),h=0;h<t;h++)l[c+h]=u[s?h:t-h-1]};if(s){if(!l((function(){I(1)}))||!l((function(){new I(-1)}))||l((function(){return new I,new I(1.5),new I(NaN),I.name!=T}))){for(var j,W=(A=function(e){return c(this,A),new I(d(e))}).prototype=I.prototype,G=v(I),Y=0;G.length>Y;)(j=G[Y++])in A||o(A,j,I[j]);W.constructor=A}g&&p(C)!==D&&g(C,D);var K=new M(new A(2)),z=C.setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||a(C,{setInt8:function(e,t){z.call(this,e,t<<24>>24)},setUint8:function(e,t){z.call(this,e,t<<24>>24)}},{unsafe:!0})}else A=function(e){c(this,A,T);var t=d(e);S(this,{bytes:_.call(new Array(t),0),byteLength:t}),r||(this.byteLength=t)},M=function(e,t,n){c(this,M,E),c(e,A,E);var i=b(e).byteLength,s=u(t);if(s<0||s>i)throw x("Wrong offset");if(s+(n=void 0===n?i-s:h(n))>i)throw x("Wrong length");S(this,{buffer:e,byteLength:n,byteOffset:s}),r||(this.buffer=e,this.byteLength=n,this.byteOffset=s)},r&&(H(A,"byteLength"),H(M,"buffer"),H(M,"byteLength"),H(M,"byteOffset")),a(M.prototype,{getInt8:function(e){return F(this,1,e)[0]<<24>>24},getUint8:function(e){return F(this,1,e)[0]},getInt16:function(e){var t=F(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=F(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return B(F(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return B(F(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return V(F(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return V(F(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){q(this,1,e,R,t)},setUint8:function(e,t){q(this,1,e,R,t)},setInt16:function(e,t){q(this,2,e,P,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){q(this,2,e,P,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){q(this,4,e,N,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){q(this,4,e,N,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){q(this,4,e,k,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){q(this,8,e,U,t,arguments.length>2?arguments[2]:void 0)}});y(A,T),y(M,E),e.exports={ArrayBuffer:A,DataView:M}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(){this.listeners=[]}addListener(e){this.listeners.push(e)}removeListener(e){var t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}hasListener(e){return this.listeners.indexOf(e)>-1}executeListeners(e){for(const t of this.listeners)t(e)}}},function(e,t,n){var i=n(2),r=n(3),s=i.document,o=r(s)&&r(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},function(e,t,n){var i=n(2),r=n(17);e.exports=function(e,t){try{r(i,e,t)}catch(n){i[e]=t}return t}},function(e,t,n){var i=n(114),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return r.call(e)}),e.exports=i.inspectSource},function(e,t,n){var i=n(30),r=n(114);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var i=n(26),r=n(42),s=n(92),o=n(4);e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(o(e)),n=s.f;return n?t.concat(n(e)):t}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(1);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},function(e,t,n){var i=n(5),r=n(9),s=n(4),o=n(57);e.exports=i?Object.defineProperties:function(e,t){s(e);for(var n,i=o(t),a=i.length,l=0;a>l;)r.f(e,n=i[l++],t[n]);return e}},function(e,t,n){var i=n(6),r=n(60),s=i("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[s]===e)}},function(e,t,n){var i={};i[n(6)("toStringTag")]="z",e.exports="[object z]"===String(i)},function(e,t,n){var i=n(1);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var i,r,s=n(2),o=n(70),a=s.process,l=a&&a.versions,c=l&&l.v8;c?r=(i=c.split("."))[0]+i[1]:o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(r=i[1]),e.exports=r&&+r},function(e,t,n){"use strict";var i=n(10),r=n(38),s=n(7);e.exports=function(e){for(var t=i(this),n=s(t.length),o=arguments.length,a=r(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);c>a;)t[a++]=e;return t}},function(e,t,n){"use strict";var i=n(0),r=n(101),s=n(31),o=n(46),a=n(32),l=n(17),c=n(15),u=n(6),h=n(30),d=n(60),f=n(133),p=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,v=u("iterator"),m="keys",_="values",y="entries",w=function(){return this};e.exports=function(e,t,n,u,f,b,S){r(n,t,u);var T,E,L,I=function(e){if(e===f&&x)return x;if(!g&&e in C)return C[e];switch(e){case m:case _:case y:return function(){return new n(this,e)}}return function(){return new n(this)}},A=t+" Iterator",M=!1,C=e.prototype,D=C[v]||C["@@iterator"]||f&&C[f],x=!g&&D||I(f),O="Array"==t&&C.entries||D;if(O&&(T=s(O.call(new e)),p!==Object.prototype&&T.next&&(h||s(T)===p||(o?o(T,p):"function"!=typeof T[v]&&l(T,v,w)),a(T,A,!0,!0),h&&(d[A]=w))),f==_&&D&&D.name!==_&&(M=!0,x=function(){return D.call(this)}),h&&!S||C[v]===x||l(C,v,x),d[t]=x,f)if(E={values:I(_),keys:b?x:I(m),entries:I(y)},S)for(L in E)(g||M||!(L in C))&&c(C,L,E[L]);else i({target:t,proto:!0,forced:g||M},E);return E}},function(e,t,n){"use strict";var i=n(133).IteratorPrototype,r=n(33),s=n(37),o=n(32),a=n(60),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=r(i,{next:s(1,n)}),o(e,c,!1,!0),a[c]=l,e}},function(e,t,n){var i=n(74);e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var i=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){"use strict";var i=n(0),r=n(76);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},function(e,t,n){var i=n(7),r=n(106),s=n(16),o=Math.ceil,a=function(e){return function(t,n,a){var l,c,u=String(s(t)),h=u.length,d=void 0===a?" ":String(a),f=i(n);return f<=h||""==d?u:(l=f-h,(c=r.call(d,o(l/d.length))).length>l&&(c=c.slice(0,l)),e?u+c:c+u)}};e.exports={start:a(!1),end:a(!0)}},function(e,t,n){"use strict";var i=n(27),r=n(16);e.exports="".repeat||function(e){var t=String(r(this)),n="",s=i(e);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(n+=t);return n}},function(e,t,n){var i=n(1),r=n(80);e.exports=function(e){return i((function(){return!!r[e]()||"​᠎"!="​᠎"[e]()||r[e].name!==e}))}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){var i,r,s,o=n(2),a=n(1),l=n(25),c=n(39),u=n(119),h=n(86),d=n(142),f=o.location,p=o.setImmediate,g=o.clearImmediate,v=o.process,m=o.MessageChannel,_=o.Dispatch,y=0,w={},b="onreadystatechange",S=function(e){if(w.hasOwnProperty(e)){var t=w[e];delete w[e],t()}},T=function(e){return function(){S(e)}},E=function(e){S(e.data)},L=function(e){o.postMessage(e+"",f.protocol+"//"+f.host)};p&&g||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return w[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(y),y},g=function(e){delete w[e]},"process"==l(v)?i=function(e){v.nextTick(T(e))}:_&&_.now?i=function(e){_.now(T(e))}:m&&!d?(s=(r=new m).port2,r.port1.onmessage=E,i=c(s.postMessage,s,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||a(L)||"file:"===f.protocol?i=b in h("script")?function(e){u.appendChild(h("script")).onreadystatechange=function(){u.removeChild(this),S(e)}}:function(e){setTimeout(T(e),0)}:(i=L,o.addEventListener("message",E,!1))),e.exports={set:p,clear:g}},function(e,t,n){"use strict";var i=n(20),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,n){var i=n(2),r=n(1),s=n(69),o=n(8).NATIVE_ARRAY_BUFFER_VIEWS,a=i.ArrayBuffer,l=i.Int8Array;e.exports=!o||!r((function(){l(1)}))||!r((function(){new l(-1)}))||!s((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||r((function(){return 1!==new l(new a(2),1,void 0).length}))},function(e,t,n){var i=n(5),r=n(1),s=n(86);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var i=n(2),r=n(87),s="__core-js_shared__",o=i[s]||r(s,{});e.exports=o},function(e,t,n){var i=n(2),r=n(88),s=i.WeakMap;e.exports="function"==typeof s&&/native code/.test(r(s))},function(e,t,n){var i=n(12),r=n(90),s=n(14),o=n(9);e.exports=function(e,t){for(var n=r(t),a=o.f,l=s.f,c=0;c<n.length;c++){var u=n[c];i(e,u)||a(e,u,l(t,u))}}},function(e,t,n){var i=n(12),r=n(22),s=n(55).indexOf,o=n(53);e.exports=function(e,t){var n,a=r(e),l=0,c=[];for(n in a)!i(o,n)&&i(a,n)&&c.push(n);for(;t.length>l;)i(a,n=t[l++])&&(~s(c,n)||c.push(n));return c}},function(e,t,n){var i=n(93);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var i=n(26);e.exports=i("document","documentElement")},function(e,t,n){var i=n(22),r=n(42).f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==s.call(e)?function(e){try{return r(e)}catch(e){return o.slice()}}(e):r(i(e))}},function(e,t,n){var i=n(6);t.f=i},function(e,t,n){"use strict";var i=n(5),r=n(1),s=n(57),o=n(92),a=n(66),l=n(10),c=n(51),u=Object.assign,h=Object.defineProperty;e.exports=!u||r((function(){if(i&&1!==u({b:1},u(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||s(u({},t)).join("")!=r}))?function(e,t){for(var n=l(e),r=arguments.length,u=1,h=o.f,d=a.f;r>u;)for(var f,p=c(arguments[u++]),g=h?s(p).concat(h(p)):s(p),v=g.length,m=0;v>m;)f=g[m++],i&&!d.call(p,f)||(n[f]=p[f]);return n}:u},function(e,t,n){var i=n(5),r=n(57),s=n(22),o=n(66).f,a=function(e){return function(t){for(var n,a=s(t),l=r(a),c=l.length,u=0,h=[];c>u;)n=l[u++],i&&!o.call(a,n)||h.push(e?[n,a[n]]:a[n]);return h}};e.exports={entries:a(!0),values:a(!1)}},function(e,t,n){var i=n(4);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var s=e.return;throw void 0!==s&&i(s.call(e)),t}}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var i=n(3);e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){"use strict";var i=n(20),r=n(3),s=[].slice,o={},a=function(e,t,n){if(!(t in o)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";o[t]=Function("C,a","return new C("+i.join(",")+")")}return o[t](e,n)};e.exports=Function.bind||function(e){var t=i(this),n=s.call(arguments,1),o=function(){var i=n.concat(s.call(arguments));return this instanceof o?a(t,i.length,i):t.apply(e,i)};return r(t.prototype)&&(o.prototype=t.prototype),o}},function(e,t,n){"use strict";var i=n(39),r=n(10),s=n(124),o=n(95),a=n(7),l=n(45),c=n(61);e.exports=function(e){var t,n,u,h,d,f,p=r(e),g="function"==typeof this?this:Array,v=arguments.length,m=v>1?arguments[1]:void 0,_=void 0!==m,y=c(p),w=0;if(_&&(m=i(m,v>2?arguments[2]:void 0,2)),null==y||g==Array&&o(y))for(n=new g(t=a(p.length));t>w;w++)f=_?m(p[w],w):p[w],l(n,w,f);else for(d=(h=y.call(p)).next,n=new g;!(u=d.call(h)).done;w++)f=_?s(h,m,[u.value,w],!0):u.value,l(n,w,f);return n.length=w,n}},function(e,t,n){"use strict";var i=n(10),r=n(38),s=n(7),o=Math.min;e.exports=[].copyWithin||function(e,t){var n=i(this),a=s(n.length),l=r(e,a),c=r(t,a),u=arguments.length>2?arguments[2]:void 0,h=o((void 0===u?a:r(u,a))-c,a-l),d=1;for(c<l&&l<c+h&&(d=-1,c+=h-1,l+=h-1);h-- >0;)c in n?n[l]=n[c]:delete n[l],l+=d,c+=d;return n}},function(e,t,n){"use strict";var i=n(43),r=n(7),s=n(39),o=function(e,t,n,a,l,c,u,h){for(var d,f=l,p=0,g=!!u&&s(u,h,3);p<a;){if(p in n){if(d=g?g(n[p],p,t):n[p],c>0&&i(d))f=o(e,t,d,r(d.length),f,c-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[f]=d}f++}p++}return f};e.exports=o},function(e,t,n){"use strict";var i=n(13).forEach,r=n(34),s=n(21),o=r("forEach"),a=s("forEach");e.exports=o&&a?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){"use strict";var i=n(22),r=n(27),s=n(7),o=n(34),a=n(21),l=Math.min,c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0,h=o("lastIndexOf"),d=a("indexOf",{ACCESSORS:!0,1:0}),f=u||!h||!d;e.exports=f?function(e){if(u)return c.apply(this,arguments)||0;var t=i(this),n=s(t.length),o=n-1;for(arguments.length>1&&(o=l(o,r(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:c},function(e,t,n){"use strict";var i,r,s,o=n(31),a=n(17),l=n(12),c=n(6),u=n(30),h=c("iterator"),d=!1;[].keys&&("next"in(s=[].keys())?(r=o(o(s)))!==Object.prototype&&(i=r):d=!0),null==i&&(i={}),u||l(i,h)||a(i,h,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:d}},function(e,t,n){var i=n(70);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)},function(e,t,n){"use strict";var i=n(73).charAt,r=n(18),s=n(100),o="String Iterator",a=r.set,l=r.getterFor(o);s(String,"String",(function(e){a(this,{type:o,string:String(e),index:0})}),(function(){var e,t=l(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=i(n,r),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){var i=n(2),r=n(49).trim,s=n(80),o=i.parseInt,a=/^[+-]?0[Xx]/,l=8!==o(s+"08")||22!==o(s+"0x16");e.exports=l?function(e,t){var n=r(String(e));return o(n,t>>>0||(a.test(n)?16:10))}:o},function(e,t,n){var i=n(2),r=n(49).trim,s=n(80),o=i.parseFloat,a=1/o(s+"-0")!=-1/0;e.exports=a?function(e){var t=r(String(e)),n=o(t);return 0===n&&"-"==t.charAt(0)?-0:n}:o},function(e,t,n){var i=n(3),r=Math.floor;e.exports=function(e){return!i(e)&&isFinite(e)&&r(e)===e}},function(e,t,n){var i=n(25);e.exports=function(e){if("number"!=typeof e&&"Number"!=i(e))throw TypeError("Incorrect invocation");return+e}},function(e,t){var n=Math.log;e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:n(1+e)}},function(e,t,n){var i=n(2);e.exports=i.Promise},function(e,t,n){var i=n(70);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},function(e,t,n){var i,r,s,o,a,l,c,u,h=n(2),d=n(14).f,f=n(25),p=n(109).set,g=n(142),v=h.MutationObserver||h.WebKitMutationObserver,m=h.process,_=h.Promise,y="process"==f(m),w=d(h,"queueMicrotask"),b=w&&w.value;b||(i=function(){var e,t;for(y&&(e=m.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?o():s=void 0,e}}s=void 0,e&&e.enter()},y?o=function(){m.nextTick(i)}:v&&!g?(a=!0,l=document.createTextNode(""),new v(i).observe(l,{characterData:!0}),o=function(){l.data=a=!a}):_&&_.resolve?(c=_.resolve(void 0),u=c.then,o=function(){u.call(c,i)}):o=function(){p.call(h,i)}),e.exports=b||function(e){var t={fn:e,next:void 0};s&&(s.next=t),r||(r=t,o()),s=t}},function(e,t,n){var i=n(4),r=n(3),s=n(110);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=s.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";var i=n(9).f,r=n(33),s=n(50),o=n(39),a=n(41),l=n(47),c=n(100),u=n(48),h=n(5),d=n(44).fastKey,f=n(18),p=f.set,g=f.getterFor;e.exports={getConstructor:function(e,t,n,c){var u=e((function(e,i){a(e,u,t),p(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),h||(e.size=0),null!=i&&l(i,e[c],e,n)})),f=g(t),v=function(e,t,n){var i,r,s=f(e),o=m(e,t);return o?o.value=n:(s.last=o={index:r=d(t,!0),key:t,value:n,previous:i=s.last,next:void 0,removed:!1},s.first||(s.first=o),i&&(i.next=o),h?s.size++:e.size++,"F"!==r&&(s.index[r]=o)),e},m=function(e,t){var n,i=f(e),r=d(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return s(u.prototype,{clear:function(){for(var e=f(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t=this,n=f(t),i=m(t,e);if(i){var r=i.next,s=i.previous;delete n.index[i.index],i.removed=!0,s&&(s.next=r),r&&(r.previous=s),n.first==i&&(n.first=r),n.last==i&&(n.last=s),h?n.size--:t.size--}return!!i},forEach:function(e){for(var t,n=f(this),i=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!m(this,e)}}),s(u.prototype,n?{get:function(e){var t=m(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),h&&i(u.prototype,"size",{get:function(){return f(this).size}}),u},setStrong:function(e,t,n){var i=t+" Iterator",r=g(t),s=g(i);c(e,t,(function(e,t){p(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=s(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(t)}}},function(e,t,n){"use strict";var i=n(50),r=n(44).getWeakData,s=n(4),o=n(3),a=n(41),l=n(47),c=n(13),u=n(12),h=n(18),d=h.set,f=h.getterFor,p=c.find,g=c.findIndex,v=0,m=function(e){return e.frozen||(e.frozen=new _)},_=function(){this.entries=[]},y=function(e,t){return p(e.entries,(function(e){return e[0]===t}))};_.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var n=y(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,c){var h=e((function(e,i){a(e,h,t),d(e,{type:t,id:v++,frozen:void 0}),null!=i&&l(i,e[c],e,n)})),p=f(t),g=function(e,t,n){var i=p(e),o=r(s(t),!0);return!0===o?m(i).set(t,n):o[i.id]=n,e};return i(h.prototype,{delete:function(e){var t=p(this);if(!o(e))return!1;var n=r(e);return!0===n?m(t).delete(e):n&&u(n,t.id)&&delete n[t.id]},has:function(e){var t=p(this);if(!o(e))return!1;var n=r(e);return!0===n?m(t).has(e):n&&u(n,t.id)}}),i(h.prototype,n?{get:function(e){var t=p(this);if(o(e)){var n=r(e);return!0===n?m(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),h}}},function(e,t,n){var i=n(27),r=n(7);e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=r(t);if(t!==n)throw RangeError("Wrong length or index");return n}},function(e,t,n){var i=n(324);e.exports=function(e,t){var n=i(e);if(n%t)throw RangeError("Wrong offset");return n}},function(e,t,n){var i=n(10),r=n(7),s=n(61),o=n(95),a=n(39),l=n(8).aTypedArrayConstructor;e.exports=function(e){var t,n,c,u,h,d,f=i(e),p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g,m=s(f);if(null!=m&&!o(m))for(d=(h=m.call(f)).next,f=[];!(u=d.call(h)).done;)f.push(u.value);for(v&&p>2&&(g=a(g,arguments[2],2)),n=r(f.length),c=new(l(this))(n),t=0;n>t;t++)c[t]=v?g(f[t],t):f[t];return c}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var i=n(1),r=n(6),s=n(30),o=r("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,i){t.delete("b"),n+=i+e})),s&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(e,t,n){"use strict";n(72);var i=n(0),r=n(26),s=n(152),o=n(15),a=n(50),l=n(32),c=n(101),u=n(18),h=n(41),d=n(12),f=n(39),p=n(62),g=n(4),v=n(3),m=n(33),_=n(37),y=n(379),w=n(61),b=n(6),S=r("fetch"),T=r("Headers"),E=b("iterator"),L="URLSearchParams",I="URLSearchParamsIterator",A=u.set,M=u.getterFor(L),C=u.getterFor(I),D=/\+/g,x=Array(4),O=function(e){return x[e-1]||(x[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},V=function(e){try{return decodeURIComponent(e)}catch(t){return e}},R=function(e){var t=e.replace(D," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(O(n--),V);return t}},P=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},B=function(e){return N[e]},k=function(e){return encodeURIComponent(e).replace(P,B)},U=function(e,t){if(t)for(var n,i,r=t.split("&"),s=0;s<r.length;)(n=r[s++]).length&&(i=n.split("="),e.push({key:R(i.shift()),value:R(i.join("="))}))},H=function(e){this.entries.length=0,U(this.entries,e)},F=function(e,t){if(e<t)throw TypeError("Not enough arguments")},q=c((function(e,t){A(this,{type:I,iterator:y(M(e).entries),kind:t})}),"Iterator",(function(){var e=C(this),t=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),n})),j=function(){h(this,j,L);var e,t,n,i,r,s,o,a,l,c=arguments.length>0?arguments[0]:void 0,u=this,f=[];if(A(u,{type:L,entries:f,updateURL:function(){},updateSearchParams:H}),void 0!==c)if(v(c))if("function"==typeof(e=w(c)))for(n=(t=e.call(c)).next;!(i=n.call(t)).done;){if((o=(s=(r=y(g(i.value))).next).call(r)).done||(a=s.call(r)).done||!s.call(r).done)throw TypeError("Expected sequence with length 2");f.push({key:o.value+"",value:a.value+""})}else for(l in c)d(c,l)&&f.push({key:l,value:c[l]+""});else U(f,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},W=j.prototype;a(W,{append:function(e,t){F(arguments.length,2);var n=M(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){F(arguments.length,1);for(var t=M(this),n=t.entries,i=e+"",r=0;r<n.length;)n[r].key===i?n.splice(r,1):r++;t.updateURL()},get:function(e){F(arguments.length,1);for(var t=M(this).entries,n=e+"",i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){F(arguments.length,1);for(var t=M(this).entries,n=e+"",i=[],r=0;r<t.length;r++)t[r].key===n&&i.push(t[r].value);return i},has:function(e){F(arguments.length,1);for(var t=M(this).entries,n=e+"",i=0;i<t.length;)if(t[i++].key===n)return!0;return!1},set:function(e,t){F(arguments.length,1);for(var n,i=M(this),r=i.entries,s=!1,o=e+"",a=t+"",l=0;l<r.length;l++)(n=r[l]).key===o&&(s?r.splice(l--,1):(s=!0,n.value=a));s||r.push({key:o,value:a}),i.updateURL()},sort:function(){var e,t,n,i=M(this),r=i.entries,s=r.slice();for(r.length=0,n=0;n<s.length;n++){for(e=s[n],t=0;t<n;t++)if(r[t].key>e.key){r.splice(t,0,e);break}t===n&&r.push(e)}i.updateURL()},forEach:function(e){for(var t,n=M(this).entries,i=f(e,arguments.length>1?arguments[1]:void 0,3),r=0;r<n.length;)i((t=n[r++]).value,t.key,this)},keys:function(){return new q(this,"keys")},values:function(){return new q(this,"values")},entries:function(){return new q(this,"entries")}},{enumerable:!0}),o(W,E,W.entries),o(W,"toString",(function(){for(var e,t=M(this).entries,n=[],i=0;i<t.length;)e=t[i++],n.push(k(e.key)+"="+k(e.value));return n.join("&")}),{enumerable:!0}),l(j,L),i({global:!0,forced:!s},{URLSearchParams:j}),s||"function"!=typeof S||"function"!=typeof T||i({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,i,r=[e];return arguments.length>1&&(v(t=arguments[1])&&(n=t.body,p(n)===L&&((i=t.headers?new T(t.headers):new T).has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=m(t,{body:_(0,String(n)),headers:_(0,i)}))),r.push(t)),S.apply(this,r)}}),e.exports={URLSearchParams:j,getState:M}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TabsPolyfill}));var _communicator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),_listener_on_connect_helper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(85),_port_polyfill__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(28);class TabsPolyfill{constructor(){this.portsMap=new Map,this.onConnect=new _listener_on_connect_helper__WEBPACK_IMPORTED_MODULE_1__.a,_communicator__WEBPACK_IMPORTED_MODULE_0__.a.shared().addListenerOnPortMessageListener(this.onPortMessageListener.bind(this)),_communicator__WEBPACK_IMPORTED_MODULE_0__.a.shared().addListenerOnConnectTab(this.onConnectTabListener.bind(this)),_communicator__WEBPACK_IMPORTED_MODULE_0__.a.shared().addListenerTabAction(this.onTabActionListener.bind(this))}get(e,t){console.warn("Not implemented `get` in TabsPolyfill")}getCurrent(e){console.warn("Not implemented `getCurrent` in TabsPolyfill")}getSelected(e){console.warn("Not implemented `getCurrent` in TabsPolyfill")}connect(e,t){var n=new _port_polyfill__WEBPACK_IMPORTED_MODULE_2__.a(_port_polyfill__WEBPACK_IMPORTED_MODULE_2__.a.TYPES.TAB,e);this.portsMap.set(n.uuid,n);var i={action:_port_polyfill__WEBPACK_IMPORTED_MODULE_2__.a.ACTION.CREATE,portUUID:n.uuid,type:_port_polyfill__WEBPACK_IMPORTED_MODULE_2__.a.TYPES.TAB,uniqueID:n.uniqueID};return _communicator__WEBPACK_IMPORTED_MODULE_0__.a.shared().port(i).then(e=>{n.ready=!0,n.executeWaitingMessages()}).catch(e=>{console.error("Error port "+e)}),n}sendRequest(e,t,n){console.warn("Not implemented `sendRequest` in TabsPolyfill")}sendMessage(e,t,n,i){console.warn("Not implemented `sendMessage` in TabsPolyfill")}getAllInWindow(e,t){console.warn("Not implemented `getAllInWindow` in TabsPolyfill")}create(e,t){_communicator__WEBPACK_IMPORTED_MODULE_0__.a.shared().tabs(e,TabsPolyfill.tabsActions.create).then(e=>{t(e)}).catch(e=>{console.error("Error in getiing tab "+e)})}duplicate(e,t){console.warn("Not implemented `duplicate` in TabsPolyfill")}query(e,t){return void 0===window.safari?this.queryFromBrowserAction(e,t):this.queryFromContent(e,t)}queryFromBrowserAction(e,t){_communicator__WEBPACK_IMPORTED_MODULE_0__.a.shared().tabs(e,TabsPolyfill.tabsActions.getTabWith).then(e=>{t(e)}).catch(e=>{console.error("Error in getiing tab "+e)})}queryFromContent(e,t){console.warn("Enters in quering extension with: "+e)}highlight(e,t){console.warn("Not implemented `highlightz` in TabsPolyfill")}update(e,t,n){console.warn("Not implemented UPDATE funciton in TabsPolyfill")}move(e,t,n){console.warn("Not implemented MOVE function in TabsPolyfill")}reload(e,t,n){_communicator__WEBPACK_IMPORTED_MODULE_0__.a.shared().tabs({tabID:e},TabsPolyfill.tabsActions.reload).then(e=>{null!=n&&n(e)}).catch(e=>{console.error("Error reload tab "+e)})}detectLanguage(e,t){console.warn("Not implemented `detectLanguage` in TabsPolyfill")}captureVisibleTab(e,t,n){console.warn("Not implemented `captureVisibleTab` in TabsPolyfill")}executeScript(e,t,n){void 0===window.safari?this.executeScriptFromBrowserAction(e,t,n):console.warn("Not implemented `executeScript` in TabsPolyfill")}executeScriptFromBrowserAction(e,t,n){const i={tabID:e,details:t};_communicator__WEBPACK_IMPORTED_MODULE_0__.a.shared().tabs(i,TabsPolyfill.tabsActions.executeScript).then(e=>{n([e])}).catch(e=>{console.error("Error in executeScriptFromBrowserAction "+e)})}insertCSS(e,t,n){console.warn("Not implemented `insertCSS` in TabsPolyfill")}setZoom(e,t,n){console.warn("Not implemented `setZoom` in TabsPolyfill")}setZoomSettings(e,t,n){console.warn("Not implemented `setZoomSettings` in TabsPolyfill")}discard(e,t){console.warn("Not implemented `discard` in TabsPolyfill")}goForward(e,t){console.warn("Not implemented `tabID` in TabsPolyfill")}goBack(e,t){console.warn("Not implemented `goBack` in TabsPolyfill")}onPortMessageListener(e){let t=e.portUUID,n=e.data;if(this.portsMap.has(t)){let e=this.portsMap.get(t);void 0!==e&&e.onMessage.executeListeners(n)}}onConnectTabListener(e){var t=e.portUUID,n=e.type,i=e.uniqueID,r=new _port_polyfill__WEBPACK_IMPORTED_MODULE_2__.a(n,i);r.uuid=t,r.ready=!0,this.portsMap.set(r.uuid,r),this.onConnect.executeListeners(r)}onTabActionListener(data){console.log("Enters in onTabActionListener",data);let action=data.action;switch(action){case"executeScript":{let callbackID=data.callbackID,code=data.data,returnValue=eval(code),queryInfo={callbackID:callbackID,value:returnValue};_communicator__WEBPACK_IMPORTED_MODULE_0__.a.shared().tabs(queryInfo,TabsPolyfill.tabsActions.executeScript).then(e=>{console.log("result: ",e)}).catch(e=>{console.error("Error in getiing tab "+e)})}}}}TabsPolyfill.tabsActions={getTabWith:1,create:2,reload:3,executeScript:4},TabsPolyfill.onUpdated={addListener:function(e){window.safari.application.addEventListener("beforeNavigate",(function(t){e(t.target.id,{status:"loading",url:t.target.url,pinned:null},{id:t.target.id,index:null,windowId:null,openerTabId:null,highlighted:null,active:t.target.id==t.target.browserWindow.activeTab.id,pinned:null,url:t.target.url,title:t.target.title,favIconUrl:null,status:"loading",incognito:null})}),!0)}}},function(e,t,n){n(156),n(381),e.exports=n(404)},function(e,t,n){n(157),n(371);var i=n(54);e.exports=i},function(e,t,n){n(158),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(72),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(135),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(104),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(305),n(306),n(308),n(309),n(310),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(320),n(321),n(322),n(323),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370);var i=n(54);e.exports=i},function(e,t,n){"use strict";var i=n(0),r=n(2),s=n(26),o=n(30),a=n(5),l=n(93),c=n(118),u=n(1),h=n(12),d=n(43),f=n(3),p=n(4),g=n(10),v=n(22),m=n(29),_=n(37),y=n(33),w=n(57),b=n(42),S=n(120),T=n(92),E=n(14),L=n(9),I=n(66),A=n(17),M=n(15),C=n(89),D=n(67),x=n(53),O=n(52),V=n(6),R=n(121),P=n(19),N=n(32),B=n(18),k=n(13).forEach,U=D("hidden"),H="Symbol",F=V("toPrimitive"),q=B.set,j=B.getterFor(H),W=Object.prototype,G=r.Symbol,Y=s("JSON","stringify"),K=E.f,z=L.f,$=S.f,X=I.f,J=C("symbols"),Z=C("op-symbols"),Q=C("string-to-symbol-registry"),ee=C("symbol-to-string-registry"),te=C("wks"),ne=r.QObject,ie=!ne||!ne.prototype||!ne.prototype.findChild,re=a&&u((function(){return 7!=y(z({},"a",{get:function(){return z(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=K(W,t);i&&delete W[t],z(e,t,n),i&&e!==W&&z(W,t,i)}:z,se=function(e,t){var n=J[e]=y(G.prototype);return q(n,{type:H,tag:e,description:t}),a||(n.description=t),n},oe=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof G},ae=function(e,t,n){e===W&&ae(Z,t,n),p(e);var i=m(t,!0);return p(n),h(J,i)?(n.enumerable?(h(e,U)&&e[U][i]&&(e[U][i]=!1),n=y(n,{enumerable:_(0,!1)})):(h(e,U)||z(e,U,_(1,{})),e[U][i]=!0),re(e,i,n)):z(e,i,n)},le=function(e,t){p(e);var n=v(t),i=w(n).concat(de(n));return k(i,(function(t){a&&!ce.call(n,t)||ae(e,t,n[t])})),e},ce=function(e){var t=m(e,!0),n=X.call(this,t);return!(this===W&&h(J,t)&&!h(Z,t))&&(!(n||!h(this,t)||!h(J,t)||h(this,U)&&this[U][t])||n)},ue=function(e,t){var n=v(e),i=m(t,!0);if(n!==W||!h(J,i)||h(Z,i)){var r=K(n,i);return!r||!h(J,i)||h(n,U)&&n[U][i]||(r.enumerable=!0),r}},he=function(e){var t=$(v(e)),n=[];return k(t,(function(e){h(J,e)||h(x,e)||n.push(e)})),n},de=function(e){var t=e===W,n=$(t?Z:v(e)),i=[];return k(n,(function(e){!h(J,e)||t&&!h(W,e)||i.push(J[e])})),i};(l||(M((G=function(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=O(e),n=function(e){this===W&&n.call(Z,e),h(this,U)&&h(this[U],t)&&(this[U][t]=!1),re(this,t,_(1,e))};return a&&ie&&re(W,t,{configurable:!0,set:n}),se(t,e)}).prototype,"toString",(function(){return j(this).tag})),M(G,"withoutSetter",(function(e){return se(O(e),e)})),I.f=ce,L.f=ae,E.f=ue,b.f=S.f=he,T.f=de,R.f=function(e){return se(V(e),e)},a&&(z(G.prototype,"description",{configurable:!0,get:function(){return j(this).description}}),o||M(W,"propertyIsEnumerable",ce,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:G}),k(w(te),(function(e){P(e)})),i({target:H,stat:!0,forced:!l},{for:function(e){var t=String(e);if(h(Q,t))return Q[t];var n=G(t);return Q[t]=n,ee[n]=t,n},keyFor:function(e){if(!oe(e))throw TypeError(e+" is not a symbol");if(h(ee,e))return ee[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),i({target:"Object",stat:!0,forced:!l,sham:!a},{create:function(e,t){return void 0===t?y(e):le(y(e),t)},defineProperty:ae,defineProperties:le,getOwnPropertyDescriptor:ue}),i({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:he,getOwnPropertySymbols:de}),i({target:"Object",stat:!0,forced:u((function(){T.f(1)}))},{getOwnPropertySymbols:function(e){return T.f(g(e))}}),Y)&&i({target:"JSON",stat:!0,forced:!l||u((function(){var e=G();return"[null]"!=Y([e])||"{}"!=Y({a:e})||"{}"!=Y(Object(e))}))},{stringify:function(e,t,n){for(var i,r=[e],s=1;arguments.length>s;)r.push(arguments[s++]);if(i=t,(f(t)||void 0!==e)&&!oe(e))return d(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!oe(t))return t}),r[1]=t,Y.apply(null,r)}});G.prototype[F]||A(G.prototype,F,G.prototype.valueOf),N(G,H),x[U]=!0},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){n(19)("asyncIterator")},function(e,t,n){"use strict";var i=n(0),r=n(5),s=n(2),o=n(12),a=n(3),l=n(9).f,c=n(116),u=s.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var h={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new u(e):void 0===e?u():u(e);return""===e&&(h[t]=!0),t};c(d,u);var f=d.prototype=u.prototype;f.constructor=d;var p=f.toString,g="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=p.call(e);if(o(h,e))return"";var n=g?t.slice(7,-1):t.replace(v,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:d})}},function(e,t,n){n(19)("hasInstance")},function(e,t,n){n(19)("isConcatSpreadable")},function(e,t,n){n(19)("iterator")},function(e,t,n){n(19)("match")},function(e,t,n){n(19)("matchAll")},function(e,t,n){n(19)("replace")},function(e,t,n){n(19)("search")},function(e,t,n){n(19)("species")},function(e,t,n){n(19)("split")},function(e,t,n){n(19)("toPrimitive")},function(e,t,n){n(19)("toStringTag")},function(e,t,n){n(19)("unscopables")},function(e,t,n){var i=n(0),r=n(122);i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(e,t,n){n(0)({target:"Object",stat:!0,sham:!n(5)},{create:n(33)})},function(e,t,n){var i=n(0),r=n(5);i({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperty:n(9).f})},function(e,t,n){var i=n(0),r=n(5);i({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperties:n(94)})},function(e,t,n){var i=n(0),r=n(123).entries;i({target:"Object",stat:!0},{entries:function(e){return r(e)}})},function(e,t,n){var i=n(0),r=n(59),s=n(1),o=n(3),a=n(44).onFreeze,l=Object.freeze;i({target:"Object",stat:!0,forced:s((function(){l(1)})),sham:!r},{freeze:function(e){return l&&o(e)?l(a(e)):e}})},function(e,t,n){var i=n(0),r=n(47),s=n(45);i({target:"Object",stat:!0},{fromEntries:function(e){var t={};return r(e,(function(e,n){s(t,e,n)}),void 0,!0),t}})},function(e,t,n){var i=n(0),r=n(1),s=n(22),o=n(14).f,a=n(5),l=r((function(){o(1)}));i({target:"Object",stat:!0,forced:!a||l,sham:!a},{getOwnPropertyDescriptor:function(e,t){return o(s(e),t)}})},function(e,t,n){var i=n(0),r=n(5),s=n(90),o=n(22),a=n(14),l=n(45);i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){for(var t,n,i=o(e),r=a.f,c=s(i),u={},h=0;c.length>h;)void 0!==(n=r(i,t=c[h++]))&&l(u,t,n);return u}})},function(e,t,n){var i=n(0),r=n(1),s=n(120).f;i({target:"Object",stat:!0,forced:r((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:s})},function(e,t,n){var i=n(0),r=n(1),s=n(10),o=n(31),a=n(97);i({target:"Object",stat:!0,forced:r((function(){o(1)})),sham:!a},{getPrototypeOf:function(e){return o(s(e))}})},function(e,t,n){n(0)({target:"Object",stat:!0},{is:n(125)})},function(e,t,n){var i=n(0),r=n(1),s=n(3),o=Object.isExtensible;i({target:"Object",stat:!0,forced:r((function(){o(1)}))},{isExtensible:function(e){return!!s(e)&&(!o||o(e))}})},function(e,t,n){var i=n(0),r=n(1),s=n(3),o=Object.isFrozen;i({target:"Object",stat:!0,forced:r((function(){o(1)}))},{isFrozen:function(e){return!s(e)||!!o&&o(e)}})},function(e,t,n){var i=n(0),r=n(1),s=n(3),o=Object.isSealed;i({target:"Object",stat:!0,forced:r((function(){o(1)}))},{isSealed:function(e){return!s(e)||!!o&&o(e)}})},function(e,t,n){var i=n(0),r=n(10),s=n(57);i({target:"Object",stat:!0,forced:n(1)((function(){s(1)}))},{keys:function(e){return s(r(e))}})},function(e,t,n){var i=n(0),r=n(3),s=n(44).onFreeze,o=n(59),a=n(1),l=Object.preventExtensions;i({target:"Object",stat:!0,forced:a((function(){l(1)})),sham:!o},{preventExtensions:function(e){return l&&r(e)?l(s(e)):e}})},function(e,t,n){var i=n(0),r=n(3),s=n(44).onFreeze,o=n(59),a=n(1),l=Object.seal;i({target:"Object",stat:!0,forced:a((function(){l(1)})),sham:!o},{seal:function(e){return l&&r(e)?l(s(e)):e}})},function(e,t,n){n(0)({target:"Object",stat:!0},{setPrototypeOf:n(46)})},function(e,t,n){var i=n(0),r=n(123).values;i({target:"Object",stat:!0},{values:function(e){return r(e)}})},function(e,t,n){var i=n(96),r=n(15),s=n(195);i||r(Object.prototype,"toString",s,{unsafe:!0})},function(e,t,n){"use strict";var i=n(96),r=n(62);e.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},function(e,t,n){"use strict";var i=n(0),r=n(5),s=n(68),o=n(10),a=n(20),l=n(9);r&&i({target:"Object",proto:!0,forced:s},{__defineGetter__:function(e,t){l.f(o(this),e,{get:a(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var i=n(0),r=n(5),s=n(68),o=n(10),a=n(20),l=n(9);r&&i({target:"Object",proto:!0,forced:s},{__defineSetter__:function(e,t){l.f(o(this),e,{set:a(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var i=n(0),r=n(5),s=n(68),o=n(10),a=n(29),l=n(31),c=n(14).f;r&&i({target:"Object",proto:!0,forced:s},{__lookupGetter__:function(e){var t,n=o(this),i=a(e,!0);do{if(t=c(n,i))return t.get}while(n=l(n))}})},function(e,t,n){"use strict";var i=n(0),r=n(5),s=n(68),o=n(10),a=n(29),l=n(31),c=n(14).f;r&&i({target:"Object",proto:!0,forced:s},{__lookupSetter__:function(e){var t,n=o(this),i=a(e,!0);do{if(t=c(n,i))return t.set}while(n=l(n))}})},function(e,t,n){n(0)({target:"Function",proto:!0},{bind:n(127)})},function(e,t,n){var i=n(5),r=n(9).f,s=Function.prototype,o=s.toString,a=/^\s*function ([^ (]*)/,l="name";i&&!(l in s)&&r(s,l,{configurable:!0,get:function(){try{return o.call(this).match(a)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var i=n(3),r=n(9),s=n(31),o=n(6)("hasInstance"),a=Function.prototype;o in a||r.f(a,o,{value:function(e){if("function"!=typeof this||!i(e))return!1;if(!i(this.prototype))return e instanceof this;for(;e=s(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){n(0)({global:!0},{globalThis:n(2)})},function(e,t,n){var i=n(0),r=n(128);i({target:"Array",stat:!0,forced:!n(69)((function(e){Array.from(e)}))},{from:r})},function(e,t,n){n(0)({target:"Array",stat:!0},{isArray:n(43)})},function(e,t,n){"use strict";var i=n(0),r=n(1),s=n(45);i({target:"Array",stat:!0,forced:r((function(){function e(){}return!(Array.of.call(e)instanceof e)}))},{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)s(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var i=n(0),r=n(1),s=n(43),o=n(3),a=n(10),l=n(7),c=n(45),u=n(58),h=n(63),d=n(6),f=n(98),p=d("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",m=f>=51||!r((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),_=h("concat"),y=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:s(e)};i({target:"Array",proto:!0,forced:!m||!_},{concat:function(e){var t,n,i,r,s,o=a(this),h=u(o,0),d=0;for(t=-1,i=arguments.length;t<i;t++)if(y(s=-1===t?o:arguments[t])){if(d+(r=l(s.length))>g)throw TypeError(v);for(n=0;n<r;n++,d++)n in s&&c(h,d,s[n])}else{if(d>=g)throw TypeError(v);c(h,d++,s)}return h.length=d,h}})},function(e,t,n){var i=n(0),r=n(129),s=n(40);i({target:"Array",proto:!0},{copyWithin:r}),s("copyWithin")},function(e,t,n){"use strict";var i=n(0),r=n(13).every,s=n(34),o=n(21),a=s("every"),l=o("every");i({target:"Array",proto:!0,forced:!a||!l},{every:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(0),r=n(99),s=n(40);i({target:"Array",proto:!0},{fill:r}),s("fill")},function(e,t,n){"use strict";var i=n(0),r=n(13).filter,s=n(63),o=n(21),a=s("filter"),l=o("filter");i({target:"Array",proto:!0,forced:!a||!l},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(0),r=n(13).find,s=n(40),o=n(21),a="find",l=!0,c=o(a);a in[]&&Array(1).find((function(){l=!1})),i({target:"Array",proto:!0,forced:l||!c},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s(a)},function(e,t,n){"use strict";var i=n(0),r=n(13).findIndex,s=n(40),o=n(21),a="findIndex",l=!0,c=o(a);a in[]&&Array(1).findIndex((function(){l=!1})),i({target:"Array",proto:!0,forced:l||!c},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s(a)},function(e,t,n){"use strict";var i=n(0),r=n(130),s=n(10),o=n(7),a=n(27),l=n(58);i({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=s(this),n=o(t.length),i=l(t,0);return i.length=r(i,t,t,n,0,void 0===e?1:a(e)),i}})},function(e,t,n){"use strict";var i=n(0),r=n(130),s=n(10),o=n(7),a=n(20),l=n(58);i({target:"Array",proto:!0},{flatMap:function(e){var t,n=s(this),i=o(n.length);return a(e),(t=l(n,0)).length=r(t,n,n,i,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},function(e,t,n){"use strict";var i=n(0),r=n(131);i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(e,t,n){"use strict";var i=n(0),r=n(55).includes,s=n(40);i({target:"Array",proto:!0,forced:!n(21)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},function(e,t,n){"use strict";var i=n(0),r=n(55).indexOf,s=n(34),o=n(21),a=[].indexOf,l=!!a&&1/[1].indexOf(1,-0)<0,c=s("indexOf"),u=o("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:l||!c||!u},{indexOf:function(e){return l?a.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(0),r=n(51),s=n(22),o=n(34),a=[].join,l=r!=Object,c=o("join",",");i({target:"Array",proto:!0,forced:l||!c},{join:function(e){return a.call(s(this),void 0===e?",":e)}})},function(e,t,n){var i=n(0),r=n(132);i({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},function(e,t,n){"use strict";var i=n(0),r=n(13).map,s=n(63),o=n(21),a=s("map"),l=o("map");i({target:"Array",proto:!0,forced:!a||!l},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(0),r=n(71).left,s=n(34),o=n(21),a=s("reduce"),l=o("reduce",{1:0});i({target:"Array",proto:!0,forced:!a||!l},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(0),r=n(71).right,s=n(34),o=n(21),a=s("reduceRight"),l=o("reduce",{1:0});i({target:"Array",proto:!0,forced:!a||!l},{reduceRight:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(0),r=n(43),s=[].reverse,o=[1,2];i({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),s.call(this)}})},function(e,t,n){"use strict";var i=n(0),r=n(3),s=n(43),o=n(38),a=n(7),l=n(22),c=n(45),u=n(6),h=n(63),d=n(21),f=h("slice"),p=d("slice",{ACCESSORS:!0,0:0,1:2}),g=u("species"),v=[].slice,m=Math.max;i({target:"Array",proto:!0,forced:!f||!p},{slice:function(e,t){var n,i,u,h=l(this),d=a(h.length),f=o(e,d),p=o(void 0===t?d:t,d);if(s(h)&&("function"!=typeof(n=h.constructor)||n!==Array&&!s(n.prototype)?r(n)&&null===(n=n[g])&&(n=void 0):n=void 0,n===Array||void 0===n))return v.call(h,f,p);for(i=new(void 0===n?Array:n)(m(p-f,0)),u=0;f<p;f++,u++)f in h&&c(i,u,h[f]);return i.length=u,i}})},function(e,t,n){"use strict";var i=n(0),r=n(13).some,s=n(34),o=n(21),a=s("some"),l=o("some");i({target:"Array",proto:!0,forced:!a||!l},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(0),r=n(20),s=n(10),o=n(1),a=n(34),l=[],c=l.sort,u=o((function(){l.sort(void 0)})),h=o((function(){l.sort(null)})),d=a("sort");i({target:"Array",proto:!0,forced:u||!h||!d},{sort:function(e){return void 0===e?c.call(s(this)):c.call(s(this),r(e))}})},function(e,t,n){"use strict";var i=n(0),r=n(38),s=n(27),o=n(7),a=n(10),l=n(58),c=n(45),u=n(63),h=n(21),d=u("splice"),f=h("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min,v=9007199254740991,m="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!d||!f},{splice:function(e,t){var n,i,u,h,d,f,_=a(this),y=o(_.length),w=r(e,y),b=arguments.length;if(0===b?n=i=0:1===b?(n=0,i=y-w):(n=b-2,i=g(p(s(t),0),y-w)),y+n-i>v)throw TypeError(m);for(u=l(_,i),h=0;h<i;h++)(d=w+h)in _&&c(u,h,_[d]);if(u.length=i,n<i){for(h=w;h<y-i;h++)f=h+n,(d=h+i)in _?_[f]=_[d]:delete _[f];for(h=y;h>y-i+n;h--)delete _[h-1]}else if(n>i)for(h=y-i;h>w;h--)f=h+n-1,(d=h+i-1)in _?_[f]=_[d]:delete _[f];for(h=0;h<n;h++)_[h+w]=arguments[h+2];return _.length=y-i+n,u}})},function(e,t,n){n(48)("Array")},function(e,t,n){n(40)("flat")},function(e,t,n){n(40)("flatMap")},function(e,t,n){var i=n(0),r=n(38),s=String.fromCharCode,o=String.fromCodePoint;i({target:"String",stat:!0,forced:!!o&&1!=o.length},{fromCodePoint:function(e){for(var t,n=[],i=arguments.length,o=0;i>o;){if(t=+arguments[o++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var i=n(0),r=n(22),s=n(7);i({target:"String",stat:!0},{raw:function(e){for(var t=r(e.raw),n=s(t.length),i=arguments.length,o=[],a=0;n>a;)o.push(String(t[a++])),a<i&&o.push(String(arguments[a]));return o.join("")}})},function(e,t,n){"use strict";var i=n(0),r=n(73).codeAt;i({target:"String",proto:!0},{codePointAt:function(e){return r(this,e)}})},function(e,t,n){"use strict";var i,r=n(0),s=n(14).f,o=n(7),a=n(102),l=n(16),c=n(103),u=n(30),h="".endsWith,d=Math.min,f=c("endsWith");r({target:"String",proto:!0,forced:!!(u||f||(i=s(String.prototype,"endsWith"),!i||i.writable))&&!f},{endsWith:function(e){var t=String(l(this));a(e);var n=arguments.length>1?arguments[1]:void 0,i=o(t.length),r=void 0===n?i:d(o(n),i),s=String(e);return h?h.call(t,s,r):t.slice(r-s.length,r)===s}})},function(e,t,n){"use strict";var i=n(0),r=n(102),s=n(16);i({target:"String",proto:!0,forced:!n(103)("includes")},{includes:function(e){return!!~String(s(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(75),r=n(4),s=n(7),o=n(16),a=n(78),l=n(79);i("match",1,(function(e,t,n){return[function(t){var n=o(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var o=r(e),c=String(this);if(!o.global)return l(o,c);var u=o.unicode;o.lastIndex=0;for(var h,d=[],f=0;null!==(h=l(o,c));){var p=String(h[0]);d[f]=p,""===p&&(o.lastIndex=a(c,s(o.lastIndex),u)),f++}return 0===f?null:d}]}))},function(e,t,n){"use strict";var i=n(0),r=n(101),s=n(16),o=n(7),a=n(20),l=n(4),c=n(25),u=n(74),h=n(64),d=n(17),f=n(1),p=n(6),g=n(35),v=n(78),m=n(18),_=n(30),y=p("matchAll"),w="RegExp String",b="RegExp String Iterator",S=m.set,T=m.getterFor(b),E=RegExp.prototype,L=E.exec,I="".matchAll,A=!!I&&!f((function(){"a".matchAll(/./)})),M=r((function(e,t,n,i){S(this,{type:b,regexp:e,string:t,global:n,unicode:i,done:!1})}),w,(function(){var e=T(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,i=function(e,t){var n,i=e.exec;if("function"==typeof i){if("object"!=typeof(n=i.call(e,t)))throw TypeError("Incorrect exec result");return n}return L.call(e,t)}(t,n);return null===i?{value:void 0,done:e.done=!0}:e.global?(""==String(i[0])&&(t.lastIndex=v(n,o(t.lastIndex),e.unicode)),{value:i,done:!1}):(e.done=!0,{value:i,done:!1})})),C=function(e){var t,n,i,r,s,a,c=l(this),u=String(e);return t=g(c,RegExp),void 0===(n=c.flags)&&c instanceof RegExp&&!("flags"in E)&&(n=h.call(c)),i=void 0===n?"":String(n),r=new t(t===RegExp?c.source:c,i),s=!!~i.indexOf("g"),a=!!~i.indexOf("u"),r.lastIndex=o(c.lastIndex),new M(r,u,s,a)};i({target:"String",proto:!0,forced:A},{matchAll:function(e){var t,n,i,r=s(this);if(null!=e){if(u(e)&&!~String(s("flags"in E?e.flags:h.call(e))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(A)return I.apply(r,arguments);if(void 0===(n=e[y])&&_&&"RegExp"==c(e)&&(n=C),null!=n)return a(n).call(e,r)}else if(A)return I.apply(r,arguments);return t=String(r),i=new RegExp(e,"g"),_?C.call(i,t):i[y](t)}}),_||y in E||d(E,y,C)},function(e,t,n){"use strict";var i=n(0),r=n(105).end;i({target:"String",proto:!0,forced:n(134)},{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(0),r=n(105).start;i({target:"String",proto:!0,forced:n(134)},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){n(0)({target:"String",proto:!0},{repeat:n(106)})},function(e,t,n){"use strict";var i=n(75),r=n(4),s=n(10),o=n(7),a=n(27),l=n(16),c=n(78),u=n(79),h=Math.max,d=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g;i("replace",2,(function(e,t,n,i){var v=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=i.REPLACE_KEEPS_$0,_=v?"$":"$0";return[function(n,i){var r=l(this),s=null==n?void 0:n[e];return void 0!==s?s.call(n,r,i):t.call(String(r),n,i)},function(e,i){if(!v&&m||"string"==typeof i&&-1===i.indexOf(_)){var s=n(t,e,this,i);if(s.done)return s.value}var l=r(e),f=String(this),p="function"==typeof i;p||(i=String(i));var g=l.global;if(g){var w=l.unicode;l.lastIndex=0}for(var b=[];;){var S=u(l,f);if(null===S)break;if(b.push(S),!g)break;""===String(S[0])&&(l.lastIndex=c(f,o(l.lastIndex),w))}for(var T,E="",L=0,I=0;I<b.length;I++){S=b[I];for(var A=String(S[0]),M=h(d(a(S.index),f.length),0),C=[],D=1;D<S.length;D++)C.push(void 0===(T=S[D])?T:String(T));var x=S.groups;if(p){var O=[A].concat(C,M,f);void 0!==x&&O.push(x);var V=String(i.apply(void 0,O))}else V=y(A,f,M,C,x,i);M>=L&&(E+=f.slice(L,M)+V,L=M+A.length)}return E+f.slice(L)}];function y(e,n,i,r,o,a){var l=i+e.length,c=r.length,u=g;return void 0!==o&&(o=s(o),u=p),t.call(a,u,(function(t,s){var a;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,i);case"'":return n.slice(l);case"<":a=o[s.slice(1,-1)];break;default:var u=+s;if(0===u)return t;if(u>c){var h=f(u/10);return 0===h?t:h<=c?void 0===r[h-1]?s.charAt(1):r[h-1]+s.charAt(1):t}a=r[u-1]}return void 0===a?"":a}))}}))},function(e,t,n){"use strict";var i=n(75),r=n(4),s=n(16),o=n(125),a=n(79);i("search",1,(function(e,t,n){return[function(t){var n=s(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var s=r(e),l=String(this),c=s.lastIndex;o(c,0)||(s.lastIndex=0);var u=a(s,l);return o(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]}))},function(e,t,n){"use strict";var i=n(75),r=n(74),s=n(4),o=n(16),a=n(35),l=n(78),c=n(7),u=n(79),h=n(76),d=n(1),f=[].push,p=Math.min,g=4294967295,v=!d((function(){return!RegExp(g,"y")}));i("split",2,(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=String(o(this)),s=void 0===n?g:n>>>0;if(0===s)return[];if(void 0===e)return[i];if(!r(e))return t.call(i,e,s);for(var a,l,c,u=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,v=new RegExp(e.source,d+"g");(a=h.call(v,i))&&!((l=v.lastIndex)>p&&(u.push(i.slice(p,a.index)),a.length>1&&a.index<i.length&&f.apply(u,a.slice(1)),c=a[0].length,p=l,u.length>=s));)v.lastIndex===a.index&&v.lastIndex++;return p===i.length?!c&&v.test("")||u.push(""):u.push(i.slice(p)),u.length>s?u.slice(0,s):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var r=o(this),s=null==t?void 0:t[e];return void 0!==s?s.call(t,r,n):i.call(String(r),t,n)},function(e,r){var o=n(i,e,this,r,i!==t);if(o.done)return o.value;var h=s(e),d=String(this),f=a(h,RegExp),m=h.unicode,_=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(v?"y":"g"),y=new f(v?h:"^(?:"+h.source+")",_),w=void 0===r?g:r>>>0;if(0===w)return[];if(0===d.length)return null===u(y,d)?[d]:[];for(var b=0,S=0,T=[];S<d.length;){y.lastIndex=v?S:0;var E,L=u(y,v?d:d.slice(S));if(null===L||(E=p(c(y.lastIndex+(v?0:S)),d.length))===b)S=l(d,S,m);else{if(T.push(d.slice(b,S)),T.length===w)return T;for(var I=1;I<=L.length-1;I++)if(T.push(L[I]),T.length===w)return T;S=b=E}}return T.push(d.slice(b)),T}]}),!v)},function(e,t,n){"use strict";var i,r=n(0),s=n(14).f,o=n(7),a=n(102),l=n(16),c=n(103),u=n(30),h="".startsWith,d=Math.min,f=c("startsWith");r({target:"String",proto:!0,forced:!!(u||f||(i=s(String.prototype,"startsWith"),!i||i.writable))&&!f},{startsWith:function(e){var t=String(l(this));a(e);var n=o(d(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return h?h.call(t,i,n):t.slice(n,n+i.length)===i}})},function(e,t,n){"use strict";var i=n(0),r=n(49).trim;i({target:"String",proto:!0,forced:n(107)("trim")},{trim:function(){return r(this)}})},function(e,t,n){"use strict";var i=n(0),r=n(49).start,s=n(107)("trimStart"),o=s?function(){return r(this)}:"".trimStart;i({target:"String",proto:!0,forced:s},{trimStart:o,trimLeft:o})},function(e,t,n){"use strict";var i=n(0),r=n(49).end,s=n(107)("trimEnd"),o=s?function(){return r(this)}:"".trimEnd;i({target:"String",proto:!0,forced:s},{trimEnd:o,trimRight:o})},function(e,t,n){"use strict";var i=n(0),r=n(23);i({target:"String",proto:!0,forced:n(24)("anchor")},{anchor:function(e){return r(this,"a","name",e)}})},function(e,t,n){"use strict";var i=n(0),r=n(23);i({target:"String",proto:!0,forced:n(24)("big")},{big:function(){return r(this,"big","","")}})},function(e,t,n){"use strict";var i=n(0),r=n(23);i({target:"String",proto:!0,forced:n(24)("blink")},{blink:function(){return r(this,"blink","","")}})},function(e,t,n){"use strict";var i=n(0),r=n(23);i({target:"String",proto:!0,forced:n(24)("bold")},{bold:function(){return r(this,"b","","")}})},function(e,t,n){"use strict";var i=n(0),r=n(23);i({target:"String",proto:!0,forced:n(24)("fixed")},{fixed:function(){return r(this,"tt","","")}})},function(e,t,n){"use strict";var i=n(0),r=n(23);i({target:"String",proto:!0,forced:n(24)("fontcolor")},{fontcolor:function(e){return r(this,"font","color",e)}})},function(e,t,n){"use strict";var i=n(0),r=n(23);i({target:"String",proto:!0,forced:n(24)("fontsize")},{fontsize:function(e){return r(this,"font","size",e)}})},function(e,t,n){"use strict";var i=n(0),r=n(23);i({target:"String",proto:!0,forced:n(24)("italics")},{italics:function(){return r(this,"i","","")}})},function(e,t,n){"use strict";var i=n(0),r=n(23);i({target:"String",proto:!0,forced:n(24)("link")},{link:function(e){return r(this,"a","href",e)}})},function(e,t,n){"use strict";var i=n(0),r=n(23);i({target:"String",proto:!0,forced:n(24)("small")},{small:function(){return r(this,"small","","")}})},function(e,t,n){"use strict";var i=n(0),r=n(23);i({target:"String",proto:!0,forced:n(24)("strike")},{strike:function(){return r(this,"strike","","")}})},function(e,t,n){"use strict";var i=n(0),r=n(23);i({target:"String",proto:!0,forced:n(24)("sub")},{sub:function(){return r(this,"sub","","")}})},function(e,t,n){"use strict";var i=n(0),r=n(23);i({target:"String",proto:!0,forced:n(24)("sup")},{sup:function(){return r(this,"sup","","")}})},function(e,t,n){var i=n(5),r=n(2),s=n(56),o=n(81),a=n(9).f,l=n(42).f,c=n(74),u=n(64),h=n(77),d=n(15),f=n(1),p=n(18).set,g=n(48),v=n(6)("match"),m=r.RegExp,_=m.prototype,y=/a/g,w=/a/g,b=new m(y)!==y,S=h.UNSUPPORTED_Y;if(i&&s("RegExp",!b||S||f((function(){return w[v]=!1,m(y)!=y||m(w)==w||"/a/i"!=m(y,"i")})))){for(var T=function(e,t){var n,i=this instanceof T,r=c(e),s=void 0===t;if(!i&&r&&e.constructor===T&&s)return e;b?r&&!s&&(e=e.source):e instanceof T&&(s&&(t=u.call(e)),e=e.source),S&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var a=o(b?new m(e,t):m(e,t),i?this:_,T);return S&&n&&p(a,{sticky:n}),a},E=function(e){e in T||a(T,e,{configurable:!0,get:function(){return m[e]},set:function(t){m[e]=t}})},L=l(m),I=0;L.length>I;)E(L[I++]);_.constructor=T,T.prototype=_,d(r,"RegExp",T)}g("RegExp")},function(e,t,n){var i=n(5),r=n(9),s=n(64),o=n(77).UNSUPPORTED_Y;i&&("g"!=/./g.flags||o)&&r.f(RegExp.prototype,"flags",{configurable:!0,get:s})},function(e,t,n){var i=n(5),r=n(77).UNSUPPORTED_Y,s=n(9).f,o=n(18).get,a=RegExp.prototype;i&&r&&s(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==a){if(this instanceof RegExp)return!!o(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}})},function(e,t,n){"use strict";n(104);var i,r,s=n(0),o=n(3),a=(i=!1,(r=/[ac]/).exec=function(){return i=!0,/./.exec.apply(this,arguments)},!0===r.test("abc")&&i),l=/./.test;s({target:"RegExp",proto:!0,forced:!a},{test:function(e){if("function"!=typeof this.exec)return l.call(this,e);var t=this.exec(e);if(null!==t&&!o(t))throw new Error("RegExp exec method returned something other than an Object or null");return!!t}})},function(e,t,n){"use strict";var i=n(15),r=n(4),s=n(1),o=n(64),a="toString",l=RegExp.prototype,c=l.toString,u=s((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),h=c.name!=a;(u||h)&&i(RegExp.prototype,a,(function(){var e=r(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in l)?o.call(e):n)}),{unsafe:!0})},function(e,t,n){var i=n(0),r=n(136);i({global:!0,forced:parseInt!=r},{parseInt:r})},function(e,t,n){var i=n(0),r=n(137);i({global:!0,forced:parseFloat!=r},{parseFloat:r})},function(e,t,n){"use strict";var i=n(5),r=n(2),s=n(56),o=n(15),a=n(12),l=n(25),c=n(81),u=n(29),h=n(1),d=n(33),f=n(42).f,p=n(14).f,g=n(9).f,v=n(49).trim,m="Number",_=r.Number,y=_.prototype,w=l(d(y))==m,b=function(e){var t,n,i,r,s,o,a,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=v(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+c}for(o=(s=c.slice(2)).length,a=0;a<o;a++)if((l=s.charCodeAt(a))<48||l>r)return NaN;return parseInt(s,i)}return+c};if(s(m,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var S,T=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof T&&(w?h((function(){y.valueOf.call(n)})):l(n)!=m)?c(new _(b(t)),n,T):b(t)},E=i?f(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),L=0;E.length>L;L++)a(_,S=E[L])&&!a(T,S)&&g(T,S,p(_,S));T.prototype=y,y.constructor=T,o(r,m,T)}},function(e,t,n){n(0)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(e,t,n){n(0)({target:"Number",stat:!0},{isFinite:n(272)})},function(e,t,n){var i=n(2).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&i(e)}},function(e,t,n){n(0)({target:"Number",stat:!0},{isInteger:n(138)})},function(e,t,n){n(0)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,n){var i=n(0),r=n(138),s=Math.abs;i({target:"Number",stat:!0},{isSafeInteger:function(e){return r(e)&&s(e)<=9007199254740991}})},function(e,t,n){n(0)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){n(0)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var i=n(0),r=n(137);i({target:"Number",stat:!0,forced:Number.parseFloat!=r},{parseFloat:r})},function(e,t,n){var i=n(0),r=n(136);i({target:"Number",stat:!0,forced:Number.parseInt!=r},{parseInt:r})},function(e,t,n){"use strict";var i=n(0),r=n(27),s=n(139),o=n(106),a=n(1),l=1..toFixed,c=Math.floor,u=function(e,t,n){return 0===t?n:t%2==1?u(e,t-1,n*e):u(e*e,t/2,n)};i({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a((function(){l.call({})}))},{toFixed:function(e){var t,n,i,a,l=s(this),h=r(e),d=[0,0,0,0,0,0],f="",p="0",g=function(e,t){for(var n=-1,i=t;++n<6;)i+=e*d[n],d[n]=i%1e7,i=c(i/1e7)},v=function(e){for(var t=6,n=0;--t>=0;)n+=d[t],d[t]=c(n/e),n=n%e*1e7},m=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==d[e]){var n=String(d[e]);t=""===t?n:t+o.call("0",7-n.length)+n}return t};if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(f="-",l=-l),l>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(l*u(2,69,1))-69)<0?l*u(2,-t,1):l/u(2,t,1),n*=4503599627370496,(t=52-t)>0){for(g(0,n),i=h;i>=7;)g(1e7,0),i-=7;for(g(u(10,i,1),0),i=t-1;i>=23;)v(1<<23),i-=23;v(1<<i),g(1,1),v(2),p=m()}else g(0,n),g(1<<-t,0),p=m()+o.call("0",h);return p=h>0?f+((a=p.length)<=h?"0."+o.call("0",h-a)+p:p.slice(0,a-h)+"."+p.slice(a-h)):f+p}})},function(e,t,n){"use strict";var i=n(0),r=n(1),s=n(139),o=1..toPrecision;i({target:"Number",proto:!0,forced:r((function(){return"1"!==o.call(1,void 0)}))||!r((function(){o.call({})}))},{toPrecision:function(e){return void 0===e?o.call(s(this)):o.call(s(this),e)}})},function(e,t,n){var i=n(0),r=n(140),s=Math.acosh,o=Math.log,a=Math.sqrt,l=Math.LN2;i({target:"Math",stat:!0,forced:!s||710!=Math.floor(s(Number.MAX_VALUE))||s(1/0)!=1/0},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?o(e)+l:r(e-1+a(e-1)*a(e+1))}})},function(e,t,n){var i=n(0),r=Math.asinh,s=Math.log,o=Math.sqrt;i({target:"Math",stat:!0,forced:!(r&&1/r(0)>0)},{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):s(t+o(t*t+1)):t}})},function(e,t,n){var i=n(0),r=Math.atanh,s=Math.log;i({target:"Math",stat:!0,forced:!(r&&1/r(-0)<0)},{atanh:function(e){return 0==(e=+e)?e:s((1+e)/(1-e))/2}})},function(e,t,n){var i=n(0),r=n(108),s=Math.abs,o=Math.pow;i({target:"Math",stat:!0},{cbrt:function(e){return r(e=+e)*o(s(e),1/3)}})},function(e,t,n){var i=n(0),r=Math.floor,s=Math.log,o=Math.LOG2E;i({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-r(s(e+.5)*o):32}})},function(e,t,n){var i=n(0),r=n(82),s=Math.cosh,o=Math.abs,a=Math.E;i({target:"Math",stat:!0,forced:!s||s(710)===1/0},{cosh:function(e){var t=r(o(e)-1)+1;return(t+1/(t*a*a))*(a/2)}})},function(e,t,n){var i=n(0),r=n(82);i({target:"Math",stat:!0,forced:r!=Math.expm1},{expm1:r})},function(e,t,n){n(0)({target:"Math",stat:!0},{fround:n(290)})},function(e,t,n){var i=n(108),r=Math.abs,s=Math.pow,o=s(2,-52),a=s(2,-23),l=s(2,127)*(2-a),c=s(2,-126);e.exports=Math.fround||function(e){var t,n,s=r(e),u=i(e);return s<c?u*(s/c/a+1/o-1/o)*c*a:(n=(t=(1+a/o)*s)-(t-s))>l||n!=n?u*(1/0):u*n}},function(e,t,n){var i=n(0),r=Math.hypot,s=Math.abs,o=Math.sqrt;i({target:"Math",stat:!0,forced:!!r&&r(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,i,r=0,a=0,l=arguments.length,c=0;a<l;)c<(n=s(arguments[a++]))?(r=r*(i=c/n)*i+1,c=n):r+=n>0?(i=n/c)*i:n;return c===1/0?1/0:c*o(r)}})},function(e,t,n){var i=n(0),r=n(1),s=Math.imul;i({target:"Math",stat:!0,forced:r((function(){return-5!=s(4294967295,5)||2!=s.length}))},{imul:function(e,t){var n=65535,i=+e,r=+t,s=n&i,o=n&r;return 0|s*o+((n&i>>>16)*o+s*(n&r>>>16)<<16>>>0)}})},function(e,t,n){var i=n(0),r=Math.log,s=Math.LOG10E;i({target:"Math",stat:!0},{log10:function(e){return r(e)*s}})},function(e,t,n){n(0)({target:"Math",stat:!0},{log1p:n(140)})},function(e,t,n){var i=n(0),r=Math.log,s=Math.LN2;i({target:"Math",stat:!0},{log2:function(e){return r(e)/s}})},function(e,t,n){n(0)({target:"Math",stat:!0},{sign:n(108)})},function(e,t,n){var i=n(0),r=n(1),s=n(82),o=Math.abs,a=Math.exp,l=Math.E;i({target:"Math",stat:!0,forced:r((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(e){return o(e=+e)<1?(s(e)-s(-e))/2:(a(e-1)-a(-e-1))*(l/2)}})},function(e,t,n){var i=n(0),r=n(82),s=Math.exp;i({target:"Math",stat:!0},{tanh:function(e){var t=r(e=+e),n=r(-e);return t==1/0?1:n==1/0?-1:(t-n)/(s(e)+s(-e))}})},function(e,t,n){n(32)(Math,"Math",!0)},function(e,t,n){var i=n(0),r=Math.ceil,s=Math.floor;i({target:"Math",stat:!0},{trunc:function(e){return(e>0?s:r)(e)}})},function(e,t,n){n(0)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var i=n(0),r=n(1),s=n(10),o=n(29);i({target:"Date",proto:!0,forced:r((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=s(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var i=n(0),r=n(304);i({target:"Date",proto:!0,forced:Date.prototype.toISOString!==r},{toISOString:r})},function(e,t,n){"use strict";var i=n(1),r=n(105).start,s=Math.abs,o=Date.prototype,a=o.getTime,l=o.toISOString;e.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=l.call(new Date(-50000000000001))}))||!i((function(){l.call(new Date(NaN))}))?function(){if(!isFinite(a.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),i=t<0?"-":t>9999?"+":"";return i+r(s(t),i?6:4,0)+"-"+r(e.getUTCMonth()+1,2,0)+"-"+r(e.getUTCDate(),2,0)+"T"+r(e.getUTCHours(),2,0)+":"+r(e.getUTCMinutes(),2,0)+":"+r(e.getUTCSeconds(),2,0)+"."+r(n,3,0)+"Z"}:l},function(e,t,n){var i=n(15),r=Date.prototype,s="Invalid Date",o="toString",a=r.toString,l=r.getTime;new Date(NaN)+""!=s&&i(r,o,(function(){var e=l.call(this);return e==e?a.call(this):s}))},function(e,t,n){var i=n(17),r=n(307),s=n(6)("toPrimitive"),o=Date.prototype;s in o||i(o,s,r)},function(e,t,n){"use strict";var i=n(4),r=n(29);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return r(i(this),"number"!==e)}},function(e,t,n){var i=n(0),r=n(26),s=n(1),o=r("JSON","stringify"),a=/[\uD800-\uDFFF]/g,l=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,u=function(e,t,n){var i=n.charAt(t-1),r=n.charAt(t+1);return l.test(e)&&!c.test(r)||c.test(e)&&!l.test(i)?"\\u"+e.charCodeAt(0).toString(16):e},h=s((function(){return'"\\udf06\\ud834"'!==o("\udf06\ud834")||'"\\udead"'!==o("\udead")}));o&&i({target:"JSON",stat:!0,forced:h},{stringify:function(e,t,n){var i=o.apply(null,arguments);return"string"==typeof i?i.replace(a,u):i}})},function(e,t,n){var i=n(2);n(32)(i.JSON,"JSON",!0)},function(e,t,n){"use strict";var i,r,s,o,a=n(0),l=n(30),c=n(2),u=n(26),h=n(141),d=n(15),f=n(50),p=n(32),g=n(48),v=n(3),m=n(20),_=n(41),y=n(25),w=n(88),b=n(47),S=n(69),T=n(35),E=n(109).set,L=n(143),I=n(144),A=n(311),M=n(110),C=n(145),D=n(18),x=n(56),O=n(6),V=n(98),R=O("species"),P="Promise",N=D.get,B=D.set,k=D.getterFor(P),U=h,H=c.TypeError,F=c.document,q=c.process,j=u("fetch"),W=M.f,G=W,Y="process"==y(q),K=!!(F&&F.createEvent&&c.dispatchEvent),z="unhandledrejection",$=x(P,(function(){if(!(w(U)!==String(U))){if(66===V)return!0;if(!Y&&"function"!=typeof PromiseRejectionEvent)return!0}if(l&&!U.prototype.finally)return!0;if(V>=51&&/native code/.test(U))return!1;var e=U.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[R]=t,!(e.then((function(){}))instanceof t)})),X=$||!S((function(e){U.all(e).catch((function(){}))})),J=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},Z=function(e,t,n){if(!t.notified){t.notified=!0;var i=t.reactions;L((function(){for(var r=t.value,s=1==t.state,o=0;i.length>o;){var a,l,c,u=i[o++],h=s?u.ok:u.fail,d=u.resolve,f=u.reject,p=u.domain;try{h?(s||(2===t.rejection&&ne(e,t),t.rejection=1),!0===h?a=r:(p&&p.enter(),a=h(r),p&&(p.exit(),c=!0)),a===u.promise?f(H("Promise-chain cycle")):(l=J(a))?l.call(a,d,f):d(a)):f(r)}catch(e){p&&!c&&p.exit(),f(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&ee(e,t)}))}},Q=function(e,t,n){var i,r;K?((i=F.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),c.dispatchEvent(i)):i={promise:t,reason:n},(r=c["on"+e])?r(i):e===z&&A("Unhandled promise rejection",n)},ee=function(e,t){E.call(c,(function(){var n,i=t.value;if(te(t)&&(n=C((function(){Y?q.emit("unhandledRejection",i,e):Q(z,e,i)})),t.rejection=Y||te(t)?2:1,n.error))throw n.value}))},te=function(e){return 1!==e.rejection&&!e.parent},ne=function(e,t){E.call(c,(function(){Y?q.emit("rejectionHandled",e):Q("rejectionhandled",e,t.value)}))},ie=function(e,t,n,i){return function(r){e(t,n,r,i)}},re=function(e,t,n,i){t.done||(t.done=!0,i&&(t=i),t.value=n,t.state=2,Z(e,t,!0))},se=function(e,t,n,i){if(!t.done){t.done=!0,i&&(t=i);try{if(e===n)throw H("Promise can't be resolved itself");var r=J(n);r?L((function(){var i={done:!1};try{r.call(n,ie(se,e,i,t),ie(re,e,i,t))}catch(n){re(e,i,n,t)}})):(t.value=n,t.state=1,Z(e,t,!1))}catch(n){re(e,{done:!1},n,t)}}};$&&(U=function(e){_(this,U,P),m(e),i.call(this);var t=N(this);try{e(ie(se,this,t),ie(re,this,t))}catch(e){re(this,t,e)}},(i=function(e){B(this,{type:P,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(U.prototype,{then:function(e,t){var n=k(this),i=W(T(this,U));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=Y?q.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&Z(this,n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new i,t=N(e);this.promise=e,this.resolve=ie(se,e,t),this.reject=ie(re,e,t)},M.f=W=function(e){return e===U||e===s?new r(e):G(e)},l||"function"!=typeof h||(o=h.prototype.then,d(h.prototype,"then",(function(e,t){var n=this;return new U((function(e,t){o.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof j&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return I(U,j.apply(c,arguments))}}))),a({global:!0,wrap:!0,forced:$},{Promise:U}),p(U,P,!1,!0),g(P),s=u(P),a({target:P,stat:!0,forced:$},{reject:function(e){var t=W(this);return t.reject.call(void 0,e),t.promise}}),a({target:P,stat:!0,forced:l||$},{resolve:function(e){return I(l&&this===s?U:this,e)}}),a({target:P,stat:!0,forced:X},{all:function(e){var t=this,n=W(t),i=n.resolve,r=n.reject,s=C((function(){var n=m(t.resolve),s=[],o=0,a=1;b(e,(function(e){var l=o++,c=!1;s.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,s[l]=e,--a||i(s))}),r)})),--a||i(s)}));return s.error&&r(s.value),n.promise},race:function(e){var t=this,n=W(t),i=n.reject,r=C((function(){var r=m(t.resolve);b(e,(function(e){r.call(t,e).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},function(e,t,n){var i=n(2);e.exports=function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t,n){"use strict";var i=n(0),r=n(20),s=n(110),o=n(145),a=n(47);i({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=s.f(t),i=n.resolve,l=n.reject,c=o((function(){var n=r(t.resolve),s=[],o=0,l=1;a(e,(function(e){var r=o++,a=!1;s.push(void 0),l++,n.call(t,e).then((function(e){a||(a=!0,s[r]={status:"fulfilled",value:e},--l||i(s))}),(function(e){a||(a=!0,s[r]={status:"rejected",reason:e},--l||i(s))}))})),--l||i(s)}));return c.error&&l(c.value),n.promise}})},function(e,t,n){"use strict";var i=n(0),r=n(30),s=n(141),o=n(1),a=n(26),l=n(35),c=n(144),u=n(15);i({target:"Promise",proto:!0,real:!0,forced:!!s&&o((function(){s.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,a("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),r||"function"!=typeof s||s.prototype.finally||u(s.prototype,"finally",a("Promise").prototype.finally)},function(e,t,n){"use strict";var i=n(83),r=n(146);e.exports=i("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},function(e,t,n){"use strict";var i=n(83),r=n(146);e.exports=i("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},function(e,t,n){"use strict";var i,r=n(2),s=n(50),o=n(44),a=n(83),l=n(147),c=n(3),u=n(18).enforce,h=n(115),d=!r.ActiveXObject&&"ActiveXObject"in r,f=Object.isExtensible,p=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},g=e.exports=a("WeakMap",p,l);if(h&&d){i=l.getConstructor(p,"WeakMap",!0),o.REQUIRED=!0;var v=g.prototype,m=v.delete,_=v.has,y=v.get,w=v.set;s(v,{delete:function(e){if(c(e)&&!f(e)){var t=u(this);return t.frozen||(t.frozen=new i),m.call(this,e)||t.frozen.delete(e)}return m.call(this,e)},has:function(e){if(c(e)&&!f(e)){var t=u(this);return t.frozen||(t.frozen=new i),_.call(this,e)||t.frozen.has(e)}return _.call(this,e)},get:function(e){if(c(e)&&!f(e)){var t=u(this);return t.frozen||(t.frozen=new i),_.call(this,e)?y.call(this,e):t.frozen.get(e)}return y.call(this,e)},set:function(e,t){if(c(e)&&!f(e)){var n=u(this);n.frozen||(n.frozen=new i),_.call(this,e)?w.call(this,e,t):n.frozen.set(e,t)}else w.call(this,e,t);return this}})}},function(e,t,n){"use strict";n(83)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(147))},function(e,t,n){"use strict";var i=n(0),r=n(2),s=n(84),o=n(48),a="ArrayBuffer",l=s.ArrayBuffer;i({global:!0,forced:r.ArrayBuffer!==l},{ArrayBuffer:l}),o(a)},function(e,t){var n=1/0,i=Math.abs,r=Math.pow,s=Math.floor,o=Math.log,a=Math.LN2;e.exports={pack:function(e,t,l){var c,u,h,d=new Array(l),f=8*l-t-1,p=(1<<f)-1,g=p>>1,v=23===t?r(2,-24)-r(2,-77):0,m=e<0||0===e&&1/e<0?1:0,_=0;for((e=i(e))!=e||e===n?(u=e!=e?1:0,c=p):(c=s(o(e)/a),e*(h=r(2,-c))<1&&(c--,h*=2),(e+=c+g>=1?v/h:v*r(2,1-g))*h>=2&&(c++,h/=2),c+g>=p?(u=0,c=p):c+g>=1?(u=(e*h-1)*r(2,t),c+=g):(u=e*r(2,g-1)*r(2,t),c=0));t>=8;d[_++]=255&u,u/=256,t-=8);for(c=c<<t|u,f+=t;f>0;d[_++]=255&c,c/=256,f-=8);return d[--_]|=128*m,d},unpack:function(e,t){var i,s=e.length,o=8*s-t-1,a=(1<<o)-1,l=a>>1,c=o-7,u=s-1,h=e[u--],d=127&h;for(h>>=7;c>0;d=256*d+e[u],u--,c-=8);for(i=d&(1<<-c)-1,d>>=-c,c+=t;c>0;i=256*i+e[u],u--,c-=8);if(0===d)d=1-l;else{if(d===a)return i?NaN:h?-1/0:n;i+=r(2,t),d-=l}return(h?-1:1)*i*r(2,d-t)}}},function(e,t,n){var i=n(0),r=n(8);i({target:"ArrayBuffer",stat:!0,forced:!r.NATIVE_ARRAY_BUFFER_VIEWS},{isView:r.isView})},function(e,t,n){"use strict";var i=n(0),r=n(1),s=n(84),o=n(4),a=n(38),l=n(7),c=n(35),u=s.ArrayBuffer,h=s.DataView,d=u.prototype.slice;i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:r((function(){return!new u(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==d&&void 0===t)return d.call(o(this),e);for(var n=o(this).byteLength,i=a(e,n),r=a(void 0===t?n:t,n),s=new(c(this,u))(l(r-i)),f=new h(this),p=new h(s),g=0;i<r;)p.setUint8(g++,f.getUint8(i++));return s}})},function(e,t,n){var i=n(0),r=n(84);i({global:!0,forced:!n(111)},{DataView:r.DataView})},function(e,t,n){n(36)("Int8",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},function(e,t,n){var i=n(27);e.exports=function(e){var t=i(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},function(e,t,n){n(36)("Uint8",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},function(e,t,n){n(36)("Uint8",(function(e){return function(t,n,i){return e(this,t,n,i)}}),!0)},function(e,t,n){n(36)("Int16",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},function(e,t,n){n(36)("Uint16",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},function(e,t,n){n(36)("Int32",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},function(e,t,n){n(36)("Uint32",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},function(e,t,n){n(36)("Float32",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},function(e,t,n){n(36)("Float64",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},function(e,t,n){"use strict";var i=n(112);(0,n(8).exportTypedArrayStaticMethod)("from",n(150),i)},function(e,t,n){"use strict";var i=n(8),r=n(112),s=i.aTypedArrayConstructor;(0,i.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,n=new(s(this))(t);t>e;)n[e]=arguments[e++];return n}),r)},function(e,t,n){"use strict";var i=n(8),r=n(129),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return r.call(s(this),e,t,arguments.length>2?arguments[2]:void 0)}))},function(e,t,n){"use strict";var i=n(8),r=n(13).every,s=i.aTypedArray;(0,i.exportTypedArrayMethod)("every",(function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(8),r=n(99),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("fill",(function(e){return r.apply(s(this),arguments)}))},function(e,t,n){"use strict";var i=n(8),r=n(13).filter,s=n(35),o=i.aTypedArray,a=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)("filter",(function(e){for(var t=r(o(this),e,arguments.length>1?arguments[1]:void 0),n=s(this,this.constructor),i=0,l=t.length,c=new(a(n))(l);l>i;)c[i]=t[i++];return c}))},function(e,t,n){"use strict";var i=n(8),r=n(13).find,s=i.aTypedArray;(0,i.exportTypedArrayMethod)("find",(function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(8),r=n(13).findIndex,s=i.aTypedArray;(0,i.exportTypedArrayMethod)("findIndex",(function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(8),r=n(13).forEach,s=i.aTypedArray;(0,i.exportTypedArrayMethod)("forEach",(function(e){r(s(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(8),r=n(55).includes,s=i.aTypedArray;(0,i.exportTypedArrayMethod)("includes",(function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(8),r=n(55).indexOf,s=i.aTypedArray;(0,i.exportTypedArrayMethod)("indexOf",(function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(2),r=n(8),s=n(72),o=n(6)("iterator"),a=i.Uint8Array,l=s.values,c=s.keys,u=s.entries,h=r.aTypedArray,d=r.exportTypedArrayMethod,f=a&&a.prototype[o],p=!!f&&("values"==f.name||null==f.name),g=function(){return l.call(h(this))};d("entries",(function(){return u.call(h(this))})),d("keys",(function(){return c.call(h(this))})),d("values",g,!p),d(o,g,!p)},function(e,t,n){"use strict";var i=n(8),r=i.aTypedArray,s=i.exportTypedArrayMethod,o=[].join;s("join",(function(e){return o.apply(r(this),arguments)}))},function(e,t,n){"use strict";var i=n(8),r=n(132),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("lastIndexOf",(function(e){return r.apply(s(this),arguments)}))},function(e,t,n){"use strict";var i=n(8),r=n(13).map,s=n(35),o=i.aTypedArray,a=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)("map",(function(e){return r(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(s(e,e.constructor)))(t)}))}))},function(e,t,n){"use strict";var i=n(8),r=n(71).left,s=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduce",(function(e){return r(s(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(8),r=n(71).right,s=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduceRight",(function(e){return r(s(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(8),r=i.aTypedArray,s=i.exportTypedArrayMethod,o=Math.floor;s("reverse",(function(){for(var e,t=this,n=r(t).length,i=o(n/2),s=0;s<i;)e=t[s],t[s++]=t[--n],t[n]=e;return t}))},function(e,t,n){"use strict";var i=n(8),r=n(7),s=n(149),o=n(10),a=n(1),l=i.aTypedArray;(0,i.exportTypedArrayMethod)("set",(function(e){l(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=this.length,i=o(e),a=r(i.length),c=0;if(a+t>n)throw RangeError("Wrong length");for(;c<a;)this[t+c]=i[c++]}),a((function(){new Int8Array(1).set({})})))},function(e,t,n){"use strict";var i=n(8),r=n(35),s=n(1),o=i.aTypedArray,a=i.aTypedArrayConstructor,l=i.exportTypedArrayMethod,c=[].slice;l("slice",(function(e,t){for(var n=c.call(o(this),e,t),i=r(this,this.constructor),s=0,l=n.length,u=new(a(i))(l);l>s;)u[s]=n[s++];return u}),s((function(){new Int8Array(1).slice()})))},function(e,t,n){"use strict";var i=n(8),r=n(13).some,s=i.aTypedArray;(0,i.exportTypedArrayMethod)("some",(function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,n){"use strict";var i=n(8),r=i.aTypedArray,s=i.exportTypedArrayMethod,o=[].sort;s("sort",(function(e){return o.call(r(this),e)}))},function(e,t,n){"use strict";var i=n(8),r=n(7),s=n(38),o=n(35),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("subarray",(function(e,t){var n=a(this),i=n.length,l=s(e,i);return new(o(n,n.constructor))(n.buffer,n.byteOffset+l*n.BYTES_PER_ELEMENT,r((void 0===t?i:s(t,i))-l))}))},function(e,t,n){"use strict";var i=n(2),r=n(8),s=n(1),o=i.Int8Array,a=r.aTypedArray,l=r.exportTypedArrayMethod,c=[].toLocaleString,u=[].slice,h=!!o&&s((function(){c.call(new o(1))}));l("toLocaleString",(function(){return c.apply(h?u.call(a(this)):a(this),arguments)}),s((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!s((function(){o.prototype.toLocaleString.call([1,2])})))},function(e,t,n){"use strict";var i=n(8).exportTypedArrayMethod,r=n(1),s=n(2).Uint8Array,o=s&&s.prototype||{},a=[].toString,l=[].join;r((function(){a.call({})}))&&(a=function(){return l.call(this)});var c=o.toString!=a;i("toString",a,c)},function(e,t,n){var i=n(0),r=n(26),s=n(20),o=n(4),a=n(1),l=r("Reflect","apply"),c=Function.apply;i({target:"Reflect",stat:!0,forced:!a((function(){l((function(){}))}))},{apply:function(e,t,n){return s(e),o(n),l?l(e,t,n):c.call(e,t,n)}})},function(e,t,n){var i=n(0),r=n(26),s=n(20),o=n(4),a=n(3),l=n(33),c=n(127),u=n(1),h=r("Reflect","construct"),d=u((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),f=!u((function(){h((function(){}))})),p=d||f;i({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){s(e),o(t);var n=arguments.length<3?e:s(arguments[2]);if(f&&!d)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(c.apply(e,i))}var r=n.prototype,u=l(a(r)?r:Object.prototype),p=Function.apply.call(e,u,t);return a(p)?p:u}})},function(e,t,n){var i=n(0),r=n(5),s=n(4),o=n(29),a=n(9);i({target:"Reflect",stat:!0,forced:n(1)((function(){Reflect.defineProperty(a.f({},1,{value:1}),1,{value:2})})),sham:!r},{defineProperty:function(e,t,n){s(e);var i=o(t,!0);s(n);try{return a.f(e,i,n),!0}catch(e){return!1}}})},function(e,t,n){var i=n(0),r=n(4),s=n(14).f;i({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=s(r(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){var i=n(0),r=n(3),s=n(4),o=n(12),a=n(14),l=n(31);i({target:"Reflect",stat:!0},{get:function e(t,n){var i,c,u=arguments.length<3?t:arguments[2];return s(t)===u?t[n]:(i=a.f(t,n))?o(i,"value")?i.value:void 0===i.get?void 0:i.get.call(u):r(c=l(t))?e(c,n,u):void 0}})},function(e,t,n){var i=n(0),r=n(5),s=n(4),o=n(14);i({target:"Reflect",stat:!0,sham:!r},{getOwnPropertyDescriptor:function(e,t){return o.f(s(e),t)}})},function(e,t,n){var i=n(0),r=n(4),s=n(31);i({target:"Reflect",stat:!0,sham:!n(97)},{getPrototypeOf:function(e){return s(r(e))}})},function(e,t,n){n(0)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},function(e,t,n){var i=n(0),r=n(4),s=Object.isExtensible;i({target:"Reflect",stat:!0},{isExtensible:function(e){return r(e),!s||s(e)}})},function(e,t,n){n(0)({target:"Reflect",stat:!0},{ownKeys:n(90)})},function(e,t,n){var i=n(0),r=n(26),s=n(4);i({target:"Reflect",stat:!0,sham:!n(59)},{preventExtensions:function(e){s(e);try{var t=r("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}})},function(e,t,n){var i=n(0),r=n(4),s=n(3),o=n(12),a=n(1),l=n(9),c=n(14),u=n(31),h=n(37);i({target:"Reflect",stat:!0,forced:a((function(){var e=l.f({},"a",{configurable:!0});return!1!==Reflect.set(u(e),"a",1,e)}))},{set:function e(t,n,i){var a,d,f=arguments.length<4?t:arguments[3],p=c.f(r(t),n);if(!p){if(s(d=u(t)))return e(d,n,i,f);p=h(0)}if(o(p,"value")){if(!1===p.writable||!s(f))return!1;if(a=c.f(f,n)){if(a.get||a.set||!1===a.writable)return!1;a.value=i,l.f(f,n,a)}else l.f(f,n,h(0,i));return!0}return void 0!==p.set&&(p.set.call(f,i),!0)}})},function(e,t,n){var i=n(0),r=n(4),s=n(126),o=n(46);o&&i({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){r(e),s(t);try{return o(e,t),!0}catch(e){return!1}}})},function(e,t,n){n(372),n(373),n(374),n(375),n(376),n(377),n(380),n(153);var i=n(54);e.exports=i},function(e,t,n){var i=n(2),r=n(151),s=n(131),o=n(17);for(var a in r){var l=i[a],c=l&&l.prototype;if(c&&c.forEach!==s)try{o(c,"forEach",s)}catch(e){c.forEach=s}}},function(e,t,n){var i=n(2),r=n(151),s=n(72),o=n(17),a=n(6),l=a("iterator"),c=a("toStringTag"),u=s.values;for(var h in r){var d=i[h],f=d&&d.prototype;if(f){if(f[l]!==u)try{o(f,l,u)}catch(e){f[l]=u}if(f[c]||o(f,c,h),r[h])for(var p in s)if(f[p]!==s[p])try{o(f,p,s[p])}catch(e){f[p]=s[p]}}}},function(e,t,n){var i=n(0),r=n(2),s=n(109);i({global:!0,bind:!0,enumerable:!0,forced:!r.setImmediate||!r.clearImmediate},{setImmediate:s.set,clearImmediate:s.clear})},function(e,t,n){var i=n(0),r=n(2),s=n(143),o=n(25),a=r.process,l="process"==o(a);i({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=l&&a.domain;s(t?t.bind(e):e)}})},function(e,t,n){var i=n(0),r=n(2),s=n(70),o=[].slice,a=function(e){return function(t,n){var i=arguments.length>2,r=i?o.call(arguments,2):void 0;return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};i({global:!0,bind:!0,forced:/MSIE .\./.test(s)},{setTimeout:a(r.setTimeout),setInterval:a(r.setInterval)})},function(e,t,n){"use strict";n(135);var i,r=n(0),s=n(5),o=n(152),a=n(2),l=n(94),c=n(15),u=n(41),h=n(12),d=n(122),f=n(128),p=n(73).codeAt,g=n(378),v=n(32),m=n(153),_=n(18),y=a.URL,w=m.URLSearchParams,b=m.getState,S=_.set,T=_.getterFor("URL"),E=Math.floor,L=Math.pow,I="Invalid scheme",A="Invalid host",M="Invalid port",C=/[A-Za-z]/,D=/[\d+-.A-Za-z]/,x=/\d/,O=/^(0x|0X)/,V=/^[0-7]+$/,R=/^\d+$/,P=/^[\dA-Fa-f]+$/,N=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,B=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,k=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,U=/[\u0009\u000A\u000D]/g,H=function(e,t){var n,i,r;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return A;if(!(n=q(t.slice(1,-1))))return A;e.host=n}else if(X(e)){if(t=g(t),N.test(t))return A;if(null===(n=F(t)))return A;e.host=n}else{if(B.test(t))return A;for(n="",i=f(t),r=0;r<i.length;r++)n+=z(i[r],W);e.host=n}},F=function(e){var t,n,i,r,s,o,a,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(n=[],i=0;i<t;i++){if(""==(r=l[i]))return e;if(s=10,r.length>1&&"0"==r.charAt(0)&&(s=O.test(r)?16:8,r=r.slice(8==s?1:2)),""===r)o=0;else{if(!(10==s?R:8==s?V:P).test(r))return e;o=parseInt(r,s)}n.push(o)}for(i=0;i<t;i++)if(o=n[i],i==t-1){if(o>=L(256,5-t))return null}else if(o>255)return null;for(a=n.pop(),i=0;i<n.length;i++)a+=n[i]*L(256,3-i);return a},q=function(e){var t,n,i,r,s,o,a,l=[0,0,0,0,0,0,0,0],c=0,u=null,h=0,d=function(){return e.charAt(h)};if(":"==d()){if(":"!=e.charAt(1))return;h+=2,u=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=n=0;n<4&&P.test(d());)t=16*t+parseInt(d(),16),h++,n++;if("."==d()){if(0==n)return;if(h-=n,c>6)return;for(i=0;d();){if(r=null,i>0){if(!("."==d()&&i<4))return;h++}if(!x.test(d()))return;for(;x.test(d());){if(s=parseInt(d(),10),null===r)r=s;else{if(0==r)return;r=10*r+s}if(r>255)return;h++}l[c]=256*l[c]+r,2!=++i&&4!=i||c++}if(4!=i)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[c++]=t}else{if(null!==u)return;h++,u=++c}}if(null!==u)for(o=c-u,c=7;0!=c&&o>0;)a=l[c],l[c--]=l[u+o-1],l[u+--o]=a;else if(8!=c)return;return l},j=function(e){var t,n,i,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=E(e/256);return t.join(".")}if("object"==typeof e){for(t="",i=function(e){for(var t=null,n=1,i=null,r=0,s=0;s<8;s++)0!==e[s]?(r>n&&(t=i,n=r),i=null,r=0):(null===i&&(i=s),++r);return r>n&&(t=i,n=r),t}(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),i===n?(t+=n?":":"::",r=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},W={},G=d({},W,{" ":1,'"':1,"<":1,">":1,"`":1}),Y=d({},G,{"#":1,"?":1,"{":1,"}":1}),K=d({},Y,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),z=function(e,t){var n=p(e,0);return n>32&&n<127&&!h(t,e)?e:encodeURIComponent(e)},$={ftp:21,file:null,http:80,https:443,ws:80,wss:443},X=function(e){return h($,e.scheme)},J=function(e){return""!=e.username||""!=e.password},Z=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Q=function(e,t){var n;return 2==e.length&&C.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ee=function(e){var t;return e.length>1&&Q(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},te=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Q(t[0],!0)||t.pop()},ne=function(e){return"."===e||"%2e"===e.toLowerCase()},ie={},re={},se={},oe={},ae={},le={},ce={},ue={},he={},de={},fe={},pe={},ge={},ve={},me={},_e={},ye={},we={},be={},Se={},Te={},Ee=function(e,t,n,r){var s,o,a,l,c,u=n||ie,d=0,p="",g=!1,v=!1,m=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(k,"")),t=t.replace(U,""),s=f(t);d<=s.length;){switch(o=s[d],u){case ie:if(!o||!C.test(o)){if(n)return I;u=se;continue}p+=o.toLowerCase(),u=re;break;case re:if(o&&(D.test(o)||"+"==o||"-"==o||"."==o))p+=o.toLowerCase();else{if(":"!=o){if(n)return I;p="",u=se,d=0;continue}if(n&&(X(e)!=h($,p)||"file"==p&&(J(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(X(e)&&$[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?u=ve:X(e)&&r&&r.scheme==e.scheme?u=oe:X(e)?u=ue:"/"==s[d+1]?(u=ae,d++):(e.cannotBeABaseURL=!0,e.path.push(""),u=be)}break;case se:if(!r||r.cannotBeABaseURL&&"#"!=o)return I;if(r.cannotBeABaseURL&&"#"==o){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,u=Te;break}u="file"==r.scheme?ve:le;continue;case oe:if("/"!=o||"/"!=s[d+1]){u=le;continue}u=he,d++;break;case ae:if("/"==o){u=de;break}u=we;continue;case le:if(e.scheme=r.scheme,o==i)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==o||"\\"==o&&X(e))u=ce;else if("?"==o)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",u=Se;else{if("#"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),u=we;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=Te}break;case ce:if(!X(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,u=we;continue}u=de}else u=he;break;case ue:if(u=he,"/"!=o||"/"!=p.charAt(d+1))continue;d++;break;case he:if("/"!=o&&"\\"!=o){u=de;continue}break;case de:if("@"==o){g&&(p="%40"+p),g=!0,a=f(p);for(var _=0;_<a.length;_++){var y=a[_];if(":"!=y||m){var w=z(y,K);m?e.password+=w:e.username+=w}else m=!0}p=""}else if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&X(e)){if(g&&""==p)return"Invalid authority";d-=f(p).length+1,p="",u=fe}else p+=o;break;case fe:case pe:if(n&&"file"==e.scheme){u=_e;continue}if(":"!=o||v){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&X(e)){if(X(e)&&""==p)return A;if(n&&""==p&&(J(e)||null!==e.port))return;if(l=H(e,p))return l;if(p="",u=ye,n)return;continue}"["==o?v=!0:"]"==o&&(v=!1),p+=o}else{if(""==p)return A;if(l=H(e,p))return l;if(p="",u=ge,n==pe)return}break;case ge:if(!x.test(o)){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&X(e)||n){if(""!=p){var b=parseInt(p,10);if(b>65535)return M;e.port=X(e)&&b===$[e.scheme]?null:b,p=""}if(n)return;u=ye;continue}return M}p+=o;break;case ve:if(e.scheme="file","/"==o||"\\"==o)u=me;else{if(!r||"file"!=r.scheme){u=we;continue}if(o==i)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==o)e.host=r.host,e.path=r.path.slice(),e.query="",u=Se;else{if("#"!=o){ee(s.slice(d).join(""))||(e.host=r.host,e.path=r.path.slice(),te(e)),u=we;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=Te}}break;case me:if("/"==o||"\\"==o){u=_e;break}r&&"file"==r.scheme&&!ee(s.slice(d).join(""))&&(Q(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),u=we;continue;case _e:if(o==i||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&Q(p))u=we;else if(""==p){if(e.host="",n)return;u=ye}else{if(l=H(e,p))return l;if("localhost"==e.host&&(e.host=""),n)return;p="",u=ye}continue}p+=o;break;case ye:if(X(e)){if(u=we,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=i&&(u=we,"/"!=o))continue}else e.fragment="",u=Te;else e.query="",u=Se;break;case we:if(o==i||"/"==o||"\\"==o&&X(e)||!n&&("?"==o||"#"==o)){if(".."===(c=(c=p).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(te(e),"/"==o||"\\"==o&&X(e)||e.path.push("")):ne(p)?"/"==o||"\\"==o&&X(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Q(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(o==i||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",u=Se):"#"==o&&(e.fragment="",u=Te)}else p+=z(o,Y);break;case be:"?"==o?(e.query="",u=Se):"#"==o?(e.fragment="",u=Te):o!=i&&(e.path[0]+=z(o,W));break;case Se:n||"#"!=o?o!=i&&("'"==o&&X(e)?e.query+="%27":e.query+="#"==o?"%23":z(o,W)):(e.fragment="",u=Te);break;case Te:o!=i&&(e.fragment+=z(o,G))}d++}},Le=function(e){var t,n,i=u(this,Le,"URL"),r=arguments.length>1?arguments[1]:void 0,o=String(e),a=S(i,{type:"URL"});if(void 0!==r)if(r instanceof Le)t=T(r);else if(n=Ee(t={},String(r)))throw TypeError(n);if(n=Ee(a,o,null,t))throw TypeError(n);var l=a.searchParams=new w,c=b(l);c.updateSearchParams(a.query),c.updateURL=function(){a.query=String(l)||null},s||(i.href=Ae.call(i),i.origin=Me.call(i),i.protocol=Ce.call(i),i.username=De.call(i),i.password=xe.call(i),i.host=Oe.call(i),i.hostname=Ve.call(i),i.port=Re.call(i),i.pathname=Pe.call(i),i.search=Ne.call(i),i.searchParams=Be.call(i),i.hash=ke.call(i))},Ie=Le.prototype,Ae=function(){var e=T(this),t=e.scheme,n=e.username,i=e.password,r=e.host,s=e.port,o=e.path,a=e.query,l=e.fragment,c=t+":";return null!==r?(c+="//",J(e)&&(c+=n+(i?":"+i:"")+"@"),c+=j(r),null!==s&&(c+=":"+s)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==a&&(c+="?"+a),null!==l&&(c+="#"+l),c},Me=function(){var e=T(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&X(e)?t+"://"+j(e.host)+(null!==n?":"+n:""):"null"},Ce=function(){return T(this).scheme+":"},De=function(){return T(this).username},xe=function(){return T(this).password},Oe=function(){var e=T(this),t=e.host,n=e.port;return null===t?"":null===n?j(t):j(t)+":"+n},Ve=function(){var e=T(this).host;return null===e?"":j(e)},Re=function(){var e=T(this).port;return null===e?"":String(e)},Pe=function(){var e=T(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ne=function(){var e=T(this).query;return e?"?"+e:""},Be=function(){return T(this).searchParams},ke=function(){var e=T(this).fragment;return e?"#"+e:""},Ue=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(s&&l(Ie,{href:Ue(Ae,(function(e){var t=T(this),n=String(e),i=Ee(t,n);if(i)throw TypeError(i);b(t.searchParams).updateSearchParams(t.query)})),origin:Ue(Me),protocol:Ue(Ce,(function(e){var t=T(this);Ee(t,String(e)+":",ie)})),username:Ue(De,(function(e){var t=T(this),n=f(String(e));if(!Z(t)){t.username="";for(var i=0;i<n.length;i++)t.username+=z(n[i],K)}})),password:Ue(xe,(function(e){var t=T(this),n=f(String(e));if(!Z(t)){t.password="";for(var i=0;i<n.length;i++)t.password+=z(n[i],K)}})),host:Ue(Oe,(function(e){var t=T(this);t.cannotBeABaseURL||Ee(t,String(e),fe)})),hostname:Ue(Ve,(function(e){var t=T(this);t.cannotBeABaseURL||Ee(t,String(e),pe)})),port:Ue(Re,(function(e){var t=T(this);Z(t)||(""==(e=String(e))?t.port=null:Ee(t,e,ge))})),pathname:Ue(Pe,(function(e){var t=T(this);t.cannotBeABaseURL||(t.path=[],Ee(t,e+"",ye))})),search:Ue(Ne,(function(e){var t=T(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ee(t,e,Se)),b(t.searchParams).updateSearchParams(t.query)})),searchParams:Ue(Be),hash:Ue(ke,(function(e){var t=T(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ee(t,e,Te)):t.fragment=null}))}),c(Ie,"toJSON",(function(){return Ae.call(this)}),{enumerable:!0}),c(Ie,"toString",(function(){return Ae.call(this)}),{enumerable:!0}),y){var He=y.createObjectURL,Fe=y.revokeObjectURL;He&&c(Le,"createObjectURL",(function(e){return He.apply(y,arguments)})),Fe&&c(Le,"revokeObjectURL",(function(e){return Fe.apply(y,arguments)}))}v(Le,"URL"),r({global:!0,forced:!o,sham:!s},{URL:Le})},function(e,t,n){"use strict";var i=2147483647,r=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",a=Math.floor,l=String.fromCharCode,c=function(e){return e+22+75*(e<26)},u=function(e,t,n){var i=0;for(e=n?a(e/700):e>>1,e+=a(e/t);e>455;i+=36)e=a(e/35);return a(i+36*e/(e+38))},h=function(e){var t,n,r=[],s=(e=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var s=e.charCodeAt(n++);56320==(64512&s)?t.push(((1023&r)<<10)+(1023&s)+65536):(t.push(r),n--)}else t.push(r)}return t}(e)).length,h=128,d=0,f=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(l(n));var p=r.length,g=p;for(p&&r.push("-");g<s;){var v=i;for(t=0;t<e.length;t++)(n=e[t])>=h&&n<v&&(v=n);var m=g+1;if(v-h>a((i-d)/m))throw RangeError(o);for(d+=(v-h)*m,h=v,t=0;t<e.length;t++){if((n=e[t])<h&&++d>i)throw RangeError(o);if(n==h){for(var _=d,y=36;;y+=36){var w=y<=f?1:y>=f+26?26:y-f;if(_<w)break;var b=_-w,S=36-w;r.push(l(c(w+b%S))),_=a(b/S)}r.push(l(c(_))),f=u(d,m,g==p),d=0,++g}}++d,++h}return r.join("")};e.exports=function(e){var t,n,i=[],o=e.toLowerCase().replace(s,".").split(".");for(t=0;t<o.length;t++)n=o[t],i.push(r.test(n)?"xn--"+h(n):n);return i.join(".")}},function(e,t,n){var i=n(4),r=n(61);e.exports=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return i(t.call(e))}},function(e,t,n){"use strict";n(0)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(e,t,n){var i=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,s=Object.create(r.prototype),o=new M(i||[]);return s._invoke=function(e,t,n){var i=h;return function(r,s){if(i===f)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw s;return D()}for(n.method=r,n.arg=s;;){var o=n.delegate;if(o){var a=L(o,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var l=u(e,t,n);if("normal"===l.type){if(i=n.done?p:d,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=p,n.method="throw",n.arg=l.arg)}}}(e,n,o),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",g={};function v(){}function m(){}function _(){}var y={};y[s]=function(){return this};var w=Object.getPrototypeOf,b=w&&w(w(C([])));b&&b!==n&&i.call(b,s)&&(y=b);var S=_.prototype=v.prototype=Object.create(y);function T(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var n;this._invoke=function(r,s){function o(){return new t((function(n,o){!function n(r,s,o,a){var l=u(e[r],e,s);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==typeof h&&i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,o,a)}),(function(e){n("throw",e,o,a)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,a)}))}a(l.arg)}(r,s,n,o)}))}return n=n?n.then(o,o):o()}}function L(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=u(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var s=r.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function C(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:D}}function D(){return{value:t,done:!0}}return m.prototype=S.constructor=_,_.constructor=m,m.displayName=l(_,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,a,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},T(E.prototype),E.prototype[o]=function(){return this},e.AsyncIterator=E,e.async=function(t,n,i,r,s){void 0===s&&(s=Promise);var o=new E(c(t,n,i,r),s);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(S),l(S,a,"Generator"),S[s]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=C,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return a.type="throw",a.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:C(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=i}catch(e){Function("r","regeneratorRuntime = r")(i)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);class i{static fromState(e,t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}var n=new e;return i.fillModel(n,t),n}static fillModel(e,t){for(const r in e)if(e.hasOwnProperty(r)&&null!==t&&"object"==typeof t&&r in t){var n=e[r];"object"==typeof n&&null!==n?i.fillModel(e[r],t[r]):e[r]=t[r]}}static fromJSON(){throw Error("Function not implemented")}static toState(e){return JSON.stringify(e)}}n(154);var r=n(11);n(65),n(85),n(28);const s="",o="t",a="f",l="undefined",c={EDGE_LIMITATION_DATE:new Date(2019,9,16),NOT_EXISTS:-2147483648,EXISTS:-2147483647,page:null,page_cpanel:null,mobile:!1,browser:function(){var e=window.msBrowser||window.browser||window.chrome;if(void 0===e)try{e=chrome||browser}catch(e){console.error("ERRR: ",e)}return e}(),PAGE_URL:"",PAGE_PROTOCOL:"",PAGE_HOSTNAME:"",IFRAME:"",IMAGE_PROCESSING_ENABLED:!1,BUILT_IN_DARK_THEME_MODE:3,TURBO_CACHE_ENABLED:!1,URL:"",isInitialConvertedCounter:0,IMPORT_CSS_INDEX_LAST_POSITION:1e3,url_thankyou_page:"https://nighteye.app/thank-you/",BG_YELLOW_COLOR_CHANGE:!0,IS_XML_PAGE:"application/xml"===document.contentType,CONTROLLER_URL:"https://billing.nighteye.app"},u=1,h=2;class d{static makeURL(e,t,n,i,r){void 0===t&&(t=c.PAGE_PROTOCOL,n=c.PAGE_HOSTNAME,i=c.PAGE_PORT,r=c.PAGE_URL),""!==i&&(i=":"+i);var s=e.lastIndexOf("/%20/");return s>-1?t+"//"+n+i+e.substring(s+4):"//"===e.slice(0,2)?t+e:"/"===e[0]?t+"//"+n+i+e:-1!==e.slice(0,8).lastIndexOf("://")?e:r+e}static parseURL(e){var t=(e=e.replace("www.",s)).indexOf("://"),n=0;return-1!==t&&-1!==(n=(e=e.substring(t+3)).indexOf("/"))&&(e=e.substring(0,n)),e}static isOSColorSchemeDark(){const e=window.matchMedia("(prefers-color-scheme: dark)").matches;window.matchMedia("(prefers-color-scheme: light)").matches,window.matchMedia("(prefers-color-scheme: no-preference)").matches;return e}static hasAccessToLocalStorage(){try{return localStorage.getItem("testen"),!0}catch(e){return!1}return!0}static convertBytesToHumanReadable(e,t){var n=t?1e3:1024;if(Math.abs(e)<n)return e+" B";var i=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],r=-1;do{e/=n,++r}while(Math.abs(e)>=n&&r<i.length-1);return e.toFixed(1)+" "+i[r]}static showInfoDialog(e,t){null===e&&(e="Explanation");var n=document.createElement("div");n.className="DialogDim";var i=document.createElement("div");i.className="DialogWrapper";var r=document.createElement("div");i.appendChild(r),r.className="Dialog";var s=document.createElement("div");r.appendChild(s),s.className="Title",s.innerHTML=e;var o=document.createElement("div");r.appendChild(o),o.className="Content",o.innerHTML=t;var a=document.createElement("div");r.appendChild(a),a.className="ButtonWrapper";var l=document.createElement("a");a.appendChild(l),l.innerHTML="OK",l.addEventListener("click",()=>{document.body.removeChild(n),document.body.removeChild(i)}),document.body.appendChild(n),document.body.appendChild(i)}static isBuiltInDarkThemeExists(e){var t=d.BuiltInWebsites;for(var n in t){if(t[n]===e)return!0}return!1}static showInitialBrowserIcon(){c.browser.browserAction.setIcon({path:c.browser.extension.getURL("res/icon/48.png")})}static showBrowserNotificationIcon(){c.browser.browserAction.setIcon({path:c.browser.extension.getURL("res/icon/48-msg.png")})}static initNotSupportedWebsites(){d.NotSupportedWebsites.newtab=d.NotSupportedWebsiteType.NOT_SUPPORTED_BY_BROWSER,d.NotSupportedWebsites.extensions=d.NotSupportedWebsiteType.NOT_SUPPORTED_BY_BROWSER,d.NotSupportedWebsites["accounts.google.com"]=d.NotSupportedWebsiteType.NOT_SUPPORTED_BY_BROWSER,d.NotSupportedWebsites["nighteye.app"]=d.NotSupportedWebsiteType.NOT_SUPPORTED_BY_TEAM,d.NotSupportedWebsites["earth.google.com"]=d.NotSupportedWebsiteType.NOT_SUPPORTED_BY_BROWSER,d.NotSupportedWebsites["billing.nighteye.app"]=d.NotSupportedWebsiteType.NOT_SUPPORTED_BY_TEAM,d.NotSupportedWebsites["chrome.google.com"]=d.NotSupportedWebsiteType.NOT_SUPPORTED_BY_BROWSER}static addTempNotSupportedWebsiteByBrowser(e){d.NotSupportedWebsites[e]=d.NotSupportedWebsiteType.NOT_SUPPORTED_BY_BROWSER}}d.Mode={DARK:1,FILTERED:2,NORMAL:4},d.BuiltInBehaviourMode={DISABLED:1,CONVERT:2,INTEGRATED:3},d.NotSupportedWebsiteType={NOT_SUPPORTED_BY_BROWSER:1,NOT_SUPPORTED_BY_TEAM:2},d.BuiltInWebsites={YOUTUBE:"youtube.com",REDDIT:"reddit.com",TWITTER:"twitter.com",DUCK_DUCK_GO:"duckduckgo.com",COIN_MARKET_CAP:"coinmarketcap.com",TWITCH:"twitch.tv",NINE_GAG:"9gag.com",DOCS_MICROSOFT:"docs.microsoft.com",ARSTECHNICA:"arstechnica.com",MATERIAL_UI:"material-ui.com",INDIEHACKERS:"indiehackers.com",EPICGAMES:"epicgames.com",BITCHUTE:"bitchute.com",BANNED_VIDEOS:"banned.video"},d.NotSupportedWebsites={},d.LOCAL_STORAGE={KEYS:{MODE:"darkyMode",STATE:"darkyState",SUPPORTED:"darkySupported"}};class f{static sendPromise(e,t,n){return new Promise((function(i,r){try{c.browser.runtime.sendMessage({key:e,action:t,data:n},e=>{i(e)})}catch(e){r(e)}}))}static send(e,t,n,i){c.browser.runtime.sendMessage({key:e,action:t,data:n},i)}}f.Settings={ID:1,ACTION_CHANGE_MODE:1,ACTION_DISABLE:2,ACTION_ENABLE:3,ACTION_ON_START_BROWSER_ACTION:4,ACTION_ON_START_CONVERTER:5,ACTION_UPDATE_IMAGES:6,ACTION_UPDATE_BRIGHTNESS:7,ACTION_UPDATE_CONTRAST:8,ACTION_UPDATE_SATURATION:9,ACTION_UPDATE_TEMPERATURE:10,ACTION_UPDATE_COLOR:11,ACTION_RESTORE_COLOR_DEFAULTS:12,ACTION_UPDATE_DEFAULT_MODE:13,ACTION_UPDATE_DIM:14,ACTION_ON_CHAT_INFO:15,ACTION_UPDATE_CHAT_INFO:16,ACTION_AFTER_FIRST_RUN:17,ACTION_UPDATE_DAY_NIGHT_TIMERS:18,ACTION_UPDATE_TRIAL_EXPIRED:19,ACTION_COLLECT_DATA_FOR_EXPORT:20,ACTION_ACTIVATE_COLOR_SELECTOR:21,ACTION_TOGGLE_MODE:22,ACTION_CHANGE_LANG:23,ACTION_GET_LANG:24,ACTION_GET_CLIENT_INFO:25,ACTION_OPEN_PRICING:26,ACTION_UPDATE_INSTANCE_AND_DEVICE_IDS:27,ACTION_ACTIVATE_EXT:28,ACTION_DEACTIVATE_EXT:29,ACTION_UPDATE_USER_AGENT:30,ACTION_GET_ACCOUNT_MODEL:31,ACTION_GET_TRIAL_EXPIRED_SCREEN_SHOWN_TS:32,ACTION_UPDATE_TRIAL_EXPIRED_SCREEN_SHOWN_TS:33,ACTION_TOGGLE_POWER:34,ACTION_UPDATE_PROPERTY:35,ACTION_GET_PROPERTY:36,ACTION_CHECK_LICENSE:37,ACTION_START_LICENCE_CHECKER:38,ACTION_OPEN_SAFARI_PREFERENCES:39,ACTION_UPDATE_ALLOWED_WEBSITES:40,ACTION_GET_ALLOWED_WEBSITES:41,ACTION_UPDATE_IS_LITE_VERSION:42,ACTION_UPDATE_CHANGING_SCROLLS_ENABLED:43,ACTION_UPDATE_BUILT_IN_THEME_BEHAVIOUR_MODE:44,ACTION_UPDATE_OS_COLOR_SCHEME_CHECKER_ENABLED:45,ACTION_UPDATE_TURBO_CACHE:46,ACTION_OPEN_FREE_PRO_VERSION:47,ACTION_LOCAL_STORAGE_GET:48,ACTION_LOCAL_STORAGE_SET:49},f.Resourcer={ID:2,ACTION_FETCH_RESOURCE:1};var p=d;class g{constructor(){this.default_v=!1,this.global_v=!1,this.user_changed=!1}}class v{constructor(){this.default_v=50,this.global_v=50,this.user_changed=!1}}class m{constructor(){this.default_v=50,this.global_v=50,this.user_changed=!1}}class _{constructor(){this.default_v=50,this.global_v=50,this.user_changed=!1}}class y{constructor(){this.default_v=50,this.global_v=50,this.user_changed=!1}}class w{constructor(){this.default_v=0,this.global_v=0,this.user_changed=!1}}class b{constructor(){this.default_v=!1,this.global_v=!1,this.user_changed=!1}}class S{constructor(){this.default_v=3,this.global_v=3,this.user_changed=!1}}var T={IMAGES:"images",BUILT_IN_DARK_THEME:"builtInDarkTheme",TURBO_CACHE:"turboCache",BRIGHTNESS:"brightness",CONTRAST:"contrast",SATURATION:"saturation",TEMPERATURE:"temperature",DIM:"dim"};class E{constructor(){this.images=new g,this.builtInDarkTheme=new S,this.turboCache=new b,this.brightness=new v,this.contrast=new m,this.saturation=new _,this.temperature=new y,this.dim=new w,this.palette={}}parseAndFill(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}this.images=T.IMAGES in e?e[T.IMAGES]:new g,this.builtInDarkTheme=T.BUILT_IN_DARK_THEME in e?e[T.BUILT_IN_DARK_THEME]:new S,this.turboCache=T.TURBO_CACHE in e?e[T.TURBO_CACHE]:new b,this.brightness=T.BRIGHTNESS in e?e[T.BRIGHTNESS]:new v,this.contrast=T.CONTRAST in e?e[T.CONTRAST]:new m,this.saturation=T.SATURATION in e?e[T.SATURATION]:new _,this.temperature=T.TEMPERATURE in e?e[T.TEMPERATURE]:new y,this.dim=T.DIM in e?e[T.DIM]:new w}static getInitialModel(e){switch(e){case T.IMAGES:return new g;case T.BUILT_IN_DARK_THEME:return new S;case T.TURBO_CACHE:return new b;case T.BRIGHTNESS:return new v;case T.CONTRAST:return new m;case T.SATURATION:return new _;case T.TEMPERATURE:return new y;case T.DIM:return new w}}}class L{constructor(){this.name="",this.email="",this.id=""}}class I{constructor(){this.status=!1,this.startTime="20:00",this.endTime="08:00"}}class A{constructor(){this.is_trial_expired=!1,this.isLiteVersion=!1,this.isProVersion=!1,this.first_run=!0,this.enabled=!1,this.supported_url=!0,this.mode=p.Mode.NORMAL,this.global_settings=new E,this.local_settings=new E,this.default_mode=0,this.chat_info=new L,this.day_night_timers=new I,this.contentType="",this.isChangingScrollsEnabled=!0,this.isOSColorSchemeCheckerEnabled=!1}}class M{static addClass(e,t){!1===M.hasClass(e,t)&&(e.className+=" "+t)}static removeClass(e,t){if(typeof e.className!==l){var n=0,i=e.className.split(" "),r=t.split(" ");for(let e=i.length;e-- >0;)for(let t=r.length;t-- >0;)if(i[e]===r[t]){++n,i[e]=s;break}if(0!==n){var o=new Array(i.length-n);n=0;for(let e=0;e<i.length;++e)i[e]!==s&&(o[n++]=i[e]);e.className=o.join(" ")}}}static hasClass(e,t){if(typeof e.className===l)return!1;for(var n=e.className.split(" "),i=n.length;i-- >0;)if(n[i]===t)return!0;return!1}static toggleClass(e,t){!0===M.hasClass(e,t)?M.removeClass(e,t):M.addClass(e,t)}}var C=M;var D={enabled:"enabled",isTrialExpired:"is_trial_expired",isLiteVersion:"is_lite",isProVersion:"is_pro",firstRun:"first_run",defaultMode:"default_mode",chatInfo:"chat_info",dayNightTimers:"day_night_timers",isActivatedByEmail:"is_activated_by_email",urlModes:"url_modes",urlSettings:"url_settings",globalSettings:"global_settings",changeModeBG:"change_mode_bg",changeStateBG:"change_state_bg",version:"version",ver:"ver",installTimestamp:"install_timestamp",instanceID:"instance_id",deviceID:"device_id",expiredDate:"expiredDate",trialExpiredScreenShownTS:"trialExpiredScreenShownTS",licenceType:"licenceType",defaultLang:"defaultLang",allowedWebsites:"allowedWebsites",isChangingScrollsEnabled:"isChangingScrollsEnabled",isOSColorSchemeCheckerEnabled:"isOSColorSchemeCheckerEnabled",lastExtensionWindowOpenTS:"lastExtensionWindowOpenTS",discountCode:"discountCode",discountType:"discountType"};String.prototype.replaceAllChar=function(e,t){for(var n=-1,i="",r=this.length,s=0;s<r;++s)this[s]===e&&(i+=this.substring(n+1,s)+t,n=s);return i+=this.substring(n+1)},String.prototype.replaceAll=function(e,t){for(var n,i="",r=0,s=e.length;;){if(-1===(n=this.indexOf(e,r))){i+=this.substring(r);break}i+=this.substring(r,n)+t,r=n+s}return i},String.prototype.replaceAt=function(e,t){return this.substring(0,e)+t+this.substring(e+t.length)},typeof String.prototype.repeat===l&&(String.prototype.repeat=function(e){var t=""+this;if((e=+e)!=e&&(e=0),e<0)throw new RangeError("repeat count must be non-negative");if(e==1/0)throw new RangeError("repeat count must be less than infinity");if(e=Math.floor(e),0==t.length||0==e)return"";if(t.length*e>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var n="",i=0;i<e;i++)n+=t;return n}),Number.prototype.formatSpace=function(e){for(var t="",n=e;n-- >0;)t+="0";return(t+this.toString()).substr(-e)},Date.prototype.formatCalendarDate=function(){return this.getDate().formatSpace(2)+"."+(this.getMonth()+1).formatSpace(2)+"."+this.getFullYear()},Date.prototype.formatCalendarTime=function(){return this.getHours().formatSpace(2)+":"+this.getMinutes().formatSpace(2)},Date.prototype.equalsCalendarDate=function(e){return e="number"==typeof e?new Date(e):e,this.getDate()===e.getDate()&&this.getMonth()===e.getMonth()&&this.getFullYear()===e.getFullYear()},Date.prototype.clearTime=function(){this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0)},Date.prototype.clear=function(){this.clearTime(),this.setYear(1970),this.setMonth(0),this.setDate(1)},Array.prototype.removeElement=function(e){for(var t=this.length;t-- >0;)if(this[t]===e){this.splice(t,1);break}},Array.prototype.pushIfNotExist=function(e,t){for(var n=!0,i=this.length;i-- >0;)if(!0===t(this[i],e)){n=!1;break}return!0===n&&this.push(e),n},Array.prototype.last=function(){return 0===this.length?null:this[this.length-1]};var x=class{constructor(e){this.document=e}getElementById(e){var t=this.document.getElementById(e);return t.removeAttribute("id"),t}getElementByIdSafe(e){var t=this.document.getElementById(e);return null!==t&&t.removeAttribute("id"),t}isCurrentPage(e){var t=this.document.URL,n=this.document.URL.indexOf("#");return-1!==n&&(t=t.substr(0,n)),t="/"!==t[t.length-1]?t+"/":t,"/"!==e[e.length-1]&&(e+="/"),-1!==t.indexOf(e)}static getX(e){for(var t=0;e;)t+=e.offsetLeft,e=e.offsetParent;return t}static getY(e){for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t}static getScreenX(e){return e.getBoundingClientRect().left}static getScreenY(e){return e.getBoundingClientRect().top}static isMapEmpty(e){for(var t in e)return!1;return!0}getChildrenHeight(e){for(var t,n=e.childNodes,i=0,r=n.length;r-- >0;)typeof n[r].tagName!==l&&(t=c.getScreenY(n[r])+n[r].offsetHeight)>i&&(i=t);return i-c.getScreenY(e)}static stopPropagation(e){e.stopPropagation()}static preventDefault(e){e.preventDefault()}};n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391);class O{constructor(){this.initFields(),this.addListeners()}initFields(){this.power_control_n=document.querySelector(".PowerControl"),this.additional_controls_n=document.querySelector(".AdditionalControls"),this.cancel_n=this.additional_controls_n.querySelector(".Cancel"),this.defaults_n=this.additional_controls_n.querySelector(".Defaults"),this.apply_n=this.additional_controls_n.querySelector(".Apply"),this.apply_to_controls_n=document.querySelector(".ApplyToControls"),this.apply_to_global_n=this.apply_to_controls_n.querySelector(".Global"),this.apply_to_local_n=this.apply_to_controls_n.querySelector(".Local"),this.defaults_controls_n=document.querySelector(".DefaultsControls"),this.defaults_global_n=this.defaults_controls_n.querySelector(".Global"),this.defaults_local_n=this.defaults_controls_n.querySelector(".Local")}addListeners(){this.powerListener=null,this.cancelListener=null,this.defaultsListener=null,this.applyListener=null,this.applyToGlobalListener=null,this.applyToLocalListener=null,this.defaultsGlobalListener=null,this.defaultsLocalListener=null,this.power_control_n.addEventListener("click",()=>{this.setPowerState(!this.power_state),null!==this.powerListener&&this.powerListener(this.power_state)}),this.cancel_n.addEventListener("click",()=>{null!==this.cancelListener&&this.cancelListener()}),this.defaults_n.addEventListener("click",()=>{this.setDefaultsControlsVisibility(!0)}),this.apply_n.addEventListener("click",()=>{this.setApplyToControlsVisibility(!0)}),this.apply_to_global_n.addEventListener("click",()=>{this.setApplyToControlsVisibility(!1),null!==this.applyToGlobalListener&&this.applyToGlobalListener()}),this.apply_to_local_n.addEventListener("click",()=>{this.setApplyToControlsVisibility(!1),null!==this.applyToLocalListener&&this.applyToLocalListener()}),this.defaults_global_n.addEventListener("click",()=>{this.setDefaultsControlsVisibility(!1),null!==this.defaultsGlobalListener&&this.defaultsGlobalListener()}),this.defaults_local_n.addEventListener("click",()=>{this.setDefaultsControlsVisibility(!1),null!==this.defaultsLocalListener&&this.defaultsLocalListener()})}setPowerState(e){this.power_state=e,!0===this.power_state?(C.removeClass(this.power_control_n,"Disabled"),C.addClass(this.power_control_n,"Enabled")):(C.addClass(this.power_control_n,"Disabled"),C.removeClass(this.power_control_n,"Enabled"))}setSlidingControlsVisibility(e){this.setAdditionalControlsVisibility(e),this.setApplyToControlsVisibility(e),this.setDefaultsControlsVisibility(e)}setApplyControlVisibility(e){this.apply_n.style.display=!0===e?"block":"none"}setAdditionalControlsVisibility(e){this.additional_controls_n.style.transform="translateY("+(!0===e?"":"10")+"0%)"}setApplyToControlsVisibility(e){this.apply_to_controls_n.style.transform="translateY("+(!0===e?"":"10")+"0%)"}setDefaultsControlsVisibility(e){this.defaults_controls_n.style.transform="translateY("+(!0===e?"":"10")+"0%)"}}class V{constructor(){this.data=""}}class R{static createLinkAncActivate(e,t){var n=i.fromState(V,e).data,r=(R.getCurrentDateTime(),new Blob([n],{type:"application/force-download"}));const s=window.URL.createObjectURL(r);t.href=s,t.className+=" Active",t.click()}static getCurrentDateTime(){var e=new Date,t=""+(e.getMonth()+1),n=""+e.getDate(),i=e.getFullYear(),r=e.getHours(),s=e.getMinutes(),o=e.getSeconds();return t<10&&(t="0"+t),n<10&&(n="0"+n),r<10&&(r="0"+r),s<10&&(s="0"+s),o<10&&(o="0"+o),n+"."+t+"."+i+"-"+r+"_"+s+"_"+o}}var P=R;class N{constructor(){this.chosenLanguage="en",this.isReady=!1,this.strings=new Map([["extName","Night Eye - Dark mode on any website"],["extDescription","Night Eye enables night mode on any website using new algorithm that analyses and converts all colours instead of inverting them."],["extToggleButton","Toggle dark and normal mode for the tab"],["okButton","OK"],["labelPleaseWait","Please wait"],["labelWebsiteStatusDark","Dark version"],["labelWebsiteStatusFiltered","Filtered version"],["labelWebsiteStatusNormal","Normal version"],["labelWebsiteStatusNotSupported","Not Supported"],["messageWebsiteNotSupported","This website is not supported"],["labelContinue","Continue"],["filterModeNameDark","Dark"],["filterModeNameFiltered","Filtered"],["filterModeNameNormal","Normal"],["labelCurrent","Current"],["labelWebsite","website"],["labelColors","colors"],["labelImages","images"],["labelBrightness","brightness"],["labelContrast","contrast"],["labelSaturation","saturation"],["labelBlueLight","blue light"],["labelDim","dim"],["extTurnOnButton","Turn on"],["extDisabledStatus","Night Eye is disabled"],["labelExperimentalFeature","Experimental feature"],["colorViewTitle","Color picker"],["colorViewDescription","Pick a color from the website and change it to whatever you wish."],["colorViewReplacedColor","Replaced"],["colorViewOriginalColor","Original"],["imageViewTitle","Images"],["imageViewDescription","Night Eye processes images making them darker. This is feature requires more computational resources and can slow your computer."],["switchLabelOn","On"],["switchLabelOff","Off"],["brightnessViewTitle","Brightness"],["brightnessViewDescription","Adjust the brightness by dragging the slider below."],["contrastViewTitle","Contrast"],["contrastViewDescription","Adjust the contrast by dragging the slider below."],["saturationViewTitle","Saturation"],["saturationViewDescription","Adjust the saturation by dragging the slider below."],["temperatureViewTitle","Blue light"],["temperatureViewDescription","Adjust the blue light by dragging the slider below."],["temperatureViewOption1","With blue"],["temperatureViewOption2","Without blue"],["dimViewTitle","Dim"],["dimViewDescription","Adjust the dimming level of the websites."],["refreshViewTitle","Please reload the page"],["refreshViewDescription","You have to refresh the current page in order to apply latest settings"],["refreshButton","Refresh"],["supportViewInfo1","We are here to help if you have any questions or problems with Night Eye."],["supportViewInfo2","To use our support system, please provide correct contact information."],["supportViewInfo3","Message us only in English."],["supportViewInputName","Name"],["supportViewInputEmail","Email"],["helpViewHelpButton","Help"],["helpViewShortcutTitle","On/Off Shortcut"],["helpViewShortcutDescription","Find out how to assign your own shortcut"],["helpViewUninstallTitle","Uninstall"],["helpViewUninstallDescription","Find Night Eye in the extensions list and click remove"],["helpViewDefaultModeTitle","Default mode"],["helpViewDefaultModeDescription","Choose the default mode to be executed when opening new websites"],["helpViewLanguage","Language"],["helpViewExportData","Export data"],["helpViewImportData","Import data"],["firstRunViewTitle","Quick Start"],["firstRunViewFeature1","Affects loading speed on some pages"],["firstRunViewFeature2","Enjoy 3 Months for Free<br>After that - just $$9/year"],["firstRunViewFeature3","No browsing information is collected"],["firstRunViewFeature4","Contact our support using the built-in chat"],["controlsPanelButtonCancel","Cancel"],["controlsPanelButtonDefault","Reset"],["controlsPanelButtonApply","Apply"],["controlsPanelButtonApplyTo","Apply to"],["controlsPanelAllWebsites","all websites"],["controlsPanelCurrentWebsite","current website"],["controlsPanelButtonRestoreTo","Restore defaults"],["controlsPanelForAllWebsites","for all websites"],["controlsPanelForCurrentWebsite","for current website"],["tooltipDark","Using this mode, Night Eye will change colors based on selected settings"],["tooltipFiltered","Using this mode, the website will be by default plus effect of several filters - brightness, contrast, saturation, warm/cold, dim"],["tooltipNormal","Using this mode, the website will be by default, Night Eye will not change any color"],["helpViewExportData","Export data"],["helpViewImportData","Import data"],["helpViewLanguage","Language"],["helpViewDarkScroll","Dark scrolls"],["helpViewDarkScrollDescr","Let Night Eye turn any scroll dark."],["helpViewEnabled","Enabled"],["helpViewDisabled","Disabled"],["helpViewOSColorScheme","OS Color Scheme integration"],["helpViewOSColorSchemeDescr","Sync Night Eye with your active OS Color scheme."],["helpOSIntegrationLink","More details"],["helpViewTimerOn","On"],["helpViewTimerOff","Off"],["helpViewTimerTitle","Schedule"],["helpViewTimerDescr","How it works"],["helpViewWhiteListButton","Whitelist"],["helpViewGoProTitle","Go Pro"],["helpViewManageDarkModeListTitle","Manage dark mode list"],["helpViewClientAreaTitle","Client area"],["helpViewSignInSignUp","Sign In / Sign Up"],["helpViewActivateNow","Activate now"],["helpViewExpires","Expires $1"],["helpViewSignOut","Sign Out"],["helpViewActivated","Activated"],["helpViewByExpires","by $1 </br>expires: $2"],["helpViewExpiredNever","never"],["labelWebsiteDarkModeListDescr","This website is not added in the dark mode list."],["labelManageDarkModeListTitle","Manage the list"],["trialLiteViewLiteTitle","Lite Version"],["trialLiteViewLiteDescr","Dark Mode can be enabled on up to <br> 5 websites. You can manage the list and change it any time."],["trialLiteViewReadAbout","Read about Lite"],["trialLiteViewSave","Save"],["trialLiteViewGoPro","Go Pro (remove the limits)"],["trialLiteViewCancel","Cancel"],["trialProViewTitle","Pro Version"],["trialProViewDescrPart1","We hope that Night Eye proved its usefulness for the past months!"],["trialProViewDescrPart2","If you want to continue using it, check out our pricing and all the benefits that come along."],["trialProViewPricing","Pricing"],["trialProViewActivateDescr","If you already have an account,</br> please activate it!"],["trialProViewActivateBtn","Activate"],["trialProViewCancelBtn","Cancel"],["trialAlreadyActViewTitle","Pro Version"],["trialAlreadyActViewDescrPart1","We hope that Night Eye proved its usefulness for the past months!"],["trialAlreadyActViewDescrPart2","If you want to continue using it, check out our pricing and all the benefits that come along."],["trialAlreadyActViewPricing","Pricing"],["trialAlreadyActViewEmailDescr",'Night Eye is associated with your e-mail <b class="AccountEmail">$1</b><br> use it if you decide to pay.'],["trialAlreadyActViewCancelBtn","Cancel"],["trailActivationViewTitle","Activation"],["trailActivationViewDescr","Please add the email you used to create an account."],["trailActivationViewActiveteBtn","Activate"],["trailActivationViewClientArea","Client's Area"],["trailActivationViewCancelBtn","Cancel"],["trailSuccessActViewTitle","Successful Activation"],["trailSuccessActViewDescrPart1","You have successfully activated the extension."],["trailSuccessActViewDescrPart2","You can enjoy Night Eye on up to 3 browsers at once."],["trailSuccessActViewDescrPart3","You can manage the active browsers in the Client Area."],["trailSuccessActViewDescrPart4","To access it,please go to"],["trailSuccessActViewContinueBtn","Continue"],["trailSuccessActViewDescrBrowserFree","You can enjoy Night Eye on up to 3 browsers at once until your < br > Free Trial expires on $1"],["trailSuccessActViewDescrBrowserPro","You can enjoy Night Eye on up to $1 browsers at once."],["trailLogoutViewTitle","Activated"],["trailLogoutViewDescrPart1",'Night eye is associated with your e - mail < b class="ActivatedEmail" > $1</b > '],["trailLogoutViewDescrPart2","For more details,visit"],["trailLogoutViewControlPanel","Control Panel"],["trailLogoutViewDescrPart3","You can permanently deactivate < br > Night Eye for this browser."],["trailLogoutViewDeactivateBtn","Deactivate"],["trailLogoutViewCancelBtn","Cancel"],["supportViewContinueBtn","Continue"],["supportViewPleaseWaitLbl","Please wait..."],["trialExpiredViewTitle","Your free trial has expired."],["trialExpiredViewDescrPart1","We hope that Night Eye proved its usefulness for the past months."],["trialExpiredViewDescrPart2","You can use the free Lite version forever or go Pro.Check out our pricing and all the benefits that come along."],["trialExpiredViewDescrPart3","Lite version"],["trialExpiredViewDescrPart4","Dark mode on up to 5 websites"],["trialExpiredViewDescrPart5","Pro version"],["trialExpiredViewDescrPart6","No limits"],["paymentRemiderViewDescrP1","You have been using Night Eye for 30 days now. "],["paymentRemiderViewDescrP2",'As a thank you,we have a special 10 % discount.Please use the discount code < div class="DiscountCode" > -</div > This offer is valid for 48 hours.'],["paymentRemiderViewDescrP3","Get your PRO version now"],["paymentRemiderViewDescrP4","If you are not interested,<br> you have 2 more months left <br> from the free trial. Enjoy!"],["paymentRemiderViewCancelBtn","Close"],["labelBuiltInDarkTheme","built-in <br>dark theme"],["labelTurboCache","local <br> cache"],["labelImageIconConversion","Icons conversion"],["labelImageBackgroundConversion","Backgrounds conversion"],["labelImageHighCPU","High CPU consumption"],["labelDisabled","Disabled"],["labelEnabled","Enabled"],["settingsImageViewDescrP1","Night Eye converts images such as icons and backgrounds to provide you with smooth and consistent dark mode."],["settingsImageViewDescrP2","Icons and backgrounds conversion comes with High CPU consumption."],["settingsImageViewDescrP3","Turn ON for best dark mode experience."],["settingsImageViewDescrP4","Turn OFF to reduce the CPU consumption."],["settingsBuiltInDarkViewDescrP1","Deep integration allows you to control the built-in dark themes of the websites that already implemented a dark UI."],["settingsBuiltInDarkViewDescrP2","See how Deep integration works"],["settingsBuiltInDarkViewDescrP3","HERE"],["settingsBuiltInDarkViewOptionDisabled","Disabled"],["settingsBuiltInDarkViewOptionNightEyeDark","Night Eye dark"],["settingsBuiltInDarkViewOptionDeepIntegration","Deep integration"],["settingsTurboCacheViewDescrP1","The cache speeds up the website conversion from Normal to Dark Mode (page loading speed is not affected). It can reduce the initial bright flashes, depending on the website."],["settingsTurboCacheViewDescrP2","The cache feature works on around 80% of the websites, thus if a website is not behaving properly, please turn it off for it!"],["settingsTurboCacheViewDescrP3","Can be applied to specific website or to all you visit."]])}setLanguage(e){localStorage.setItem("defaultLang",e)}getLanguage(){var e=localStorage.getItem("defaultLang");return null!=e?e:"en"}getLocale(){switch(this.getLanguage()){case"en":return"en";case"es":return"es";case"pt":return"pt";case"fr":return"fr";case"de":return"de";case"ru":return"ru";case"jp":return"ja";case"zh_CN":return"zh-Hans";case"zh_TW":return"zh-Hant";case"bg":return"bg"}}getMessage(e,t){let n=[];Array.isArray(t)?n=t:void 0!==t&&(n=[t]);var i=this.strings.get(e);if(void 0!==i){for(var r=i.replace(/\$\$/g,"@@@@"),s=0;s<n.length;s++){var o=new RegExp("(?!\\$\\$)\\$"+(s+1),"g");r=r.replace(o,n[s])}return r.replace(/\@\@\@\@/g,"$$")}return""}fetchAndParse(){this.fetchAndParseInternal()}fetchAndParseInternal(){var e="_locales/"+this.getLanguage()+"/messages.json";this.fetchFile(e)}fetchFileMacOS(e){r.a.shared().getFile(e).then(e=>{this.parseJSON(e)},e=>{console.error("Error fetchInWebView "+e)})}fetchFile(e){var t=c.browser.extension.getURL(e),n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=()=>{4===n.readyState&&n.responseText&&this.parseJSON(n.responseText)};try{n.send()}catch(e){console.error(e)}}parseJSON(e){var t,n=JSON.parse(e);for(t in n){var i,r=n[t].message,s=n[t].placeholders;if(s)for(i in s){var o=new RegExp("\\$"+i+"\\$");r=r.replace(o,s[i].content)}this.strings.set(t,r)}this.isReady=!0}static shared(){return null===N.instance&&(N.instance=new N,N.instance.fetchAndParse()),N.instance}}N.instance=null;var B=N.shared();var k=class{static checkLicense(e,t,n,i){f.send(f.Settings.ID,f.Settings.ACTION_CHECK_LICENSE,{},()=>{const r=localStorage.getItem(D.isTrialExpired)===o,s=localStorage.getItem(D.isLiteVersion)===o,a=localStorage.getItem(D.isProVersion)===o,l=localStorage.getItem(D.isActivatedByEmail);t===r&&n===s&&i===a&&e===l||window.location.reload();var c=document.body.querySelector(".ClientArea .Loading");void 0!==c&&C.addClass(c,"Hidden")})}};class U{constructor(){this.isLiteEnabled=!1}}class H{constructor(){this.id="",this.email="",this.newDeviceId="",this.expiredDate=0,this.isFreeTrial=!1,this.type=0}}n(392);class F{constructor(e){this.parent=e,this.initFields(),this.addListeners()}initFields(){this.mainView=document.querySelector(".TrialExpired"),this.liteVersionView=document.querySelector(".TrialExpired.LiteVersionView"),this.proVersionView=document.querySelector(".TrialExpired.ProVersionView"),this.activationView=document.querySelector(".TrialExpired.ActivationView"),this.mainAlreadyActivatedView=document.querySelector(".TrialExpired.AlreadyActivatedView"),this.successActivationView=document.querySelector(".TrialExpired.SuccessActivationView"),this.logoutView=document.querySelector(".TrialExpired.LogoutView"),this.emailInput=document.getElementById("actionvationEmailInput"),this.licenseKeyInput=document.getElementById("actionvationLicenseKeyInput"),this.errorLabel=this.activationView.querySelector(".ErrorLabel"),this.email=""}async initEmail(){this.email=localStorage.getItem(D.isActivatedByEmail)}addListeners(){this.mainView.querySelector(".LiteVersionButton").addEventListener("click",()=>{this.parent.initVersionLabel(!1,!0),this.showLiteVersionView()}),this.mainView.querySelector(".ProVersionButton").addEventListener("click",()=>{null===this.email?(C.removeClass(this.mainView,"Active"),C.addClass(this.proVersionView,"Active")):this.showMainAlreadyActivatedView()}),this.proVersionView.querySelector(".ActivationViewButton").addEventListener("click",()=>{C.removeClass(this.proVersionView,"Active"),C.addClass(this.activationView,"Active")}),this.proVersionView.querySelector(".PricingButton").addEventListener("click",()=>{c.browser.tabs.create({url:"https://billing.nighteye.app/client/login"})}),this.proVersionView.querySelector(".GetProFreeButton").addEventListener("click",()=>{c.browser.tabs.create({url:"https://nighteye.app/free"})}),this.proVersionView.querySelector(".BackButtonPanel").addEventListener("click",()=>{window.location.reload()}),this.mainAlreadyActivatedView.querySelector(".BackButtonPanel").addEventListener("click",()=>{window.location.reload()}),this.mainAlreadyActivatedView.querySelector(".PricingButton").addEventListener("click",()=>{c.browser.tabs.create({url:"https://billing.nighteye.app/client/login"})}),this.mainAlreadyActivatedView.querySelector(".GetProFreeButton").addEventListener("click",()=>{c.browser.tabs.create({url:"https://nighteye.app/free"})}),this.liteVersionView.querySelector(".UpdateAllowedWebsitesButton").addEventListener("click",()=>{this.updateAllowedWebsites(),c.page.reload(),window.close()}),this.liteVersionView.querySelector(".ProVersionButton").addEventListener("click",()=>{null===this.email?(C.removeClass(this.liteVersionView,"Active"),C.addClass(this.proVersionView,"Active")):this.showMainAlreadyActivatedView()}),this.liteVersionView.querySelector(".BackButtonPanel").addEventListener("click",()=>{window.location.reload()}),this.liteVersionView.querySelector("#trialLiteViewReadAbout").addEventListener("click",()=>{c.browser.tabs.create({url:"https://nighteye.app/lite-free-dark-mode-extension/"})}),this.liteVersionView.querySelectorAll(".RemoveButton").forEach(e=>{e.addEventListener("click",()=>{var t=e.parentNode.querySelector("input");t.selectionStart=t.selectionEnd=t.value.length,t.focus()})}),this.activationView.querySelector(".BackButton").addEventListener("click",()=>{C.removeClass(this.activationView,"Active"),this.isActivationViewIsMain||C.addClass(this.mainView,"Active")}),this.logoutView.querySelector(".BackButton").addEventListener("click",()=>{C.removeClass(this.logoutView,"Active")}),this.logoutView.querySelector("#trailLogoutViewControlPanel").addEventListener("click",()=>{c.browser.tabs.create({url:"https://billing.nighteye.app/client/login"})}),this.successActivationView.querySelector(".ActivateButton").addEventListener("click",()=>{C.removeClass(this.successActivationView,"Active")}),this.successActivationView.querySelector(".ActivateButton").addEventListener("click",()=>{C.removeClass(this.successActivationView,"Active"),window.close()});var e=this.activationView.querySelector(".ActivateButton");e.addEventListener("click",()=>{var e=this.emailInput.value.trim(),t=this.licenseKeyInput.value.trim();if(e.length>0){if(this.isEmailInvalid(e))return this.errorLabel.innerHTML="It is not valid email. Please try again!",void C.addClass(this.errorLabel,"Active");this.activate(e,null)}else t.length>0&&this.activate(null,t)});var t=this.activationView.querySelector(".ShowGumroadInputButton");t.addEventListener("click",()=>{C.addClass(t,"Hidden"),C.addClass(this.emailInput.parentNode,"Hidden"),C.removeClass(this.activationView.querySelector(".GumroadPanel"),"Hidden"),this.activationView.querySelector("#trailActivationViewDescr").innerHTML="Please paste the license key you received when made the Gumroad purchase."}),this.logoutView.querySelector(".DeactivateButton").addEventListener("click",()=>{this.deactivate()}),this.emailInput.addEventListener("focus",()=>{C.removeClass(this.errorLabel,"Active")}),this.licenseKeyInput.addEventListener("focus",()=>{C.removeClass(this.errorLabel,"Active")}),this.emailInput.addEventListener("keyup",t=>{13===t.keyCode&&(this.emailInput.blur(),e.click())}),this.licenseKeyInput.addEventListener("keyup",t=>{13===t.keyCode&&(this.licenseKeyInput.blur(),e.click())})}initAllowedWebsites(e){f.send(f.Settings.ID,f.Settings.ACTION_GET_ALLOWED_WEBSITES,null,t=>{for(var n=this.liteVersionView.querySelectorAll("input"),i=0;i<t.length;++i)if(n.length>i){var r=n[i];r.value=t[i],function(e){e.parentNode.parentNode.querySelector(".EditButton").addEventListener("click",(function(){e.focus(),e.select()}))}(r)}e()})}updateAllowedWebsites(){for(var e=[],t=this.liteVersionView.querySelectorAll("input"),n=0;n<t.length;++n){var i=t[n].value.trim().toLowerCase();e.push(d.parseURL(i))}f.send(f.Settings.ID,f.Settings.ACTION_UPDATE_ALLOWED_WEBSITES,e,()=>{})}showMainView(){if(this.isActivationViewIsMain=!1,C.addClass(this.mainView,"Active"),window.navigator.userAgent.indexOf("Edge")>-1){var e=this.mainView.querySelector(".PricingButton");e.style.opacity=0,e.removeAttribute("href"),e.querySelector(".ControlButton").style.cursor="default",this.mainView.querySelector(".FirstRow").innerHTML='We hope that Night Eye proved its usefulness for the past months!<br><div class="TextSeparator"></div>If you want to continue using it, you need to have an account.'}}showLiteVersionView(){this.initAllowedWebsites(()=>{C.removeClass(this.mainView,"Active"),C.addClass(this.liteVersionView,"Active")});var e=new U;e.isLiteEnabled=o,f.send(f.Settings.ID,f.Settings.ACTION_UPDATE_IS_LITE_VERSION,e,()=>{})}showActivationSuccessView(e){this.successActivationView.querySelector(".SuccessTextLabel").innerHTML=e,C.removeClass(this.mainView,"Active"),C.removeClass(this.activationView,"Active"),C.addClass(this.successActivationView,"Active")}async showMainAlreadyActivatedView(){var e;if(this.isActivationViewIsMain=!1,e=localStorage.getItem(D.isActivatedByEmail),this.mainAlreadyActivatedView.querySelector("#trialAlreadyActViewEmailDescr").innerHTML=B.getMessage("trialAlreadyActViewEmailDescr",e),C.addClass(this.mainAlreadyActivatedView,"Active"),window.navigator.userAgent.indexOf("Edge")>-1){var t=this.mainAlreadyActivatedView.querySelector(".PricingButton");t.style.opacity=0,t.style.cursor="auto",t.style.pointerEvents="none",t.querySelector(".ControlButton").style.cursor="default",this.mainAlreadyActivatedView.querySelector(".FirstRow").innerHTML='We hope that Night Eye proved its usefulness for the past months!<br><div class="TextSeparator"></div>If you want to continue using it,<br> you have to pay.'}}showActivationView(e){this.isActivationViewIsMain=e,e&&(this.activationView.querySelector(".ClientAreaWrapper").style.opacity="1"),C.removeClass(this.mainView,"Active"),C.addClass(this.activationView,"Active")}showLogoutView(e){this.logoutView.querySelector("#trailLogoutViewDescrPart1").innerHTML=B.getMessage("trailLogoutViewDescrPart1",e),C.addClass(this.logoutView,"Active")}activate(e,t){null===e&&(e=s),null===t&&(t=s),e=encodeURIComponent(e),t=encodeURIComponent(t),c.page.showLoading();var n=localStorage.getItem(D.instanceID),i=localStorage.getItem(D.deviceID);this.activateNetworkRequest(n,i,e,t)}activateNetworkRequest(e,t,n,i){var r=c.CONTROLLER_URL+"/exc/InstanceController?ac=b&id="+e+"&devid="+t+"&eml="+n+"&lickey="+i,s=new XMLHttpRequest;s.onreadystatechange=async()=>{if(s.readyState===XMLHttpRequest.DONE&&200===s.status){var e=JSON.parse(s.responseText);await this.activateProcessResponse(e,n)}},s.open("POST",r,!0),s.send(r)}async activateProcessResponse(e,t){if(t===s&&(t=e.email),e.status){var n=i.fromState(H,e.data);await f.sendPromise(f.Settings.ID,f.Settings.ACTION_UPDATE_TRIAL_EXPIRED,{email:t,value:a,expiredDate:n.expiredDate}),""!==n.id&&await f.sendPromise(f.Settings.ID,f.Settings.ACTION_UPDATE_INSTANCE_AND_DEVICE_IDS,{instanceID:n.id,deviceID:n.newDeviceId}),this.activationSuccess(n)}else this.activationError(e.data)}activationError(e){var t="";switch(parseInt(e)){case 1:t="This is not a valid e-mail. Please try again!";break;case 2:t="The email address you've entered doesn't appear to exist. Please check your entry or visit</a>";break;case 3:t="Your subscription has expired. <br>To continue visit";break;case 4:t="You've reached the maximum allowed active browsers for this account. To manage them, please visit";break;case 5:t="Your trial version has expired. Please visit ";break;case 6:t="You have modified extension`s ID. You need from active paid account to continue using it!";break;case 7:t="Gumroad license key is not valid.<br>Please contact our support!"}this.errorLabel.innerHTML=t,C.addClass(this.errorLabel,"Active"),c.page.hideLoading()}activationSuccess(e){var t=3;e.expiredDate.indexOf("never")>-1&&(t=10);var n=B.getMessage("trailSuccessActViewDescrBrowserPro",[t]);e.isFreeTrial&&(n=B.getMessage("trailSuccessActViewDescrBrowserFree",[e.expiredDate])),this.showActivationSuccessView(n),c.page.hideLoading()}deactivate(){c.page.showLoading(),this.deactivateNetworkRequest()}deactivateNetworkRequest(){var e=new XMLHttpRequest,t=localStorage.getItem(D.instanceID),n=c.CONTROLLER_URL+"/exc/InstanceController?ac=c&id="+t;e.onreadystatechange=()=>{if(e.readyState===XMLHttpRequest.DONE&&200===e.status)try{var t=JSON.parse(e.responseText);this.deactivateProcessResponse(t)}catch(e){console.error("Cannot parse respnse.")}},e.open("POST",n,!0),e.send(n)}deactivateProcessResponse(e){e.status&&(f.send(f.Settings.ID,f.Settings.ACTION_CHECK_LICENSE,{},()=>{window.close()}),window.navigator.userAgent.indexOf("Edge")>-1&&setTimeout((function(){window.close()}),1e3))}isEmailInvalid(e){return null===(e=e.trim()).match("[_A-Za-z0-9-]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})")}getFormattedTS(e){var t=new Date(e),n=""+t.getDate(),i=t.getFullYear();return n+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+i}}class q{constructor(e,t,n,i,r,s,o,a){this.options_n=null,this.is_trial_expired=e,this.support_c=s,this.isLiteVersion=o,this.isProVersion=a,this.initFields(t,n,i,r)}initFields(e,t,n,i){this.options_n=document.querySelector(".Options"),this.initSupport(),this.initLiteVersion(),this.initHelp(),this.initWhiteList(),this.initShortcut(),this.initDayNightTimers(t),this.initUninstall(),this.initDefaultMode(e),this.initOSColorSchemeChecker(i),this.initIsChangingScrolls(n),this.initExportImport(),this.initDefaultLanguage(),this.options_n.querySelector(".Popup").addEventListener("click",x.stopPropagation),this.options_n.addEventListener("click",e=>{C.removeClass(this.options_n,"Active"),e.stopPropagation()}),document.querySelector(".OptionsTrigger").addEventListener("click",()=>{this.initClientArea(),C.addClass(this.options_n,"Active")})}initSupport(){document.querySelector(".SupportTrigger").addEventListener("click",()=>{C.removeClass(this.options_n,"Active"),this.support_c.show()})}initClientArea(){var e=this.options_n.querySelector(".ClientAreaActivateButton"),t=this.options_n.querySelector(".InfoEmail");((n,i)=>{k.checkLicense(n,this.is_trial_expired,this.isLiteVersion,this.isProVersion);let r=i,s="never";if("never"===i.trim())r="never";else{let e=new Date(r);"Invalid Date"!==e&&(s=e.toLocaleDateString(B.getLocale(),{year:"numeric",month:"long",day:"numeric"}))}null===n?(e.innerHTML=B.getMessage("helpViewActivateNow"),t.innerHTML=B.getMessage("helpViewExpires",s)):(e.innerHTML=B.getMessage("helpViewActivated"),t.innerHTML=B.getMessage("helpViewByExpires",[decodeURIComponent(n),s])),t.addEventListener("click",()=>{e.click()}),e.addEventListener("click",()=>{C.removeClass(this.options_n,"Active"),void 0===c.page.trial_expired_c&&(c.page.trial_expired_c=new F),(e=>{null===e||-1===e.indexOf("@")?c.page.trial_expired_c.showActivationView(!0):c.page.trial_expired_c.showLogoutView(e)})(localStorage.getItem(D.isActivatedByEmail))})})(localStorage.getItem(D.isActivatedByEmail),localStorage.getItem(D.expiredDate)),this.options_n.querySelector(".ClientAreaButton").addEventListener("click",(function(){c.browser.tabs.create({url:"https://billing.nighteye.app/client/login"})}))}initLiteVersion(){var e=this.options_n.querySelector(".LiteVersion");e.addEventListener("click",()=>{C.removeClass(this.options_n,"Active"),c.page.trial_expired_c.showLiteVersionView()});var t=this.options_n.querySelector(".GoProLink");t.addEventListener("click",()=>{c.browser.tabs.create({url:"https://billing.nighteye.app"})}),this.isLiteVersion||(e.style="display: none;",t.style="display: none;")}initHelp(){this.options_n.querySelector(".Help").addEventListener("click",()=>{c.browser.tabs.create({url:"https://nighteye.app/help"})}),this.options_n.querySelector("#helpOSIntegrationLink").addEventListener("click",()=>{c.browser.tabs.create({url:"https://nighteye.app/help#os-integration"})})}initWhiteList(){this.options_n.querySelector(".WhiteList").addEventListener("click",()=>{c.browser.tabs.create({url:"https://nighteye.app/whitelist-website-disable-dark-mode"})})}initShortcut(){this.options_n.querySelector(".Shortcut").addEventListener("click",()=>{c.browser.tabs.create({url:"https://nighteye.app/how-to-create-custom-keyboard-shortcuts-for-you-google-chrome-extensions/"})})}initDayNightTimers(e){this.options_n.querySelector("#helpViewTimerDescr").addEventListener("click",()=>{c.browser.tabs.create({url:"https://nighteye.app/schedule-dark-mode/"})});for(var t=this.options_n.querySelector(".PowerTimerSelect"),n=this.options_n.querySelector(".StartTimerSelect"),i=this.options_n.querySelector(".EndTimerSelect"),r="",s="",o=0;o<24;++o)for(var a=0,l=0;l<4;++l){var u=(o<9?"0"+o:o)+":"+(0===a?"0"+a:a),h=`<option value='${u}'>${u}</option>`;r+=h,s+=h,a+=15}n.innerHTML=r,i.innerHTML=s,t.value=e.status?"1":"2",n.value=e.startTime,i.value=e.endTime;var d=e=>{var r="1"===t.value,s=n.value,o=i.value;f.send(f.Settings.ID,f.Settings.ACTION_UPDATE_DAY_NIGHT_TIMERS,{status:r,startTime:s,endTime:o},()=>{e&&(c.page.reload(),window.location.reload())})};t.addEventListener("change",()=>{d(!0)}),n.addEventListener("change",()=>{"1"===t.value?d(!0):d(!1),this.showInfoMessage(this.options_n.querySelector(".DayNightTimers"),"Close the extension window to activate")}),i.addEventListener("change",()=>{"1"===t.value?d(!0):d(!1),this.showInfoMessage(this.options_n.querySelector(".DayNightTimers"),"Close the extension window to activate")})}initUninstall(){this.options_n.querySelector(".Uninstall").addEventListener("click",()=>{window.navigator.userAgent.indexOf("Edge")>-1?c.browser.tabs.create({url:"https://nighteye.app/help#uninstall-edge"}):window.navigator.userAgent.indexOf("Firefox")>-1?c.browser.tabs.create({url:"about:addons"}):window.navigator.userAgent.indexOf("Vivaldi")>-1?c.browser.tabs.create({url:"vivaldi://extensions"}):window.navigator.userAgent.indexOf("Yandex")>-1?c.browser.tabs.create({url:"browser://tune/?id="+c.browser.runtime.id}):c.browser.tabs.create({url:"chrome://extensions/?id="+c.browser.runtime.id})})}initDefaultMode(e){var t=this.options_n.querySelector(".DefaultModeSelect");switch(t.innerHTML='<option value="'+d.Mode.DARK+'">'+B.getMessage("filterModeNameDark")+'</option><option value="'+d.Mode.FILTERED+'">'+B.getMessage("filterModeNameFiltered")+'</option><option value="'+d.Mode.NORMAL+'">'+B.getMessage("filterModeNameNormal")+"</option>",parseInt(e)){case d.Mode.DARK:t.selectedIndex=0;break;case d.Mode.FILTERED:t.selectedIndex=1;break;case d.Mode.NORMAL:t.selectedIndex=2;break;default:console.error("Not implemeted mode with number: "+e)}t.addEventListener("change",e=>{f.send(f.Settings.ID,f.Settings.ACTION_UPDATE_DEFAULT_MODE,{mode:parseInt(e.srcElement.value)})})}initOSColorSchemeChecker(e){var t=this.options_n.querySelector(".OSColorSchemeCheckerSelect");t.innerHTML=`\n            <option value="${o}">${B.getMessage("helpViewEnabled")}</option>\n            <option value="${a}">${B.getMessage("helpViewDisabled")}</option>\n        `,t.selectedIndex=e?0:1,t.addEventListener("change",e=>{f.send(f.Settings.ID,f.Settings.ACTION_UPDATE_OS_COLOR_SCHEME_CHECKER_ENABLED,{isEnabled:e.srcElement.value})})}initIsChangingScrolls(e){var t=this.options_n.querySelector(".ChangingScrollsSelect");t.innerHTML=`\n            <option value="${o}">${B.getMessage("helpViewEnabled")}</option>\n            <option value="${a}">${B.getMessage("helpViewDisabled")}</option>\n        `,t.selectedIndex=e?0:1,t.addEventListener("change",e=>{f.send(f.Settings.ID,f.Settings.ACTION_UPDATE_CHANGING_SCROLLS_ENABLED,{isEnabled:e.srcElement.value})})}initExportImport(){this.options_n.querySelector(".ExportImport .Export").addEventListener("click",()=>{var e=this.options_n.querySelector(".ExportImport .DownloadFileLabel");this.exportSettings(e)}),this.options_n.querySelector(".ExportImport .Import").addEventListener("click",()=>{this.importSettings()})}initDefaultLanguage(){var e=this.options_n.querySelector(".DefaultLanguageSelect");q.initDefaultLanguageSelect(e,!0)}static initDefaultLanguageSelect(e,t){var n=B.getLanguage();e.innerHTML='            <option value="en" '+("en"===n?"selected":"")+'>English</option>\n            <option value="es" '+("es"===n?"selected":"")+'>Español</option>\n            <option value="pt" '+("pt"===n?"selected":"")+'>Português</option>\n            <option value="fr" '+("fr"===n?"selected":"")+'>Français</option>\n            <option value="de" '+("de"===n?"selected":"")+'>Deutsche</option>\n            <option value="ru" '+("ru"===n?"selected":"")+'>Русский</option>\n            <option value="tr" '+("tr"===n?"selected":"")+'>Türkçe</option>\n            <option value="jp" '+("jp"===n?"selected":"")+'>日本語</option>\n            <option value="zh_CN" '+("zh_CN"===n?"selected":"")+'>中文</option>\n            <option value="zh_TW" '+("zh_TW"===n?"selected":"")+'>中文（台湾）</option>\n            <option value="bg" '+("bg"===n?"selected":"")+">Български</option>",e.addEventListener("change",()=>{B.setLanguage(e.value),t&&window.location.reload()})}exportSettings(e){f.send(f.Settings.ID,f.Settings.ACTION_COLLECT_DATA_FOR_EXPORT,{},t=>{P.createLinkAncActivate(t,e)})}importSettings(){var e=this.options_n.querySelector(".ExportImport"),t=e.querySelector("input");t.addEventListener("change",t=>{if(this.showInfoMessage(e,"Loading"),"function"!=typeof window.FileReader)throw"The file API isn't supported on this browser.";let n=t.target;if(!n)throw"The browser does not properly implement the event object";if(!n.files)throw"This browser does not support the `files` property of the file input.";if(!n.files[0])return;let i=n.files[0],r=new FileReader;r.onload=t=>{var n="error";try{var i=JSON.parse(atob(t.target.result));i.length>0&&(n="success");for(var r=0;r<i.length;++r){var s=i[r];localStorage.setItem(s.key,s.value)}}catch(e){console.error(e)}this.showInfoMessage(e,n)},r.onerror=e=>{console.log(e)},r.readAsText(i)}),t.click()}showInfoMessage(e,t){var n=e.querySelector(".InfoMessage");n.innerHTML=t,C.addClass(n,"Active")}getCurrentDateTime(){var e=new Date,t=""+(e.getMonth()+1),n=""+e.getDate(),i=e.getFullYear(),r=e.getHours(),s=e.getMinutes(),o=e.getSeconds();return t<10&&(t="0"+t),n<10&&(n="0"+n),r<10&&(r="0"+r),s<10&&(s="0"+s),o<10&&(o="0"+o),n+"."+t+"."+i+"-"+r+"_"+s+"_"+o}}class j{constructor(e){this.contentType=e,this.initFields(),this.addListeners()}initFields(){var e=document.querySelector(".Options > .Popup > .Row > .Left");this.settings_n=document.querySelector(".Settings"),this.colors_n=this.settings_n.querySelector(".Colors"),this.images_n=this.settings_n.querySelector(".Images"),this.builtInDarkTheme_n=this.settings_n.querySelector(".BuiltInDarkTheme"),this.turboCache_n=this.settings_n.querySelector(".TurboCache"),this.brightness_n=this.settings_n.querySelector(".Brightness"),this.contrast_n=this.settings_n.querySelector(".Contrast"),this.saturation_n=this.settings_n.querySelector(".Saturation"),this.temperature_n=this.settings_n.querySelector(".Temperature"),this.dim_n=this.settings_n.querySelector(".Dim"),this.images_n.querySelector("#labelImageIconConversion").innerHTML=B.getMessage("labelImageIconConversion"),this.images_n.querySelector("#labelImageBackgroundConversion").innerHTML=B.getMessage("labelImageBackgroundConversion"),this.images_n.querySelector("#labelImageHighCPU").innerHTML=B.getMessage("labelImageHighCPU"),c.browser.runtime.getPlatformInfo(t=>{switch(t.os){case"mac":e.innerHTML="⌘+1, ⌘+2";break;default:e.innerHTML="Alt+Shift+2, Alt+Shift+3"}})}addListeners(){this.colorsListener=null,this.imagesListener=null,this.builtInDarkThemeListener=null,this.turboCacheListener=null,this.brightnessListener=null,this.contrastListener=null,this.saturationListener=null,this.temperatureListener=null,this.dimListener=null,this.colors_n.addEventListener("click",()=>{null!==this.colorsListener&&this.colorsListener()}),this.images_n.addEventListener("click",()=>{null!==this.imagesListener&&this.imagesListener()}),this.builtInDarkTheme_n.addEventListener("click",()=>{null!==this.builtInDarkThemeListener&&this.builtInDarkThemeListener()}),this.turboCache_n.addEventListener("click",()=>{null!==this.turboCacheListener&&this.turboCacheListener()}),this.brightness_n.addEventListener("click",()=>{null!==this.brightnessListener&&this.brightnessListener()}),this.contrast_n.addEventListener("click",()=>{null!==this.contrastListener&&this.contrastListener()}),this.saturation_n.addEventListener("click",()=>{null!==this.saturationListener&&this.saturationListener()}),this.temperature_n.addEventListener("click",()=>{null!==this.temperatureListener&&this.temperatureListener()}),this.dim_n.addEventListener("click",()=>{null!==this.dimListener&&this.dimListener()})}setColorsState(e){this.setButtonState(this.colors_n,e)}setImagesState(e){var t="ImageStatus Disabled",n=B.getMessage("labelDisabled"),i=this.images_n.querySelector(".CPUStatus");e&&(t="ImageStatus Enabled",n=B.getMessage("labelEnabled"),i.style.display="block");for(var r=this.images_n.querySelectorAll(".ImageStatus"),s=0;s<r.length;++s){var o=r[s];o.className=t,o.innerHTML=n}this.setButtonState(this.images_n,e)}setBuiltInDarkThemeState(e){e=parseInt(e),d.isBuiltInDarkThemeExists(c.URL)&&(e===d.BuiltInBehaviourMode.INTEGRATED?this.setButtonState(this.builtInDarkTheme_n,!0):(C.removeClass(this.builtInDarkTheme_n,"Active"),C.addClass(this.builtInDarkTheme_n,"Usable")))}setTurboCacheState(e){this.setButtonState(this.turboCache_n,e)}setBrightnessState(e){this.setButtonState(this.brightness_n,e)}setContrastState(e){this.setButtonState(this.contrast_n,e)}setSaturationState(e){this.setButtonState(this.saturation_n,e)}setTemperatureState(e){this.setButtonState(this.temperature_n,e)}setDimState(e){this.setButtonState(this.dim_n,e)}setButtonState(e,t){t?C.addClass(e,"Active"):C.removeClass(e,"Active")}setMode(e){const t=d.isBuiltInDarkThemeExists(c.URL);switch(e){case d.Mode.DARK:C.removeClass(this.colors_n,"Disabled"),C.removeClass(this.images_n,"Disabled"),C.removeClass(this.builtInDarkTheme_n,"Disabled"),t?C.addClass(this.turboCache_n,"Disabled"):C.removeClass(this.turboCache_n,"Disabled"),C.removeClass(this.brightness_n,"Disabled"),C.removeClass(this.contrast_n,"Disabled"),C.removeClass(this.saturation_n,"Disabled"),C.removeClass(this.temperature_n,"Disabled"),C.removeClass(this.dim_n,"Disabled");break;case d.Mode.FILTERED:C.addClass(this.colors_n,"Disabled"),C.addClass(this.images_n,"Disabled"),C.addClass(this.builtInDarkTheme_n,"Disabled"),C.addClass(this.turboCache_n,"Disabled"),C.removeClass(this.brightness_n,"Disabled"),C.removeClass(this.contrast_n,"Disabled"),C.removeClass(this.saturation_n,"Disabled"),C.removeClass(this.temperature_n,"Disabled"),C.removeClass(this.dim_n,"Disabled");break;case d.Mode.NORMAL:C.addClass(this.colors_n,"Disabled"),C.addClass(this.images_n,"Disabled"),C.addClass(this.builtInDarkTheme_n,"Disabled"),C.addClass(this.turboCache_n,"Disabled"),C.addClass(this.brightness_n,"Disabled"),C.addClass(this.contrast_n,"Disabled"),C.addClass(this.saturation_n,"Disabled"),C.addClass(this.temperature_n,"Disabled"),C.addClass(this.dim_n,"Disabled")}"application/pdf"===this.contentType&&(C.addClass(this.colors_n,"Disabled"),C.addClass(this.images_n,"Disabled"),C.removeClass(this.builtInDarkTheme_n,"Disabled"),C.removeClass(this.turboCache_n,"Disabled"))}}n(393);class W{constructor(e,t,n,i){this.min_value=void 0===n?0:n,this.max_value=void 0===i?100:i,this.range=this.max_value-this.min_value,this.inverse_range=1/this.range,this.container_n=e,this.move_area_n=t,this.dot_n=this.container_n.querySelector(".DARKY_Dot"),this.progress_n=this.container_n.querySelector(".DARKY_Progress"),this.value_n=this.container_n.querySelector(".DARKY_Center span"),this.value=0,this.translate_x=0,this.min_translate_x=0,this.max_translate_x=this.container_n.querySelector(".DARKY_Bar").offsetWidth-this.dot_n.offsetWidth,this.action=!1,this.addListeners()}addListeners(){var e=c.NOT_EXISTS;this.onChangeListener=null,this.onMouseMove=t=>{if(!1!==this.action){this.translate_x+=t.clientX-e,e=t.clientX;var n=W.clamp(this.min_translate_x,this.translate_x,this.max_translate_x),i=n/this.max_translate_x*this.range|0;this.progress_n.style.transform="scaleX("+i*this.inverse_range+")",this.dot_n.style.transform="translateX("+n+"px)",this.setValue(i,!1),null!==this.onChangeListener&&this.onChangeListener(i)}},this.onMouseLeave=()=>{this.action=!1},this.onMouseUp=()=>{this.action=!1},this.onMouseDown=t=>{this.action=!0,this.translate_x=W.clamp(this.min_translate_x,this.translate_x,this.max_translate_x),e=t.clientX},this.onDotClick=e=>{e.stopPropagation()},this.onContainerClick=e=>{var t=(e.offsetX-.5*this.dot_n.offsetWidth)/this.max_translate_x*this.range|0;t=W.clamp(0,t,this.range),this.setValue(t),null!==this.onChangeListener&&this.onChangeListener(t)},this.move_area_n.addEventListener("mousemove",this.onMouseMove),this.move_area_n.addEventListener("mouseleave",this.onMouseLeave),this.move_area_n.addEventListener("mouseup",this.onMouseUp),this.dot_n.addEventListener("mousedown",this.onMouseDown),this.dot_n.addEventListener("click",this.onDotClick),this.container_n.querySelector(".DARKY_Bar").addEventListener("click",this.onContainerClick)}removeListeners(){this.move_area_n.removeEventListener("mousemove",this.onMouseMove),this.move_area_n.removeEventListener("mouseleave",this.onMouseLeave),this.move_area_n.removeEventListener("mouseup",this.onMouseUp),this.dot_n.removeEventListener("mousedown",this.onMouseDown),this.dot_n.removeEventListener("click",this.onDotClick),this.container_n.querySelector(".DARKY_Bar").removeEventListener("click",this.onContainerClick)}setValue(e,t){this.value=e,null!==this.value_n&&(this.value_n.innerHTML=this.value),!1!==t&&(this.translate_x=this.value*this.inverse_range*this.max_translate_x,this.progress_n.style.transform="scaleX("+this.value*this.inverse_range+")",this.dot_n.style.transform="translateX("+this.translate_x+"px)")}static clamp(e,t,n){return Math.max(e,Math.min(n,t))}}var G=W;class Y{constructor(e,t){this.url=e,this.contentType=t,this.port=null,this.initFields()}initFields(){this.container_n=document.querySelector(".SettingsBrightnessView"),this.slider=new G(this.container_n.querySelector(".DARKY_Slider"),this.container_n),this.slider.onChangeListener=e=>{this.sendMessage(e)}}sendMessage(e){this.port.postMessage({property:"brightness",value:e})}setValues(e,t,n){this.default_v=e,this.local_v=t,this.global_v=n,this.slider.setValue(this.local_v)}cancelListener(e){this.slider.setValue(this.local_v),this.sendMessage(this.local_v),e()}applyToLocalListener(e,t){this.local_v=this.slider.value,e.setBrightnessState(this.default_v!==this.local_v),this.save(this.local_v,null,t)}applyToGlobalListener(e,t){this.local_v=this.global_v=this.slider.value,e.setBrightnessState(this.default_v!==this.local_v),this.save(null,this.global_v,t)}defaultsGlobalListener(e,t){this.local_v=this.global_v=this.default_v,e.setBrightnessState(this.default_v!==this.local_v),this.slider.setValue(this.local_v),this.save(null,this.global_v,t)}defaultsLocalListener(e,t){this.local_v=this.default_v,e.setBrightnessState(this.default_v!==this.local_v),this.slider.setValue(this.local_v),this.save(this.local_v,null,t)}save(e,t,n){f.send(f.Settings.ID,f.Settings.ACTION_UPDATE_BRIGHTNESS,{url:this.url,contentType:this.contentType,local_v:e,global_v:t},n)}setVisibility(e){e?C.addClass(this.container_n,"Visible"):C.removeClass(this.container_n,"Visible")}}class K{static parseAndGetRGBFromHSLA(e){let t=e.substring(5,e.length-1).split(","),n=[];for(let e=0;e<t.length;++e)n.push(parseFloat(t[e]));K.HSLtoRGB(n);let i=n;return i[0]+","+i[1]+","+i[2]}static makeHSLColorString(e){return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"}static makeColorKeyFromArray(e){return e[0]<<16|e[1]<<8|e[2]}static makeHSLColorArrayFromKey(e){return[e>>16&255,e>>8&255,255&e]}static forceRGBGray(e){const t=Math.min(e[0],Math.min(e[1],e[2])),n=Math.max(e[0],Math.max(e[1],e[2]));if(n-t>Math.round(8+4*(255-t)/255))return;const i=Math.round(.5*(n-t));e[0]=e[1]=e[2]=t+i}static RGBtoHSL(e){K.forceRGBGray(e);var t,n,i,r=e[0]/255,s=e[1]/255,o=e[2]/255,a=Math.max(r,Math.max(s,o)),l=Math.min(r,Math.min(s,o)),c=a-l;i=.5*(a+l),0===c?(t=0,n=0):(t=a===r?60*K.modFloat((s-o)/c,6):a===s?60*((o-r)/c+2):60*((r-s)/c+4),n=c/(1-Math.abs(2*i-1))),e[0]=Math.round(t),e[1]=Math.round(100*n),e[2]=Math.round(100*i)}static HSLtoRGB(e){e[0]%=360;var t=.01*e[1],n=.01*e[2],i=(1-Math.abs(2*n-1))*t,r=i*(1-Math.abs(K.modFloat(e[0]/60,2)-1)),s=n-.5*i;e[0]<180?e[0]<60?(e[0]=i,e[1]=r,e[2]=0):e[0]<120?(e[0]=r,e[1]=i,e[2]=0):(e[0]=0,e[1]=i,e[2]=r):e[0]<240?(e[0]=0,e[1]=r,e[2]=i):e[0]<300?(e[0]=r,e[1]=0,e[2]=i):(e[0]=i,e[1]=0,e[2]=r),e[0]=Math.round(255*(e[0]+s)),e[1]=Math.round(255*(e[1]+s)),e[2]=Math.round(255*(e[2]+s))}static modFloat(e,t){var n=e/t;return(n-=Math.floor(n))*t}}var z=K;n(394);class ${constructor(e,t,n,i,r){this.url=e,this.contentType=t,this.container_n=n,this.colors_original=i,this.colors_replaced=r,this.invoke_node=null,this.initFields(),this.initPreview(),this.initColors()}initFields(){this.preview_replaced_n=this.container_n.querySelector(".DARKY_Preview .DARKY_Box.DARKY_Replaced"),this.preview_original_n=this.container_n.querySelector(".DARKY_Preview .DARKY_Box.DARKY_Original"),this.slider_hue=new G(this.container_n.querySelector(".DARKY_Slider.DARKY_Hue"),this.container_n,0,360),this.slider_hue.onChangeListener=e=>{this.updateColors()},this.slider_saturation=new G(this.container_n.querySelector(".DARKY_Slider.DARKY_Saturation"),this.container_n),this.slider_saturation.onChangeListener=e=>{this.updateColors()},this.slider_lightness=new G(this.container_n.querySelector(".DARKY_Slider.DARKY_Lightness"),this.container_n),this.slider_lightness.onChangeListener=e=>{this.updateColors()}}removeSlidersListeners(){this.slider_hue.removeListeners(),this.slider_saturation.removeListeners(),this.slider_lightness.removeListeners()}initPreview(){this.preview_replaced_n.style.backgroundColor=z.makeHSLColorString(this.colors_replaced),this.preview_original_n.style.backgroundColor=z.makeHSLColorString(this.colors_original)}initColors(){this.slider_hue.setValue(this.colors_replaced[0]),this.slider_saturation.setValue(this.colors_replaced[1]),this.slider_lightness.setValue(this.colors_replaced[2]),this.updateColorLayout()}updateColors(){this.updateColorData(),this.updateColorLayout()}updateColorData(){var e=[this.slider_hue.value,this.slider_saturation.value,this.slider_lightness.value];z.HSLtoRGB(e),this.colors_replaced[0]=this.slider_hue.value,this.colors_replaced[1]=this.slider_saturation.value,this.colors_replaced[2]=this.slider_lightness.value}updateColorLayout(){var e=this.slider_saturation.container_n.querySelector(".DARKY_Bar > .DARKY_Before"),t=this.slider_lightness.container_n.querySelector(".DARKY_Bar > .DARKY_Before");e.style.background="linear-gradient(to right, hsl("+this.colors_replaced[0]+", 0%, "+this.colors_replaced[2]+"%), hsl("+this.colors_replaced[0]+", 100%, "+this.colors_replaced[2]+"%))",t.style.background="linear-gradient(to right, hsl("+this.colors_replaced[0]+", "+this.colors_replaced[1]+"%, 0%), hsl("+this.colors_replaced[0]+", "+this.colors_replaced[1]+"%, 50%), hsl("+this.colors_replaced[0]+", "+this.colors_replaced[1]+"%, 100%))",this.preview_replaced_n.style.backgroundColor="hsl("+this.colors_replaced[0]+", "+this.colors_replaced[1]+"%, "+this.colors_replaced[2]+"%)"}cancelListener(e){this.removeSlidersListeners()}applyToLocalListener(e){this.save(!1,!1,e)}applyToGlobalListener(e){this.save(!0,!1,e)}defaultsGlobalListener(e){this.save(!0,!0,e)}defaultsLocalListener(e){this.save(!1,!0,e)}save(e,t,n){f.send(f.Settings.ID,f.Settings.ACTION_UPDATE_COLOR,{url:this.url,global:e,defaults:t,color:this.colors_replaced,key:z.makeColorKeyFromArray(this.colors_original)},()=>{!0===t&&(this.colors_replaced=null),this.removeSlidersListeners(),n()})}setVisibility(e){e?CSS.addClass(this.container_n,"Visible"):CSS.removeClass(this.container_n,"Visible")}}n(395);class X{constructor(e){this.page=e,this.initFields()}initFields(){this.container_n=document.querySelector(".SettingsColorsView"),this.palette_n=this.container_n.querySelector(".Palette"),this.color_picker=null,this.color_picker_n=document.querySelector(".DARKY_SettingsColorPickerView"),this.hsl_color_map=null,this.local_hsl_color_map=null,this.page_hsl_color_map=null,this.elementPickerButton=this.container_n.querySelector("#elementPickerButton"),this.elementPickerButton.onclick=()=>{f.send(f.Settings.ID,f.Settings.ACTION_ACTIVATE_COLOR_SELECTOR,{},()=>{window.close()})}}sendMessage(){this.port.postMessage({property:"load_page_hsl_colors"})}setValues(e){this.local_hsl_color_map=e,this.mergeAndInvalidatePalettes()}mergeAndInvalidatePalettes(){if(null!==this.local_hsl_color_map&&null!==this.page_hsl_color_map){for(var e in this.hsl_color_map={},this.page_hsl_color_map){var t=this.local_hsl_color_map[e];t=void 0===t?z.makeHSLColorArrayFromKey(e):t,this.hsl_color_map[e]=t}this.makePalette()}}makePalette(){var e=e=>()=>{var t=z.makeHSLColorArrayFromKey(e),n=JSON.parse(JSON.stringify(this.hsl_color_map[e]));this.setVisibility(!1),this.color_picker=new $(this.page.url,this.color_picker_n,t,n),this.color_picker.setVisibility(!0),this.color_picker.invoke_node=this};for(var t in this.palette_n.innerHTML=s,this.hsl_color_map){var n=z.makeHSLColorArrayFromKey(t),i=this.hsl_color_map[t];if(this.isColorChanged(n,i)){var r=document.createElement("div");this.setNodeColors(r,n,i),r.addEventListener("click",e(t)),this.palette_n.appendChild(r)}}}setNodeColors(e,t,n){null!==n?(e.style.backgroundColor=z.makeHSLColorString(n),e.innerHTML='<span style="background-color:'+z.makeHSLColorString(t)+'"></span>'):e.parentNode.removeChild(e)}isColorChanged(e,t){for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!0;return!1}updatePalette(){var e=z.makeColorKeyFromArray(this.color_picker.colors_original);null===this.color_picker.colors_replaced?(this.hsl_color_map[e]=this.color_picker.colors_original,delete this.local_hsl_color_map[e]):(this.hsl_color_map[e]=this.color_picker.colors_replaced,this.local_hsl_color_map[e]=this.color_picker.colors_replaced),this.setNodeColors(this.color_picker.invoke_node,this.color_picker.colors_original,this.color_picker.colors_replaced)}clearLocalPalette(){for(var e in this.local_hsl_color_map={},this.hsl_color_map={},this.page_hsl_color_map)this.hsl_color_map[e]=z.makeHSLColorArrayFromKey(e)}closePicker(){this.color_picker.setVisibility(!1),this.color_picker=null,this.setVisibility(!0)}cancelListener(e){if(null!==this.color_picker)return this.color_picker.cancelListener(),void this.closePicker();e()}applyToLocalListener(e,t){null!==this.color_picker?this.color_picker.applyToLocalListener(n=>{this.updatePalette(),this.closePicker(),e.setColorsState(!0!==x.isMapEmpty(this.local_hsl_color_map)),t()}):t()}applyToGlobalListener(e,t){null!==this.color_picker?this.color_picker.applyToGlobalListener(n=>{this.updatePalette(),this.closePicker(),e.setColorsState(!0!==x.isMapEmpty(this.local_hsl_color_map)),t()}):t()}defaultsGlobalListener(e,t){null!==this.color_picker?this.color_picker.defaultsGlobalListener(n=>{this.updatePalette(),this.closePicker(),e.setColorsState(!0!==x.isMapEmpty(this.local_hsl_color_map)),t()}):this.save(!0,()=>{this.clearLocalPalette(),e.setColorsState(!1),t()})}defaultsLocalListener(e,t){null!==this.color_picker?this.color_picker.defaultsLocalListener(n=>{this.updatePalette(),this.closePicker(),e.setColorsState(!0!==x.isMapEmpty(this.local_hsl_color_map)),t()}):this.save(!1,()=>{this.clearLocalPalette(),e.setColorsState(!1),t()})}save(e,t){f.send(f.Settings.ID,f.Settings.ACTION_RESTORE_COLOR_DEFAULTS,{url:this.page.url,global:e},()=>{this.palette_n.innerHTML=s,t()})}setVisibility(e){e?(C.addClass(this.container_n,"Visible"),this.page.controls_c.setApplyControlVisibility(!1)):(C.removeClass(this.container_n,"Visible"),this.page.controls_c.setApplyControlVisibility(!0))}loadPageColors(){this.sendMessage()}onLoadPageColors(e){this.page_hsl_color_map=e,this.mergeAndInvalidatePalettes()}}class J{constructor(e,t){this.url=e,this.contentType=t,this.port=null,this.initFields()}initFields(){this.container_n=document.querySelector(".SettingsContrastView"),this.slider=new G(this.container_n.querySelector(".DARKY_Slider"),this.container_n),this.slider.onChangeListener=e=>{this.sendMessage(e)}}sendMessage(e){this.port.postMessage({property:"contrast",value:e})}setValues(e,t,n){this.default_v=e,this.local_v=t,this.global_v=n,this.slider.setValue(this.local_v)}cancelListener(e){this.slider.setValue(this.local_v),this.sendMessage(this.local_v),e()}applyToLocalListener(e,t){this.local_v=this.slider.value,e.setContrastState(this.default_v!==this.local_v),this.save(this.local_v,null,t)}applyToGlobalListener(e,t){this.local_v=this.global_v=this.slider.value,e.setContrastState(this.default_v!==this.local_v),this.save(null,this.global_v,t)}defaultsGlobalListener(e,t){this.local_v=this.global_v=this.default_v,e.setContrastState(this.default_v!==this.local_v),this.slider.setValue(this.local_v),this.save(null,this.global_v,t)}defaultsLocalListener(e,t){this.local_v=this.default_v,e.setContrastState(this.default_v!==this.local_v),this.slider.setValue(this.local_v),this.save(this.local_v,null,t)}save(e,t,n){f.send(f.Settings.ID,f.Settings.ACTION_UPDATE_CONTRAST,{url:this.url,contentType:this.contentType,local_v:e,global_v:t},n)}setVisibility(e){e?C.addClass(this.container_n,"Visible"):C.removeClass(this.container_n,"Visible")}}class Z{constructor(e,t){this.url=e,this.contentType=t,this.port=null,this.initFields()}initFields(){this.container_n=document.querySelector(".SettingsDimView"),this.slider=new G(this.container_n.querySelector(".DARKY_Slider"),this.container_n),this.slider.onChangeListener=e=>{this.sendMessage(e)}}sendMessage(e){this.port.postMessage({property:"dim",value:e})}setValues(e,t,n){this.default_v=e,this.local_v=t,this.global_v=n,this.slider.setValue(this.local_v)}cancelListener(e){this.slider.setValue(this.local_v),this.sendMessage(this.local_v),e()}applyToLocalListener(e,t){this.local_v=this.slider.value,e.setDimState(this.default_v!==this.local_v),this.save(this.local_v,null,t)}applyToGlobalListener(e,t){this.local_v=this.global_v=this.slider.value,e.setDimState(this.default_v!==this.local_v),this.save(null,this.global_v,t)}defaultsGlobalListener(e,t){this.local_v=this.global_v=this.default_v,e.setDimState(this.default_v!==this.local_v),this.slider.setValue(this.local_v),this.save(null,this.global_v,t)}defaultsLocalListener(e,t){this.local_v=this.default_v,e.setDimState(this.default_v!==this.local_v),this.slider.setValue(this.local_v),this.save(this.local_v,null,t)}save(e,t,n){f.send(f.Settings.ID,f.Settings.ACTION_UPDATE_DIM,{url:this.url,contentType:this.contentType,local_v:e,global_v:t},n)}setVisibility(e){e?C.addClass(this.container_n,"Visible"):C.removeClass(this.container_n,"Visible")}}n(396);class Q{constructor(e){this.container_n=e,this.enabled=!1,this.container_n.addEventListener("click",()=>{this.setState(!this.enabled)})}setState(e){this.enabled=e,e?C.addClass(this.container_n,"On"):C.removeClass(this.container_n,"On")}}class ee{constructor(e,t){this.url=e,this.contentType=t,this.initFields()}initFields(){this.container_n=document.querySelector(".SettingsImagesView"),this.switch=new Q(this.container_n.querySelector(".Switch")),this.container_n.querySelector("#settingsImageViewDescrP1").innerHTML=B.getMessage("settingsImageViewDescrP1"),this.container_n.querySelector("#settingsImageViewDescrP2").innerHTML=B.getMessage("settingsImageViewDescrP2"),this.container_n.querySelector("#settingsImageViewDescrP3").innerHTML=B.getMessage("settingsImageViewDescrP3"),this.container_n.querySelector("#settingsImageViewDescrP4").innerHTML=B.getMessage("settingsImageViewDescrP4")}setValues(e,t,n){this.default_v=e,this.local_v=t,this.global_v=n,this.switch.setState(this.local_v)}cancelListener(e){this.switch.setState(this.local_v),e()}applyToLocalListener(e,t){this.local_v=this.switch.enabled,e.setImagesState(this.local_v),this.save(this.local_v,null,t)}applyToGlobalListener(e,t){this.local_v=this.global_v=this.switch.enabled,e.setImagesState(this.local_v),this.save(null,this.global_v,t)}defaultsGlobalListener(e,t){this.local_v=this.global_v=this.default_v,e.setImagesState(this.local_v),this.switch.setState(this.local_v),this.save(null,this.global_v,t)}defaultsLocalListener(e,t){this.local_v=this.default_v,e.setImagesState(this.local_v),this.switch.setState(this.local_v),this.save(this.local_v,null,t)}save(e,t,n){f.send(f.Settings.ID,f.Settings.ACTION_UPDATE_IMAGES,{url:this.url,contentType:this.contentType,local_v:e,global_v:t},n)}setVisibility(e){e?C.addClass(this.container_n,"Visible"):C.removeClass(this.container_n,"Visible")}}class te{constructor(e,t){this.url=e,this.contentType=t,this.isAllow=p.isBuiltInDarkThemeExists(c.URL),this.initFields()}initFields(){this.container_n=document.querySelector(".SettingsBuiltInDarkThemeView"),this.select=this.container_n.querySelector(".BuiltInModeSelect"),this.websiteListPanel=this.container_n.querySelector(".WebsitesListPanel"),this.container_n.querySelector("#settingsBuiltInDarkViewDescrP1").innerHTML=B.getMessage("settingsBuiltInDarkViewDescrP1"),this.container_n.querySelector("#settingsBuiltInDarkViewDescrP2").innerHTML=B.getMessage("settingsBuiltInDarkViewDescrP2"),this.container_n.querySelector("#settingsBuiltInDarkViewDescrP3").innerHTML=B.getMessage("settingsBuiltInDarkViewDescrP3"),this.fillWebsites()}setValues(e,t,n){this.default_v=e,this.local_v=t,this.global_v=n,this.setState(this.local_v)}cancelListener(e){this.setState(this.local_v),e()}applyToLocalListener(e,t){this.local_v=this.select.value,e.setBuiltInDarkThemeState(this.local_v),this.save(this.local_v,null,t)}applyToGlobalListener(e,t){this.local_v=this.global_v=this.select.value,e.setBuiltInDarkThemeState(this.local_v),this.save(null,this.global_v,t)}defaultsGlobalListener(e,t){this.local_v=this.global_v=this.default_v,e.setBuiltInDarkThemeState(this.local_v),this.switch.setState(this.local_v),this.save(null,this.global_v,t)}defaultsLocalListener(e,t){this.local_v=this.default_v,e.setBuiltInDarkThemeState(this.local_v),this.switch.setState(this.local_v),this.save(this.local_v,null,t)}save(e,t,n){f.send(f.Settings.ID,f.Settings.ACTION_UPDATE_BUILT_IN_THEME_BEHAVIOUR_MODE,{url:this.url,contentType:this.contentType,local_v:null!==e?parseInt(e):e,global_v:null!==t?parseInt(t):t},n)}setState(e){switch(this.select.innerHTML=`\n        <option value="${p.BuiltInBehaviourMode.DISABLED}">${B.getMessage("settingsBuiltInDarkViewOptionDisabled")}</option>\n        <option value="${p.BuiltInBehaviourMode.CONVERT}">${B.getMessage("settingsBuiltInDarkViewOptionNightEyeDark")}</option>\n        <option value="${p.BuiltInBehaviourMode.INTEGRATED}">${B.getMessage("settingsBuiltInDarkViewOptionDeepIntegration")}</option>\n        `,parseInt(e)){case p.BuiltInBehaviourMode.DISABLED:this.select.selectedIndex=0;break;case p.BuiltInBehaviourMode.CONVERT:this.select.selectedIndex=1;break;case p.BuiltInBehaviourMode.INTEGRATED:this.select.selectedIndex=2;break;default:console.error("Not implemeted mode with number: "+e)}}setVisibility(e){e?(C.addClass(this.container_n,"Visible"),this.isAllow||this.hideButtons()):(C.removeClass(this.container_n,"Visible"),this.showButtons())}hideButtons(){C.addClass(this.select,"Hidden"),C.addClass(document.querySelector("footer"),"HideControls")}showButtons(){C.removeClass(document.querySelector("footer"),"HideControls")}fillWebsites(){var e="",t=p.BuiltInWebsites;for(var n in t){e+="<div>"+t[n]+"</div>"}this.websiteListPanel.innerHTML=e}}class ne{constructor(e,t){this.url=e,this.contentType=t,this.initFields()}initFields(){this.container_n=document.querySelector(".SettingsTurboCacheView"),this.switch=new Q(this.container_n.querySelector(".Switch")),this.container_n.querySelector("#settingsTurboCacheViewDescrP1").innerHTML=B.getMessage("settingsTurboCacheViewDescrP1"),this.container_n.querySelector("#settingsTurboCacheViewDescrP2").innerHTML=B.getMessage("settingsTurboCacheViewDescrP2"),this.container_n.querySelector("#settingsTurboCacheViewDescrP3").innerHTML=B.getMessage("settingsTurboCacheViewDescrP3")}setValues(e,t,n){this.default_v=e,this.local_v=t,this.global_v=n,this.switch.setState(this.local_v)}cancelListener(e){this.switch.setState(this.local_v),e()}applyToLocalListener(e,t){this.local_v=this.switch.enabled,e.setTurboCacheState(this.local_v),this.save(this.local_v,null,t)}applyToGlobalListener(e,t){this.local_v=this.global_v=this.switch.enabled,e.setTurboCacheState(this.local_v),this.save(null,this.global_v,t)}defaultsGlobalListener(e,t){this.local_v=this.global_v=this.default_v,e.setTurboCacheState(this.local_v),this.switch.setState(this.local_v),this.save(null,this.global_v,t)}defaultsLocalListener(e,t){this.local_v=this.default_v,e.setTurboCacheState(this.local_v),this.switch.setState(this.local_v),this.save(this.local_v,null,t)}save(e,t,n){f.send(f.Settings.ID,f.Settings.ACTION_UPDATE_TURBO_CACHE,{url:this.url,contentType:this.contentType,local_v:e,global_v:t},n)}setVisibility(e){e?C.addClass(this.container_n,"Visible"):C.removeClass(this.container_n,"Visible")}}class ie{constructor(e,t){this.url=e,this.contentType=t,this.port=null,this.initFields()}initFields(){this.container_n=document.querySelector(".SettingsSaturationView"),this.slider=new G(this.container_n.querySelector(".DARKY_Slider"),this.container_n),this.slider.onChangeListener=e=>{this.sendMessage(e)}}sendMessage(e){this.port.postMessage({property:"saturation",value:e})}setValues(e,t,n){this.default_v=e,this.local_v=t,this.global_v=n,this.slider.setValue(this.local_v)}cancelListener(e){this.slider.setValue(this.local_v),this.sendMessage(this.local_v),e()}applyToLocalListener(e,t){this.local_v=this.slider.value,e.setSaturationState(this.default_v!==this.local_v),this.save(this.local_v,null,t)}applyToGlobalListener(e,t){this.local_v=this.global_v=this.slider.value,e.setSaturationState(this.default_v!==this.local_v),this.save(null,this.global_v,t)}defaultsGlobalListener(e,t){this.local_v=this.global_v=this.default_v,e.setSaturationState(this.default_v!==this.local_v),this.slider.setValue(this.local_v),this.save(null,this.global_v,t)}defaultsLocalListener(e,t){this.local_v=this.default_v,e.setSaturationState(this.default_v!==this.local_v),this.slider.setValue(this.local_v),this.save(this.local_v,null,t)}save(e,t,n){f.send(f.Settings.ID,f.Settings.ACTION_UPDATE_SATURATION,{url:this.url,contentType:this.contentType,local_v:e,global_v:t},n)}setVisibility(e){e?C.addClass(this.container_n,"Visible"):C.removeClass(this.container_n,"Visible")}}class re{constructor(e,t){this.url=e,this.contentType=t,this.port=null,this.initFields()}initFields(){this.container_n=document.querySelector(".SettingsTemperatureView"),this.slider=new G(this.container_n.querySelector(".DARKY_Slider"),this.container_n),this.slider.onChangeListener=e=>{this.sendMessage(e)}}sendMessage(e){this.port.postMessage({property:"temperature",value:e})}setValues(e,t,n){this.default_v=e,this.local_v=t,this.global_v=n,this.slider.setValue(this.local_v)}cancelListener(e){this.slider.setValue(this.local_v),this.sendMessage(this.local_v),e()}applyToLocalListener(e,t){this.local_v=this.slider.value,e.setTemperatureState(this.default_v!==this.local_v),this.save(this.local_v,null,t)}applyToGlobalListener(e,t){this.local_v=this.global_v=this.slider.value,e.setTemperatureState(this.default_v!==this.local_v),this.save(null,this.global_v,t)}defaultsGlobalListener(e,t){this.local_v=this.global_v=this.default_v,e.setTemperatureState(this.default_v!==this.local_v),this.slider.setValue(this.local_v),this.save(null,this.global_v,t)}defaultsLocalListener(e,t){this.local_v=this.default_v,e.setTemperatureState(this.default_v!==this.local_v),this.slider.setValue(this.local_v),this.save(this.local_v,null,t)}save(e,t,n){f.send(f.Settings.ID,f.Settings.ACTION_UPDATE_TEMPERATURE,{url:this.url,contentType:this.contentType,local_v:e,global_v:t},n)}setVisibility(e){e?C.addClass(this.container_n,"Visible"):C.removeClass(this.container_n,"Visible")}}class se{static checkForCorrectField(e,t,n){var i=e.value;return!0!==n&&(i=i.trim()),e.oninput=function(){C.removeClass(e,"Invalid")},i===s?(C.addClass(e,"Invalid"),null):(C.removeClass(e,"Invalid"),i)}static checkForCorrectEmail(e,t){var n,i;return e.oninput=function(){C.removeClass(e,"Invalid")},i=(n=e.value.trim()).match("[_A-Za-z0-9-]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})"),n===s||null===i?(C.addClass(e,"Invalid"),null):(C.removeClass(e,"Invalid"),n)}static checkForCorrectPass(e,t,n){var i;return(i=se.checkForCorrectField(e,n,!0))!==se.checkForCorrectField(t,n,!0)||null===i?(C.addClass(e,"Invalid"),C.addClass(t,"Invalid"),null):(C.removeClass(e,"Invalid"),C.removeClass(t,"Invalid"),i)}static filterPhone(e){if(se.isSystemKey(e))return!0;var t=String.fromCharCode(e.which);return"+"===t?this.value===s:t>="0"&&t<="9"||" "===t}static filterNumber(e){if(se.isSystemKey(e))return!0;var t=String.fromCharCode(e.which);return"+"===t||"-"===t?this.value===s:t>="0"&&t<="9"}static filterFloat(e){if(se.isSystemKey(e))return!0;var t=String.fromCharCode(e.which);return"+"===t||"-"===t?this.value===s:t>="0"&&t<="9"||"."===t&&-1===this.value.indexOf(".")}static filterNumberUnsigned(e){var t=String.fromCharCode(e.which);return!!se.isSystemKey(e)||t>="0"&&t<="9"}static isSystemKey(e){return 8===e.keyCode||46===e.keyCode||(e.keyCode>=35&&e.keyCode<=40||0===e.which)}static setSelectValue(e,t){for(var n=e.options.length-1;n>=0;--n)if(e.options[n].value==t)return void(e.selectedIndex=n);e.selectedIndex=-1}static checkSelectValueSelected(e,t){if(typeof t===l&&(t=!1),e.oninput=function(){C.removeClass(e,"Invalid")},-1===e.selectedIndex)return t||C.addClass(e,"Invalid"),null;var n=e.options[e.selectedIndex].value;return C.removeClass(e,"Invalid"),n}}var oe=se;n(397);class ae{static init(){for(var e=document.getElementsByClassName("Input"),t=e.length;t-- >0;)ae.initInput(e[t])}static onFieldsAdded(){for(var e=document.getElementsByClassName("Input"),t=e.length;t-- >0;)null===e[t].getAttribute("init")&&(ae.initInput(e[t]),ae.invalidate(e[t]))}static signal(){for(var e=document.getElementsByClassName("Input"),t=e.length;t-- >0;)ae.invalidate(e[t])}static invalidate(e){e.value!==s?C.addClass(e,"Filled"):C.removeClass(e,"Filled")}static initInput(e){e.addEventListener("SELECT"===e.tagName?"change":"input",ae.onInput),e.setAttribute("init",s),ae.invalidate(e)}static onInput(){ae.invalidate(this)}}var le=ae;class ce{constructor(e,t,n,i,r,s,o,a){this.projectId=e,this.customUserId=t,this.email=n,this.name=i,this.imageURL=r,this.customData=s,this.container=o,this.readyCallback=a,this.messageTextWrapper=null,this.previousSenderType=0,this.previousCreationTS=0,this.currentDate=0,this.currentMonth=0,this.currentYear=0,this.initElementStructure(),this.initMessages()}static hasUnreadMessages(e,t,n){var i=[];i.push(ce.Params.ACTION+"="+ce.ActionsMessage.HAS_UNREAD_MESSAGES),i.push(ce.Params.PROJECT_ID+"="+e),i.push(ce.Params.ID+"="+t),ue.send(ce.Controllers.MESSAGE,i,e=>{var t=JSON.parse(e);if(t.status){var i="1"===t.data;n(i)}})}sendMessage(e){this.showSendLoading();var t=this.createMessageText(null,e);this.scrollToBottom();var n=[];n.push(ce.Params.ACTION+"="+ce.ActionsMessage.SEND),n.push(ce.Params.PROJECT_ID+"="+this.projectId),n.push(ce.Params.ID+"="+this.customUserId),n.push(ce.Params.EMAIL+"="+this.email),n.push(ce.Params.NAME+"="+this.name),n.push(ce.Params.IMAGE_URL+"="+this.imageURL),n.push(ce.Params.DATA+"="+this.customData),n.push(ce.Params.VALUE+"="+e),ue.send(ce.Controllers.MESSAGE,n,e=>{var n=JSON.parse(e);n.status&&(this.UI_remove(t),this.hideSendLoading(),this.checkAndAddMessage(n.data),this.scrollToBottom())})}initMessages(){var e=[];e.push(ce.Params.ACTION+"="+ce.ActionsMessage.GET_ALL),e.push(ce.Params.PROJECT_ID+"="+this.projectId),e.push(ce.Params.ID+"="+this.customUserId),ue.send(ce.Controllers.MESSAGE,e,e=>{var t=JSON.parse(e);t.status&&this.fillMessages(t.data)})}initElementStructure(){this.messageListBox=document.createElement("div"),this.container.appendChild(this.messageListBox),this.messageListBox.className="MessageListBox";var e=document.createElement("div");this.container.appendChild(e),e.className="Footer";var t=e=>{var t=e.value.trim();e.value="",""!==t&&(this.sendMessage(t),this.showSendLoading(),this.scrollToBottom())},n=document.createElement("input");e.appendChild(n),n.type="text",n.setAttribute("placeholder","Type a message"),n.focus(),n.addEventListener("keyup",e=>{switch(e.keyCode){case 13:t(n)}e.preventDefault()});var i=document.createElement("i");e.appendChild(i),i.className="material-icons",i.innerHTML='<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',i.addEventListener("click",()=>{t(n)})}fillMessages(e){if(this.UI_removeChildren(this.messageListBox),0===e.length){let e={operatorName:"Support Team",text:'When reporting a bug, please send us a screenshot of the issue using services like <a href="https://pasteboard.co" target="_blank">https://pasteboard.co</a> and the URL (if such) of the problematic page. To be able to fix a bug, we need to inspect and reproduce it.'};var t=this.createMessageItem(e);if(this.createMessageText(t,e.text),window.navigator.userAgent.indexOf("Edge")>-1){let e={operatorName:"Support Team",text:'For payment and activation related questions, check: <a href="https://billing.nighteye.app/client/login" target="_blank">https://billing.nighteye.app</a>'},t=this.createMessageItem(e);this.createMessageText(t,e.text)}}else for(var n=0;n<e.length;++n){var i=e[n];this.checkAndAddMessage(i)}this.scrollToBottom(),this.readyCallback()}checkAndAddMessage(e){var t=1e3*parseInt(e.creationTS),n=new Date(t);if(this.currentDate!==n.getDate()||this.currentMonth!==n.getMonth()||this.currentYear!==n.getYear()){this.currentDate=n.getDate(),this.currentMonth=n.getMonth(),this.currentYear=n.getYear();var i=ce.DAYS[n.getDay()]+", "+(n.getDate()<10?"0":"")+n.getDate()+"."+(n.getMonth()+1<10?"0":"")+(n.getMonth()+1)+"."+n.getFullYear(),r=document.createElement("div");this.messageListBox.appendChild(r),r.className="DateTime",r.innerHTML="<span>"+i+"</span>"}(parseInt(this.previousSenderType)!==parseInt(e.senderType)||t-this.previousCreationTS>36e4)&&(this.previousCreationTS=t,this.previousSenderType=e.senderType,this.messageTextWrapper=this.createMessageItem(e)),this.createMessageText(this.messageTextWrapper,e.text)}createMessageItem(e){var t=!1,n="Left";parseInt(e.senderType)===ce.UserType.EXTERNAL_USER&&(n="Right",t=!0);var i="";if(void 0!==e.creationTS){var r=new Date(1e3*parseInt(e.creationTS));i=", "+(r.getHours()<10?"0":"")+r.getHours()+":"+(r.getMinutes()<10?"0":"")+r.getMinutes()}var s=document.createElement("div");this.messageListBox.appendChild(s),s.className="MessageItem row "+n;var o=document.createElement("div");if(s.appendChild(o),o.className="col",!t&&void 0!==e.operatorImageURL){var a=document.createElement("img");o.appendChild(a),a.src=e.operatorImageURL}var l=document.createElement("div");s.appendChild(l),l.className="col Message";var c=document.createElement("div");return l.appendChild(c),c.className="Author",c.innerHTML=e.operatorName+i,l}createMessageText(e,t){if(t=decodeURIComponent(t),null===e){var n=document.createElement("div");this.messageListBox.appendChild(n),n.className="MessageItem row Right";var i=document.createElement("div");n.appendChild(i),i.className="col";var r=document.createElement("div");n.appendChild(r),r.className="col Message",e=r}var s=document.createElement("div");e.appendChild(s),s.className="row";var o=document.createElement("div");return s.appendChild(o),o.className="Text col",o.innerHTML=t,e}scrollToBottom(){this.messageListBox.scrollTop=this.messageListBox.scrollHeight}showSendLoading(){var e=document.createElement("div");this.messageListBox.appendChild(e),e.className="Sending",e.innerHTML="sending"}hideSendLoading(){for(var e=this.messageListBox.querySelectorAll(".Sending"),t=0;t<e.length;++t)this.UI_remove(e[t])}UI_remove(e){e.parentNode.removeChild(e)}UI_removeChildren(e){if(void 0!==e)for(var t=e.firstChild;t;)e.removeChild(t),t=e.firstChild}}class ue{static send(e,t,n){var i=new XMLHttpRequest,r=t.join("&");i.onreadystatechange=()=>{i.readyState==XMLHttpRequest.DONE&&200==i.status&&n(i.responseText)},i.open("POST",e,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(r)}}ce.Controllers={MESSAGE:"https://smsystem.razorlabs.com/exc/MessageController"},ce.Params={ACTION:"ac",PROJECT_ID:"pid",ID:"id",EMAIL:"eml",NAME:"nm",IMAGE_URL:"imgurl",DATA:"dta",VALUE:"val"},ce.ActionsMessage={SEND:"b",HAS_UNREAD_MESSAGES:"d",GET_ALL:"f"},ce.UserType={OPERATOR:1,EXTERNAL_USER:2},ce.DAYS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var he=ce;n(398),n(399);class de{constructor(){this.initFields(),this.supportSystem=null}initFields(){this.support_trigger_circle_n=document.querySelector(".SupportTrigger circle"),this.root_n=document.querySelector(".SupportComponent"),this.chat_n=this.root_n.querySelector(".SupportComponent .Chat"),this.info_n=this.root_n.querySelector(".SupportComponent .Info"),this.name_n=this.info_n.querySelector(".SupportComponent #support_name"),this.email_n=this.info_n.querySelector(".SupportComponent #support_email"),this.continue_n=this.info_n.querySelector(".Continue"),this.continue_n.addEventListener("click",()=>{var e=oe.checkForCorrectField(this.name_n);if(null!==e){var t=oe.checkForCorrectEmail(this.email_n);null!==t&&(t=encodeURIComponent(t),f.send(f.Settings.ID,f.Settings.ACTION_UPDATE_CHAT_INFO,{name:e,email:t},()=>{this.openChatWindow()}))}})}show(){this.chat_n.innerHTML=s,f.send(f.Settings.ID,f.Settings.ACTION_ON_CHAT_INFO,null,e=>{this.name_n.value=e.name,this.email_n.value=e.email,this.chat_id=e.id,this.continue_n.innerHTML=B.getMessage("supportViewContinueBtn"),C.removeClass(this.info_n,"PleaseWait"),le.signal(),C.addClass(this.info_n,"Active"),C.addClass(this.root_n,"Active"),this.name_n.value!==s&&this.openChatWindow()})}hide(){C.removeClass(this.root_n,"Active")}async openChatWindow(){var e;C.addClass(this.info_n,"PleaseWait"),this.continue_n.innerHTML=B.getMessage("supportViewPleaseWaitLbl"),e=localStorage.getItem("instance_id"),this.supportSystem=new he("CU_Ivze_DH9u7QnUOivoMA",this.chat_id,this.email_n.value,this.name_n.value,s,e,this.chat_n,()=>{C.removeClass(this.info_n,"Active"),this.invalidateMessagesIcons(!1)})}checkForUnreadMessages(e){he.hasUnreadMessages("CU_Ivze_DH9u7QnUOivoMA",e.id,e=>{this.invalidateMessagesIcons(e)})}invalidateMessagesIcons(e){!1===e?(d.showInitialBrowserIcon(),this.support_trigger_circle_n.style.opacity="0"):(d.showBrowserNotificationIcon(),this.support_trigger_circle_n.style.opacity="1")}}class fe{static init(){var e,t="",n=navigator.userAgent;if(n.indexOf("Edge")>=0)e=fe.EDGE;else if(n.indexOf("Firefox")>=0)e=fe.FIREFOX;else if(n.indexOf("ivaldi")>=0)e=fe.VIVALDI;else if(n.indexOf("YaBrowser")>=0)e=fe.YANDEX;else if(n.indexOf("OPR")>=0)e=fe.OPERA;else if(n.indexOf("hrome")>=0)e=fe.CHROME;else if(n.indexOf("afari")>=0)e=fe.SAFARI;else{var i=c.NOT_EXISTS;if(n.indexOf("MSIE")>=0?i=n.indexOf("MSIE")+4:n.indexOf(".NET")>=0&&(i=n.indexOf("rv:")+3),i!==c.NOT_EXISTS){for(e=fe.IE;" "===n.charAt(i);)++i;do{t+=n.charAt(i++)}while(n.charAt(i)>="0"&&n.charAt(i)<="9")}else e=fe.UNKNOWN}fe.nameIdentity=e,fe.version=t}static legacyCheck(){null===fe.nameIdentity&&fe.init(),fe.nameIdentity===fe.IE&&fe.version<11&&fe.showAlert()}static showAlert(){alert("OLD")}}fe.FIREFOX="Firefox",fe.OPERA="Opera",fe.CHROME="Chrome",fe.SAFARI="Safari",fe.VIVALDI="Vivaldi",fe.YANDEX="Yandex",fe.IE="IE",fe.EDGE="EDGE",fe.UNKNOWN="un",fe.nameIdentity=null,fe.version=null;var pe=fe;n(400);class ge{static init(){for(var e=document.getElementsByClassName("Ripple"),t=e.length-1;t>=0;--t)ge.invalidate(e[t])}static invalidate(e){null===e.getAttribute("init_r")&&(e.setAttribute("init_r",o),ge.add(e))}static add(e){var t;(e.addEventListener("mousedown",ge.createOnMouseDown(e)),pe.nameIdentity===pe.FIREFOX||pe.nameIdentity===pe.SAFARI)&&(e.addEventListener("mousedown",(function(){t=-1})),e.addEventListener("mouseup",(function(n){t=1,requestAnimationFrame((function(){requestAnimationFrame((function(){1===t&&e.dispatchEvent(new MouseEvent("click",n))}))}))})),e.addEventListener("click",(function(){t=0})))}static createOnMouseDown(e){return function(t){if(0===t.button){var n,i=t.clientX,r=t.clientY,s={valid:!0},o=e.offsetWidth>e.offsetHeight?e.offsetWidth<<1:e.offsetHeight<<1;s.node=document.createElement("div"),s.node.className="RippleNode",null!==e.getAttribute("color")&&(s.node.style.backgroundColor=e.getAttribute("color")),s.node.style.left=i-x.getScreenX(e)-(o>>1)+"px",s.node.style.top=r-x.getScreenY(e)-(o>>1)+"px",s.node.style.width=o+"px",s.node.style.height=o+"px",e.insertBefore(s.node,e.firstChild),requestAnimationFrame((function(){s.node.className+=" SlowTransform"})),n=ge.createOnMouseUp(e,s),e.addEventListener("mouseup",n),e.addEventListener("mouseout",n)}}}static createOnMouseUp(e,t){var n=function(i){!1!==t.value&&(t.value=!1,t.node.className+=" FastTransform",setTimeout((function(){requestAnimationFrame((function(){t.node.style.opacity=0,setTimeout((function(){t.node.parentNode===e&&e.removeChild(t.node)}),250)}))}),250),e.removeEventListener("mouseup",n),e.removeEventListener("mouseout",n))};return n}}var ve=ge;class me{constructor(){this.isShowingCustomInfoLable=!1,this.initFields()}initFields(){var e=document.querySelector(".EnabledView");this.label_n=e.querySelector(".URLLabel"),this.url_n=e.querySelector(".URL"),this.url_status_n=e.querySelector(".URLStatus"),this.dark_control_n=e.querySelector(".URLControl > div:nth-child(1)"),this.filtered_control_n=e.querySelector(".URLControl > div:nth-child(2)"),this.normal_control_n=e.querySelector(".URLControl > div:nth-child(3)"),this.url_control_n=this.dark_control_n.parentNode,this.url="",this.darkListener=null,this.filteredListener=null,this.normalListener=null,this.isOSColorSchemeCheckerEnabled=!1}addListeners(){this.dark_control_n.addEventListener("click",()=>{this.isOSColorSchemeCheckerEnabled?this.showInfoDialogForOScolorIntegration():(this.darkListener(),this.setDarkMode(p.Mode.DARK))}),this.filtered_control_n.addEventListener("click",()=>{this.isOSColorSchemeCheckerEnabled?this.showInfoDialogForOScolorIntegration():(this.filteredListener(),this.setDarkMode(p.Mode.FILTERED))}),this.normal_control_n.addEventListener("click",()=>{this.isOSColorSchemeCheckerEnabled?this.showInfoDialogForOScolorIntegration():(this.normalListener(),this.setDarkMode(p.Mode.NORMAL))})}setURL(e){this.url=e,this.url_n.innerHTML='<div class="Dots">'+e+"</div>"}setDarkMode(e){switch(e){case p.Mode.DARK:C.addClass(this.dark_control_n,"Active"),C.removeClass(this.filtered_control_n,"Active"),C.removeClass(this.normal_control_n,"Active");break;case p.Mode.FILTERED:C.removeClass(this.dark_control_n,"Active"),C.addClass(this.filtered_control_n,"Active"),C.removeClass(this.normal_control_n,"Active");break;case p.Mode.NORMAL:C.removeClass(this.dark_control_n,"Active"),C.removeClass(this.filtered_control_n,"Active"),C.addClass(this.normal_control_n,"Active")}this.isShowingCustomInfoLable||this.url_status_n.classList.add("Hidden")}init(e,t,n,i){if(this.isOSColorSchemeCheckerEnabled=i,this.isOSColorSchemeCheckerEnabled){this.isShowingCustomInfoLable=!0;var r=document.createElement("div");r.className="InfoLabel Orange",r.innerHTML='OS/Browser Color Scheme integration is activated. <a id="browserIntegrationLink" target="_blank"><u>Details</u></a></div>',this.url_status_n.appendChild(r);let e=document.getElementById("browserIntegrationLink");void 0!==e&&e.addEventListener("click",()=>{c.browser.tabs.create({url:"https://nighteye.app/help#os-integration"})})}if(!0===e)this.setDarkMode(t),this.addListeners(),C.addClass(this.dark_control_n,"Ripple Cursor"),C.addClass(this.filtered_control_n,"Ripple Cursor"),C.addClass(this.normal_control_n,"Ripple Cursor"),ve.invalidate(this.dark_control_n),ve.invalidate(this.filtered_control_n),ve.invalidate(this.normal_control_n);else if(C.addClass(this.url_status_n,"Orange"),n){var s=document.createElement("div");s.innerHTML=`${B.getMessage("labelWebsiteDarkModeListDescr")}<br><b><u>${B.getMessage("labelManageDarkModeListTitle")}</u></b>`,this.url_status_n.appendChild(s),s.addEventListener("click",(function(){c.page.trial_expired_c.showLiteVersionView()}))}else{var o="Not supported";switch(p.NotSupportedWebsites[this.url]){case p.NotSupportedWebsiteType.NOT_SUPPORTED_BY_BROWSER:o="Not supported due to browser restrictions.<br>Please open any other website.";break;case p.NotSupportedWebsiteType.NOT_SUPPORTED_BY_TEAM:o="This website is blocked from conversion.<br>Please open any other website."}this.url_status_n.innerHTML=o}}showInfoDialogForOScolorIntegration(){p.showInfoDialog(null,"OS/Browser Color scheme is active.             You need to disable it in order to manually change the modes.<br><br>             You can disable the integration from Settings -> OS Color Scheme integration.")}}var _e={onBeforeLoad:function(){_e.prepareCustomEvent()},onResizeW:function(){},onLoad:function(){_e.initHover()},pushEmptyHistoryState:function(){window.history.pushState({empty:null},document.title,document.URL)},prepareCustomEvent:function(){function e(e,t){typeof t===l&&(t={bubbles:!1,cancelable:!1,detail:void 0}),typeof t.bubbles===l&&(t.bubbles=!1),typeof t.cancelable===l&&(t.cancelable=!1);var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,window.CustomEvent=e)},initHover:function(){if(0!==navigator.maxTouchPoints&&0!==navigator.msMaxTouchPoints){var e=!1,t=function(){e=!1};document.documentElement.addEventListener("mousemove",(function(t){!0!==e&&C.removeClass(document.documentElement,"Touchable")}),!0),document.documentElement.addEventListener("touchstart",(function(n){e=!0,C.addClass(document.documentElement,"Touchable"),setTimeout(t,200)}),!0)}},xorActiveClass:function(e,t){return t=typeof t===l?this:t,!1===C.hasClass(t,"Active")?(C.addClass(t,"Active"),!0):(C.removeClass(t,"Active"),!1)},isActive:function(e){return C.hasClass(e,"Active")}},ye=_e;n(401),n(402);var we=class{constructor(){this.screenMetrics={width:0,height:0}}onBeforeLoad(){pe.init(),this.screenMetrics.width=document.body.offsetWidth,this.screenMetrics.height=document.body.offsetHeight,typeof ve!==l&&ve.init(),typeof le!==l&&le.init(),void 0!==ye.onBeforeLoad&&ye.onBeforeLoad(),null!==c.page&&void 0!==c.page.onBeforeLoad&&c.page.onBeforeLoad(),null!==c.page_cpanel&&void 0!==c.page_cpanel.onBeforeLoad&&c.page_cpanel.onBeforeLoad()}onLoad(){void 0!==ye.onLoad&&ye.onLoad(),null!==c.page&&void 0!==c.page.onLoad&&c.page.onLoad(),null!==c.page_cpanel&&void 0!==c.page_cpanel.onLoad&&c.page_cpanel.onLoad()}onResize(){var e,t,n,i;(c.mobile?(e=window.innerWidth,t=window.innerHeight):(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight),this.screenMetrics.width!==e||this.screenMetrics.height!==t)&&(n=this.screenMetrics.width,i=this.screenMetrics.height,this.screenMetrics.width=e,this.screenMetrics.height=t,n!==this.screenMetrics.width&&(void 0!==ye.onResizeW&&ye.onResizeW(),null!==c.page&&void 0!==c.page.onResizeW&&c.page.onResizeW(),null!==c.page_cpanel&&void 0!==c.page_cpanel.onResizeW&&c.page_cpanel.onResizeW()),i!==this.screenMetrics.height&&(void 0!==ye.onResizeH&&ye.onResizeH(),null!==c.page&&void 0!==c.page.onResizeH&&c.page.onResizeH(),null!==c.page_cpanel&&void 0!==c.page_cpanel.onResizeH&&c.page_cpanel.onResizeH()),void 0!==ye.onResize&&ye.onResize(),null!==c.page&&void 0!==c.page.onResize&&c.page.onResize(),null!==c.page_cpanel&&void 0!==c.page_cpanel.onResize&&c.page_cpanel.onResize(),requestAnimationFrame(()=>{this.onResize()}))}onScroll(){void 0!==ye.onScroll&&ye.onScroll(),null!==c.page&&void 0!==c.page.onScroll&&c.page.onScroll(),null!==c.page_cpanel&&void 0!==c.page_cpanel.onScroll&&c.page_cpanel.onScroll()}onPopState(e){null!==c.page_cpanel&&void 0!==c.page_cpanel.onPopState&&c.page_cpanel.onPopState(e)||null!==c.page&&void 0!==c.page.onPopState&&c.page.onPopState(e)||void 0!==ye.onPopState&&ye.onPopState(e)||-1===window.location.href.indexOf("#")&&window.history.back()}},be=new we;window.onload=function(){be.onLoad()},window.onresize=function(){be.onResize()},window.onscroll=function(){be.onScroll()},window.onpopstate=be.onPopState,be.onBeforeLoad();n(403);class Se{constructor(e,t){this.discountCode=e,this.discountType=t,this.initFields(),this.addListeners(),this.fillData()}initFields(){switch(parseInt(this.discountType)){case h:this.mainView=document.querySelector(".PaymentReminderView.LiteVersion");break;default:this.mainView=document.querySelector(".PaymentReminderView.MonthPassed"),this.mainView.querySelector("#paymentRemiderViewDescrP1").innerHTML=B.getMessage("paymentRemiderViewDescrP1"),this.mainView.querySelector("#paymentRemiderViewDescrP2").innerHTML=B.getMessage("paymentRemiderViewDescrP2"),this.mainView.querySelector("#paymentRemiderViewDescrP3").innerHTML=B.getMessage("paymentRemiderViewDescrP3"),this.mainView.querySelector("#paymentRemiderViewDescrP4").innerHTML=B.getMessage("paymentRemiderViewDescrP4")}this.mainView.querySelector(".CloseButton").innerHTML=B.getMessage("paymentRemiderViewCancelBtn")}addListeners(){this.mainView.querySelector(".ProVersionButton").addEventListener("click",()=>{c.browser.tabs.create({url:"https://billing.nighteye.app/client/login"})}),this.mainView.querySelector(".CloseButton").addEventListener("click",()=>{this.updateDiscountCodeSeen(),this.hide()})}fillData(){this.mainView.querySelector(".DiscountCode").textContent=this.discountCode}show(){C.addClass(this.mainView,"Active")}hide(){C.removeClass(this.mainView,"Active"),d.showInitialBrowserIcon()}updateDiscountCodeSeen(){var e=localStorage.getItem(D.instanceID);this.updateDiscountCodeSeenNetworkRequest(e,this.discountCode,this.discountType)}updateDiscountCodeSeenNetworkRequest(e,t,n){var i=c.CONTROLLER_URL+"/exc/InstanceController?ac=h&id="+e+"&dscode="+t+"&dstp="+n,r=new XMLHttpRequest;r.onreadystatechange=async()=>{r.readyState===XMLHttpRequest.DONE&&(200===r.status&&JSON.parse(r.responseText).status&&f.send(f.Settings.ID,f.Settings.ACTION_CHECK_LICENSE,{},()=>{}))},r.open("POST",i,!0),r.send(i)}}class Te{static shared(){return null===Te.instance&&(Te.instance=new Te),Te.instance}constructor(){}async getItem(e){let t=null;return t=localStorage.getItem(e),t}async setItem(e,t){t=localStorage.setItem(e,t)}valueType(e){return typeof e}}Te.instance=null;var Ee=Te.shared();c.page=new class extends class{constructor(){this.data=new Map,this.behaviour=new we(this),this.onDOMContentLoaded=this.onDOMContentLoaded.bind(this),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",this.onDOMContentLoaded):this.onDOMContentLoaded()}onDOMContentLoaded(){window.onload=()=>{this.behaviour.onLoad()},window.onresize=()=>{this.behaviour.onResize()},window.onscroll=()=>{this.behaviour.onScroll()},window.onpopstate=()=>{this.behaviour.onPopState()},this.behaviour.onBeforeLoad()}}{onBeforeLoad(){d.initNotSupportedWebsites();var e=setInterval(()=>{B.isReady&&(clearInterval(e),this.initTranslations())},100);this.initFields(),this.initHeaderListeners(),this.initBrowserBasedCSS(),this.disableRightClick(),this.getTabInfo()}getTabInfo(){c.browser.tabs.query({active:!0,currentWindow:!0},e=>{var t=e[0],n=t.url;void 0===n&&(n="New Tab"),this.url=d.parseURL(n),c.URL=this.url,c.browser.tabs.executeScript(t.id,{code:"document.contentType"},e=>{if(void 0===e)this.init(t,null,!1);else{var n=e[0];this.init(t,n,!0)}})})}init(e,t,n){this.contentType=t;var r="application/pdf"===this.contentType?"PDF":this.url;this.initComponents(),this.url_state_c.setURL(r),!1===n&&d.addTempNotSupportedWebsiteByBrowser(this.url),f.send(f.Settings.ID,f.Settings.ACTION_ON_START_BROWSER_ACTION,{url:this.url,contentType:this.contentType,hasTabAccess:n},async t=>{this.appInfoModel=i.fromState(A,t),!0===this.appInfoModel.supported_url&&(this.connect_attempt=0,this.connectToActiveTab(e.id)),await this.initPaymentReminder(),await this.initTrialExpired(this.appInfoModel.is_trial_expired,this.appInfoModel.isLiteVersion,this.appInfoModel.isProVersion),this.initFirstRun(this.appInfoModel.first_run),this.initURLState(this.appInfoModel.supported_url,this.appInfoModel.mode,this.appInfoModel.isLiteVersion,this.appInfoModel.isOSColorSchemeCheckerEnabled),this.initPowerState(this.appInfoModel.enabled,this.appInfoModel.day_night_timers),this.initVersionLabel(this.appInfoModel.is_trial_expired,this.appInfoModel.isLiteVersion,this.appInfoModel.isProVersion),this.initSettingsColors(this.appInfoModel.local_settings.palette),this.initSettingsImagesState(this.appInfoModel.global_settings.images.default_v,this.appInfoModel.local_settings.images.global_v,this.appInfoModel.global_settings.images.global_v),this.initSettingsBuiltInDarkThemeState(this.appInfoModel.global_settings.builtInDarkTheme.default_v,this.appInfoModel.local_settings.builtInDarkTheme.global_v,this.appInfoModel.global_settings.builtInDarkTheme.global_v),this.initSettingsTurboCacheState(this.appInfoModel.global_settings.turboCache.default_v,this.appInfoModel.local_settings.turboCache.global_v,this.appInfoModel.global_settings.turboCache.global_v),this.initSettingsBrightness(this.appInfoModel.global_settings.brightness.default_v,this.appInfoModel.local_settings.brightness.global_v,this.appInfoModel.global_settings.brightness.global_v),this.initSettingsContrast(this.appInfoModel.global_settings.contrast.default_v,this.appInfoModel.local_settings.contrast.global_v,this.appInfoModel.global_settings.contrast.global_v),this.initSettingsSaturation(this.appInfoModel.global_settings.saturation.default_v,this.appInfoModel.local_settings.saturation.global_v,this.appInfoModel.global_settings.saturation.global_v),this.initSettingsTemperature(this.appInfoModel.global_settings.temperature.default_v,this.appInfoModel.local_settings.temperature.global_v,this.appInfoModel.global_settings.temperature.global_v),this.initSettingsDim(this.appInfoModel.global_settings.dim.default_v,this.appInfoModel.local_settings.dim.global_v,this.appInfoModel.global_settings.dim.global_v),this.initSupport(),this.initOptions(this.appInfoModel.is_trial_expired,this.appInfoModel.default_mode,this.appInfoModel.day_night_timers,this.appInfoModel.isChangingScrollsEnabled,this.appInfoModel.isOSColorSchemeCheckerEnabled,this.appInfoModel.isLiteVersion,this.appInfoModel.isProVersion),this.onInitFinish()})}connectToActiveTab(e){!0===this.appInfoModel.enabled&&!0===this.appInfoModel.supported_url&&null===this.port&&(window.navigator.userAgent.indexOf("Edge")>-1?(this.port={},this.port=c.browser.runtime,this.port.postMessage=t=>{c.browser.tabs.sendMessage(e,t)}):(this.port=c.browser.tabs.connect(e),this.port.onDisconnect.addListener((t,n,i)=>{this.port=null,this.connect_attempt++>100||setTimeout(()=>{this.connectToActiveTab(e)},16)})),this.port.postMessage({property:"open_extension"}),this.port.onMessage.addListener(e=>{switch(e.property){case"open_extension":this.connect_attempt=0;break;case"load_page_hsl_colors":this.settings_colors_c.onLoadPageColors(e.data)}}),this.settings_colors_c.port=this.port,this.settings_brightness_c.port=this.port,this.settings_contrast_c.port=this.port,this.settings_saturation_c.port=this.port,this.settings_temperature_c.port=this.port,this.settings_dim_c.port=this.port)}reload(e){c.browser.tabs.query({active:!0,currentWindow:!0},t=>{c.browser.tabs.executeScript(t[0].id,{code:"window.location.reload();"}),null!==e&&typeof e!==l&&e()})}initFields(){this.body=document.querySelector("section.Body"),this.enabled_n=document.body.querySelector(".EnabledView"),this.appName=document.querySelector("header .AppName"),this.active_c=null,this.port=null}initHeaderListeners(){var e=()=>{this.restoreDefaultView()};document.querySelector(".Logo").addEventListener("click",e),document.querySelector("header label").addEventListener("click",e)}initBrowserBasedCSS(){pe.nameIdentity===pe.CHROME&&C.addClass(document.body,"Chrome")}disableRightClick(){document.addEventListener("contextmenu",e=>e.preventDefault())}initComponents(){this.initURLStateComponent(),this.initControlsComponent(),this.initSettingsComponent()}initURLStateComponent(){this.url_state_c=new me,this.url_state_c.darkListener=()=>{this.setDarkMode(d.Mode.DARK),f.send(f.Settings.ID,f.Settings.ACTION_CHANGE_MODE,{url:this.url,contentType:this.contentType,mode:d.Mode.DARK},()=>{this.reload(()=>{this.reloadData()})})},this.url_state_c.filteredListener=()=>{this.setDarkMode(d.Mode.FILTERED),f.send(f.Settings.ID,f.Settings.ACTION_CHANGE_MODE,{url:this.url,contentType:this.contentType,mode:d.Mode.FILTERED},()=>{this.reload(()=>{this.reloadData()})})},this.url_state_c.normalListener=()=>{this.setDarkMode(d.Mode.NORMAL),f.send(f.Settings.ID,f.Settings.ACTION_CHANGE_MODE,{url:this.url,contentType:this.contentType,mode:d.Mode.NORMAL},()=>{this.reload(()=>{this.reloadData()})})}}initControlsComponent(){this.controls_c=new O,this.controls_c.powerListener=e=>{this.setPowerState(e),!0===e?f.send(f.Settings.ID,f.Settings.ACTION_ENABLE,null,()=>{this.reload(()=>{this.reloadData()})}):f.send(f.Settings.ID,f.Settings.ACTION_DISABLE,null,()=>{this.reload(()=>{this.reloadData()})})},this.controls_c.cancelListener=()=>{this.active_c.cancelListener(()=>{this.restoreDefaultView()})},this.controls_c.applyToGlobalListener=()=>{this.active_c.applyToGlobalListener(this.settings_c,()=>{this.restoreDefaultView(),this.reload(()=>{this.reloadData()})})},this.controls_c.applyToLocalListener=()=>{this.active_c.applyToLocalListener(this.settings_c,()=>{this.restoreDefaultView(),this.reload(()=>{this.reloadData()})})},this.controls_c.defaultsGlobalListener=()=>{this.active_c.defaultsGlobalListener(this.settings_c,()=>{this.restoreDefaultView(),this.reload(()=>{this.reloadData()})})},this.controls_c.defaultsLocalListener=()=>{this.active_c.defaultsLocalListener(this.settings_c,()=>{this.restoreDefaultView(),this.reload(()=>{this.reloadData()})})}}initSettingsComponent(){var e=()=>{this.controls_c.setAdditionalControlsVisibility(!0),C.addClass(this.enabled_n,"Disabled")};this.settings_colors_c=new X(this),this.settings_images_c=new ee(this.url,this.contentType),this.settings_builtInDarkTheme_c=new te(this.url,this.contentType),this.settings_turboCache_c=new ne(this.url,this.contentType),this.settings_brightness_c=new Y(this.url,this.contentType),this.settings_contrast_c=new J(this.url,this.contentType),this.settings_saturation_c=new ie(this.url,this.contentType),this.settings_temperature_c=new re(this.url,this.contentType),this.settings_dim_c=new Z(this.url,this.contentType),this.settings_c=new j(this.contentType),this.settings_c.colorsListener=()=>{e(),this.settings_colors_c.loadPageColors(),this.settings_colors_c.setVisibility(!0),this.active_c=this.settings_colors_c},this.settings_c.imagesListener=()=>{e(),this.settings_images_c.setVisibility(!0),this.active_c=this.settings_images_c},this.settings_c.builtInDarkThemeListener=()=>{e(),this.settings_builtInDarkTheme_c.setVisibility(!0),this.active_c=this.settings_builtInDarkTheme_c},this.settings_c.turboCacheListener=()=>{e(),this.settings_turboCache_c.setVisibility(!0),this.active_c=this.settings_turboCache_c},this.settings_c.brightnessListener=()=>{e(),this.settings_brightness_c.setVisibility(!0),this.active_c=this.settings_brightness_c},this.settings_c.contrastListener=()=>{e(),this.settings_contrast_c.setVisibility(!0),this.active_c=this.settings_contrast_c},this.settings_c.saturationListener=()=>{e(),this.settings_saturation_c.setVisibility(!0),this.active_c=this.settings_saturation_c},this.settings_c.temperatureListener=()=>{e(),this.settings_temperature_c.setVisibility(!0),this.active_c=this.settings_temperature_c},this.settings_c.dimListener=()=>{e(),this.settings_dim_c.setVisibility(!0),this.active_c=this.settings_dim_c}}initFirstRun(e){if(!1!==e){var t=document.querySelector(".FirstRun");C.addClass(t,"Active"),t.querySelector(".Control").addEventListener("click",()=>{C.removeClass(t,"Active"),window.location.reload()}),f.send(f.Settings.ID,f.Settings.ACTION_AFTER_FIRST_RUN,null,()=>{})}}async initPaymentReminder(){var e=await Ee.getItem(D.discountCode);if(!(null==e||e===s||e.length<3)){var t=localStorage.getItem(D.discountType);null==t&&(t=u),this.payment_reminder=new Se(e,t),this.payment_reminder.show()}}async initTrialExpired(e,t,n){this.trial_expired_c=new F(this),await this.trial_expired_c.initEmail(),!1===e||t||(k.checkLicense(this.trial_expired_c.email,e,t,n),this.trial_expired_c.showMainView(),this.setTrialExpiredScreenTimestamps())}async setTrialExpiredScreenTimestamps(){var e=(new Date).getTime();null===localStorage.getItem(D.trialExpiredScreenShownTS)&&localStorage.setItem(D.trialExpiredScreenShownTS,e)}initURLState(e,t,n,i){this.url_state_c.init(e,t,n,i),!0===e?this.setDarkMode(t):(C.addClass(this.body,"Red"),this.settings_c.setMode(d.Mode.NORMAL))}initPowerState(e,t){this.controls_c.setPowerState(e),this.setPowerState(e),t.status&&(this.body.querySelector(".DisabledView .ScheduleLabel").innerHTML="                <div>Night Eye is scheduled to work <br> from "+t.startTime+" - "+t.endTime+'</div>\n                <div class="ActionLabel">Turning it on now will deactivate the schedule.</div>'),this.body.querySelector(".DisabledView").addEventListener("click",()=>{this.controls_c.setPowerState(!0),this.setPowerState(!0),f.send(f.Settings.ID,f.Settings.ACTION_ENABLE,null,()=>{this.reload(()=>{this.reloadData()})})})}initVersionLabel(e,t,n){t?this.appName.innerHTML='Night Eye <i class="Red">Lite</i>':n&&(this.appName.innerHTML="Night Eye <i>Pro</i>")}initSettingsColors(e){this.settings_c.setColorsState(!1===x.isMapEmpty(e)),this.settings_colors_c.setValues(e)}initSettingsImagesState(e,t,n){this.settings_c.setImagesState(t),this.settings_images_c.setValues(e,t,n)}initSettingsBuiltInDarkThemeState(e,t,n){this.settings_c.setBuiltInDarkThemeState(t),this.settings_builtInDarkTheme_c.setValues(e,t,n)}initSettingsTurboCacheState(e,t,n){this.settings_c.setTurboCacheState(t),this.settings_turboCache_c.setValues(e,t,n)}initSettingsBrightness(e,t,n){this.settings_c.setBrightnessState(e!==t),this.settings_brightness_c.setValues(e,t,n)}initSettingsContrast(e,t,n){this.settings_c.setContrastState(e!==t),this.settings_contrast_c.setValues(e,t,n)}initSettingsSaturation(e,t,n){this.settings_c.setSaturationState(e!==t),this.settings_saturation_c.setValues(e,t,n)}initSettingsTemperature(e,t,n){this.settings_c.setTemperatureState(e!==t),this.settings_temperature_c.setValues(e,t,n)}initSettingsDim(e,t,n){this.settings_c.setDimState(e!==t),this.settings_dim_c.setValues(e,t,n)}initSupport(){this.support_c=new de,this.support_c.checkForUnreadMessages(this.appInfoModel.chat_info)}initOptions(e,t,n,i,r,s,o){if(n.status){var a=document.querySelector(".DayNightTimersActiveLabel");a.innerHTML="Schedule is ON /"+n.startTime+" - "+n.endTime+"/",C.addClass(a,"Active")}this.options_c=new q(e,t,n,i,r,this.support_c,s,o)}onInitFinish(){C.addClass(document.querySelector(".Loading"),"Done");for(var e=document.querySelectorAll(".Initable"),t=e.length;t-- >0;)C.addClass(e[t],"Done")}setDarkMode(e){e!==d.Mode.NORMAL?C.removeClass(this.body,"Light"):C.addClass(this.body,"Light"),this.settings_c.setMode(e)}setPowerState(e){e?(C.addClass(this.body,"Enabled"),C.removeClass(this.body,"Disabled"),C.removeClass(this.body,"DarkRed")):(C.addClass(this.body,"Disabled"),C.removeClass(this.body,"Enabled"),C.addClass(this.body,"DarkRed"))}restoreDefaultView(){this.support_c.hide(),this.controls_c.setSlidingControlsVisibility(!1),this.settings_colors_c.setVisibility(!1),this.settings_images_c.setVisibility(!1),this.settings_builtInDarkTheme_c.setVisibility(!1),this.settings_turboCache_c.setVisibility(!1),this.settings_brightness_c.setVisibility(!1),this.settings_contrast_c.setVisibility(!1),this.settings_saturation_c.setVisibility(!1),this.settings_temperature_c.setVisibility(!1),this.settings_dim_c.setVisibility(!1),C.removeClass(this.enabled_n,"Disabled"),this.active_c=null}reloadData(){f.send(f.Settings.ID,f.Settings.ACTION_ON_START_BROWSER_ACTION,{url:this.url,contentType:this.contentType},e=>{this.appInfoModel=i.fromState(A,e),c.browser.tabs.query({active:!0,currentWindow:!0},e=>{this.connectToActiveTab(e[0].id)})})}showLoading(){C.addClass(document.querySelector(".ContentLoading"),"Active")}hideLoading(){C.removeClass(document.querySelector(".ContentLoading"),"Active")}initTranslations(){var e=[],t=0;for(document.getElementById("modeButtonDark").innerHTML=B.getMessage("filterModeNameDark"),document.getElementById("modeButtonDark").setAttribute("title",B.getMessage("tooltipDark")),document.getElementById("modeButtonFiltered").innerHTML=B.getMessage("filterModeNameFiltered"),document.getElementById("modeButtonFiltered").setAttribute("title",B.getMessage("tooltipFiltered")),document.getElementById("modeButtonNormal").innerHTML=B.getMessage("filterModeNameNormal"),document.getElementById("modeButtonNormal").setAttribute("title",B.getMessage("tooltipNormal")),document.getElementById("labelColors").innerHTML=B.getMessage("labelColors"),document.getElementById("labelBrightness").innerHTML=B.getMessage("labelBrightness"),document.getElementById("labelContrast").innerHTML=B.getMessage("labelContrast"),document.getElementById("labelSaturation").innerHTML=B.getMessage("labelSaturation"),document.getElementById("labelBlueLight").innerHTML=B.getMessage("labelBlueLight"),document.getElementById("labelDim").innerHTML=B.getMessage("labelDim"),document.getElementById("labelBuiltInDarkTheme").innerHTML=B.getMessage("labelBuiltInDarkTheme"),document.getElementById("labelTurboCache").innerHTML=B.getMessage("labelTurboCache"),document.getElementById("extTurnOnButton").innerHTML=B.getMessage("extTurnOnButton"),document.getElementById("extDisabledStatus").innerHTML=B.getMessage("extDisabledStatus"),document.getElementById("colorViewTitle").innerHTML=B.getMessage("colorViewTitle")+"<br><b>"+B.getMessage("labelExperimentalFeature")+"</b>",document.getElementById("colorViewDescription").innerHTML=B.getMessage("colorViewDescription"),document.getElementById("colorViewTitle2").innerHTML=document.getElementById("colorViewTitle").innerHTML,document.getElementById("colorViewDescription2").innerHTML=document.getElementById("colorViewDescription").innerHTML,document.getElementById("colorViewReplacedColor").innerHTML=B.getMessage("colorViewReplacedColor"),document.getElementById("colorViewOriginalColor").innerHTML=B.getMessage("colorViewOriginalColor"),document.getElementById("imageViewTitle").innerHTML=B.getMessage("imageViewTitle"),e=document.querySelectorAll(".SwitchLabelOn"),t=0;t<e.length;++t)e[t].innerHTML=B.getMessage("switchLabelOn");for(e=document.querySelectorAll(".SwitchLabelOff"),t=0;t<e.length;++t)e[t].innerHTML=B.getMessage("switchLabelOff");document.getElementById("brightnessViewTitle").innerHTML=B.getMessage("brightnessViewTitle"),document.getElementById("brightnessViewDescription").innerHTML=B.getMessage("brightnessViewDescription"),document.getElementById("brightnessViewCounterName").innerHTML=document.getElementById("brightnessViewTitle").innerHTML,document.getElementById("contrastViewTitle").innerHTML=B.getMessage("contrastViewTitle"),document.getElementById("contrastViewDescription").innerHTML=B.getMessage("contrastViewDescription"),document.getElementById("contrastViewCounterName").innerHTML=document.getElementById("contrastViewTitle").innerHTML,document.getElementById("saturationViewTitle").innerHTML=B.getMessage("saturationViewTitle"),document.getElementById("saturationViewDescription").innerHTML=B.getMessage("saturationViewDescription"),document.getElementById("saturationViewCounterName").innerHTML=document.getElementById("saturationViewTitle").innerHTML,document.getElementById("temperatureViewTitle").innerHTML=B.getMessage("temperatureViewTitle"),document.getElementById("temperatureViewDescription").innerHTML=B.getMessage("temperatureViewDescription"),document.getElementById("temperatureViewOption1").innerHTML=B.getMessage("temperatureViewOption1"),document.getElementById("temperatureViewOption2").innerHTML=B.getMessage("temperatureViewOption2"),document.getElementById("dimViewTitle").innerHTML=B.getMessage("dimViewTitle"),document.getElementById("dimViewDescription").innerHTML=B.getMessage("dimViewDescription"),document.getElementById("dimViewCounterName").innerHTML=document.getElementById("dimViewTitle").innerHTML,document.getElementById("refreshViewTitle").innerHTML=B.getMessage("refreshViewTitle"),document.getElementById("refreshViewDescription").innerHTML=B.getMessage("refreshViewDescription"),document.getElementById("refreshButton").innerHTML=B.getMessage("refreshButton"),document.getElementById("supportViewInfo").innerHTML=B.getMessage("supportViewInfo1")+"<br>"+B.getMessage("supportViewInfo2")+"<br>"+B.getMessage("supportViewInfo3"),document.getElementById("supportViewInputName").innerHTML=B.getMessage("supportViewInputName")+":",document.getElementById("supportViewInputEmail").innerHTML=B.getMessage("supportViewInputEmail")+":",document.getElementById("helpViewHelpButton").innerHTML=B.getMessage("helpViewHelpButton"),document.getElementById("helpViewShortcutTitle").innerHTML=B.getMessage("helpViewShortcutTitle"),document.getElementById("helpViewShortcutDescription").innerHTML=B.getMessage("helpViewShortcutDescription"),document.getElementById("helpViewLanguage").innerHTML=B.getMessage("helpViewLanguage"),document.getElementById("helpViewExportData").innerHTML=B.getMessage("helpViewExportData"),document.getElementById("helpViewImportData").innerHTML=B.getMessage("helpViewImportData"),document.getElementById("helpViewUninstallTitle").innerHTML=B.getMessage("helpViewUninstallTitle"),document.getElementById("helpViewUninstallDescription").innerHTML=B.getMessage("helpViewUninstallDescription"),document.getElementById("helpViewDefaultModeTitle").innerHTML=B.getMessage("helpViewDefaultModeTitle"),document.getElementById("helpViewDefaultModeDescription").innerHTML=B.getMessage("helpViewDefaultModeDescription"),document.getElementById("helpViewDarkScroll").innerHTML=B.getMessage("helpViewDarkScroll"),document.getElementById("helpViewDarkScrollDescr").innerHTML=B.getMessage("helpViewDarkScrollDescr"),document.getElementById("helpViewOSColorScheme").innerHTML=B.getMessage("helpViewOSColorScheme"),document.getElementById("helpViewOSColorSchemeDescr").innerHTML=B.getMessage("helpViewOSColorSchemeDescr"),document.getElementById("helpOSIntegrationLink").innerHTML=B.getMessage("helpOSIntegrationLink"),document.getElementById("helpViewTimerOn").innerHTML=B.getMessage("helpViewTimerOn"),document.getElementById("helpViewTimerOff").innerHTML=B.getMessage("helpViewTimerOff"),document.getElementById("helpViewTimerTitle").innerHTML=B.getMessage("helpViewTimerTitle"),document.getElementById("helpViewTimerDescr").innerHTML=B.getMessage("helpViewTimerDescr"),document.getElementById("helpViewWhiteListButton").innerHTML=B.getMessage("helpViewWhiteListButton"),document.getElementById("helpViewGoProTitle").innerHTML=B.getMessage("helpViewGoProTitle"),document.getElementById("helpViewManageDarkModeListTitle").innerHTML=B.getMessage("helpViewManageDarkModeListTitle"),document.getElementById("helpViewClientAreaTitle").innerHTML=B.getMessage("helpViewClientAreaTitle"),document.getElementById("trialLiteViewLiteTitle").innerHTML=B.getMessage("trialLiteViewLiteTitle"),document.getElementById("trialLiteViewLiteDescr").innerHTML=B.getMessage("trialLiteViewLiteDescr"),document.getElementById("trialLiteViewReadAbout").innerHTML=B.getMessage("trialLiteViewReadAbout"),document.getElementById("trialLiteViewSave").innerHTML=B.getMessage("trialLiteViewSave"),document.getElementById("trialLiteViewGoPro").innerHTML=B.getMessage("trialLiteViewGoPro"),document.getElementById("trialLiteViewCancel").innerHTML=B.getMessage("trialLiteViewCancel"),document.getElementById("trialProViewTitle").innerHTML=B.getMessage("trialProViewTitle"),document.getElementById("trialProViewDescrPart1").innerHTML=B.getMessage("trialProViewDescrPart1"),document.getElementById("trialProViewDescrPart2").innerHTML=B.getMessage("trialProViewDescrPart2"),document.getElementById("trialProViewPricing").innerHTML=B.getMessage("trialProViewPricing"),document.getElementById("trialProViewActivateDescr").innerHTML=B.getMessage("trialProViewActivateDescr"),document.getElementById("trialProViewActivateBtn").innerHTML=B.getMessage("trialProViewActivateBtn"),document.getElementById("trialProViewCancelBtn").innerHTML=B.getMessage("trialProViewCancelBtn"),document.getElementById("trialAlreadyActViewTitle").innerHTML=B.getMessage("trialAlreadyActViewTitle"),document.getElementById("trialAlreadyActViewDescrPart1").innerHTML=B.getMessage("trialAlreadyActViewDescrPart1"),document.getElementById("trialAlreadyActViewDescrPart2").innerHTML=B.getMessage("trialAlreadyActViewDescrPart2"),document.getElementById("trialAlreadyActViewCancelBtn").innerHTML=B.getMessage("trialAlreadyActViewCancelBtn"),document.getElementById("trailActivationViewTitle").innerHTML=B.getMessage("trailActivationViewTitle"),document.getElementById("trailActivationViewActiveteBtn").innerHTML=B.getMessage("trailActivationViewActiveteBtn"),document.getElementById("trailActivationViewClientArea").innerHTML=B.getMessage("trailActivationViewClientArea"),document.getElementById("trailActivationViewCancelBtn").innerHTML=B.getMessage("trailActivationViewCancelBtn"),document.getElementById("trailSuccessActViewTitle").innerHTML=B.getMessage("trailSuccessActViewTitle"),document.getElementById("trailSuccessActViewDescrPart1").innerHTML=B.getMessage("trailSuccessActViewDescrPart1"),document.getElementById("trailSuccessActViewDescrPart2").innerHTML=B.getMessage("trailSuccessActViewDescrPart2"),document.getElementById("trailSuccessActViewDescrPart3").innerHTML=B.getMessage("trailSuccessActViewDescrPart3"),document.getElementById("trailSuccessActViewDescrPart4").innerHTML=B.getMessage("trailSuccessActViewDescrPart4"),document.getElementById("trailSuccessActViewContinueBtn").innerHTML=B.getMessage("trailSuccessActViewContinueBtn"),document.getElementById("trailLogoutViewTitle").innerHTML=B.getMessage("trailLogoutViewTitle"),document.getElementById("trailLogoutViewDescrPart1").innerHTML=B.getMessage("trailLogoutViewDescrPart1"),document.getElementById("trailLogoutViewDescrPart2").innerHTML=B.getMessage("trailLogoutViewDescrPart2"),document.getElementById("trailLogoutViewControlPanel").innerHTML=B.getMessage("trailLogoutViewControlPanel"),document.getElementById("trailLogoutViewDescrPart3").innerHTML=B.getMessage("trailLogoutViewDescrPart3"),document.getElementById("trailLogoutViewDeactivateBtn").innerHTML=B.getMessage("trailLogoutViewDeactivateBtn"),document.getElementById("trailLogoutViewCancelBtn").innerHTML=B.getMessage("trailLogoutViewCancelBtn"),document.getElementById("trialExpiredViewTitle").innerHTML=B.getMessage("trialExpiredViewTitle"),document.getElementById("trialExpiredViewDescrPart1").innerHTML=B.getMessage("trialExpiredViewDescrPart1"),document.getElementById("trialExpiredViewDescrPart2").innerHTML=B.getMessage("trialExpiredViewDescrPart2"),document.getElementById("trialExpiredViewDescrPart3").innerHTML=B.getMessage("trialExpiredViewDescrPart3"),document.getElementById("trialExpiredViewDescrPart4").innerHTML=B.getMessage("trialExpiredViewDescrPart4"),document.getElementById("trialExpiredViewDescrPart5").innerHTML=B.getMessage("trialExpiredViewDescrPart5"),document.getElementById("trialExpiredViewDescrPart6").innerHTML=B.getMessage("trialExpiredViewDescrPart6"),document.getElementById("firstRunViewTitle").innerHTML=B.getMessage("firstRunViewTitle");var n=c.EDGE_LIMITATION_DATE.getTime(),i=(new Date).getTime();if(window.navigator.userAgent.indexOf("Edge")>-1&&i<n){var r=document.getElementById("firstRunViewFeature2").parentNode;r.parentNode.removeChild(r);var s=document.querySelector(".Options .ClientArea");s.parentNode.removeChild(s),(s=document.querySelector(".Options .GoProLink")).parentNode.removeChild(s)}switch(document.getElementById("controlsPanelButtonCancel").innerHTML=B.getMessage("controlsPanelButtonCancel"),document.getElementById("controlsPanelButtonDefault").innerHTML=B.getMessage("controlsPanelButtonDefault"),document.getElementById("controlsPanelButtonApply").innerHTML=B.getMessage("controlsPanelButtonApply"),document.getElementById("controlsPanelButtonApplyToAllWebsites").innerHTML=B.getMessage("controlsPanelButtonApplyTo")+"<br>"+B.getMessage("controlsPanelAllWebsites"),document.getElementById("controlsPanelButtonApplyToCurrentWebsite").innerHTML=B.getMessage("controlsPanelButtonApplyTo")+"<br>"+B.getMessage("controlsPanelCurrentWebsite"),document.getElementById("controlsPanelButtonRestoreToAllWebsites").innerHTML=B.getMessage("controlsPanelButtonRestoreTo")+"<br>"+B.getMessage("controlsPanelForAllWebsites"),document.getElementById("controlsPanelButtonRestoreToCurrentWebsite").innerHTML=B.getMessage("controlsPanelButtonRestoreTo")+"<br>"+B.getMessage("controlsPanelForCurrentWebsite"),B.getLanguage()){case"ru":for(e=document.body.querySelectorAll(".Settings .Control span"),t=0;t<e.length;++t)e[t].style.fontSize="8px";for(e=document.body.querySelectorAll("footer .DefaultsControls > div"),t=0;t<e.length;++t)e[t].style.fontSize="11px";for(e=document.body.querySelectorAll(".PageHome .URLControl > div"),t=0;t<e.length;++t)e[t].style.fontSize="10px",1===t&&(e[t].style.paddingLeft="15px",e[t].style.paddingRight="15px");break;case"bg":for(e=document.body.querySelectorAll(".PageHome .URLControl > div"),t=0;t<e.length;++t)1===t&&(e[t].style.paddingLeft="15px",e[t].style.paddingRight="15px")}}}}]);